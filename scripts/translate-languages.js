#!/usr/bin/env node

const fs = require('fs')
const path = require('path')

// Basic translations for common UI terms in all 14 languages
const commonTranslations = {
  bg: { // Bulgarian
    // Common
    'Save': 'Запази',
    'Cancel': 'Отказ',
    'Delete': 'Изтрий',
    'Edit': 'Редактирай',
    'Close': 'Затвори',
    'Loading...': 'Зареждане...',
    'Error': 'Грешка',
    'Success': 'Успех',
    'Warning': 'Предупреждение',
    'Confirm': 'Потвърди',
    'Yes': 'Да',
    'No': 'Не',
    'Settings': 'Настройки',
    'Back': 'Назад',
    'Home': 'Начало',
    'Done': 'Готово',
    'Add': 'Добави',
    'Remove': 'Премахни',
    'Reset': 'Нулирай',
    'Apply': 'Приложи',
    'Search': 'Търси',
    'Filter': 'Филтър',
    'Sort': 'Сортирай',
    'Refresh': 'Опресни',
    'Upload': 'Качи',
    'Download': 'Изтегли',
    'Share': 'Сподели',
    'Copy': 'Копирай',
    'Paste': 'Постави',
    'Undo': 'Отмени',
    'Redo': 'Повтори',
    // Auth
    'Login': 'Вход',
    'Logout': 'Изход',
    'Email': 'Имейл',
    'Password': 'Парола',
    // Timer
    'Start': 'Старт',
    'Stop': 'Стоп',
    'Pause': 'Пауза',
    'Minutes': 'Минути',
    'Seconds': 'Секунди',
  },
  cs: { // Czech
    'Save': 'Uložit',
    'Cancel': 'Zrušit',
    'Delete': 'Smazat',
    'Edit': 'Upravit',
    'Close': 'Zavřít',
    'Loading...': 'Načítání...',
    'Error': 'Chyba',
    'Success': 'Úspěch',
    'Warning': 'Varování',
    'Confirm': 'Potvrdit',
    'Yes': 'Ano',
    'No': 'Ne',
    'Settings': 'Nastavení',
    'Back': 'Zpět',
    'Home': 'Domů',
    'Done': 'Hotovo',
    'Add': 'Přidat',
    'Remove': 'Odebrat',
    'Reset': 'Obnovit',
    'Apply': 'Použít',
    'Search': 'Hledat',
    'Filter': 'Filtr',
    'Sort': 'Seřadit',
    'Refresh': 'Obnovit',
    'Upload': 'Nahrát',
    'Download': 'Stáhnout',
    'Share': 'Sdílet',
    'Copy': 'Kopírovat',
    'Paste': 'Vložit',
    'Undo': 'Zpět',
    'Redo': 'Znovu',
    'Login': 'Přihlásit',
    'Logout': 'Odhlásit',
    'Email': 'E-mail',
    'Password': 'Heslo',
    'Start': 'Start',
    'Stop': 'Stop',
    'Pause': 'Pauza',
    'Minutes': 'Minuty',
    'Seconds': 'Sekundy',
  },
  da: { // Danish
    'Save': 'Gem',
    'Cancel': 'Annuller',
    'Delete': 'Slet',
    'Edit': 'Rediger',
    'Close': 'Luk',
    'Loading...': 'Indlæser...',
    'Error': 'Fejl',
    'Success': 'Succes',
    'Warning': 'Advarsel',
    'Confirm': 'Bekræft',
    'Yes': 'Ja',
    'No': 'Nej',
    'Settings': 'Indstillinger',
    'Back': 'Tilbage',
    'Home': 'Hjem',
    'Done': 'Færdig',
    'Add': 'Tilføj',
    'Remove': 'Fjern',
    'Reset': 'Nulstil',
    'Apply': 'Anvend',
    'Search': 'Søg',
    'Filter': 'Filter',
    'Sort': 'Sorter',
    'Refresh': 'Opdater',
    'Upload': 'Upload',
    'Download': 'Download',
    'Share': 'Del',
    'Copy': 'Kopier',
    'Paste': 'Indsæt',
    'Undo': 'Fortryd',
    'Redo': 'Gentag',
    'Login': 'Log ind',
    'Logout': 'Log ud',
    'Email': 'E-mail',
    'Password': 'Adgangskode',
    'Start': 'Start',
    'Stop': 'Stop',
    'Pause': 'Pause',
    'Minutes': 'Minutter',
    'Seconds': 'Sekunder',
  },
  et: { // Estonian
    'Save': 'Salvesta',
    'Cancel': 'Tühista',
    'Delete': 'Kustuta',
    'Edit': 'Muuda',
    'Close': 'Sulge',
    'Loading...': 'Laadimine...',
    'Error': 'Viga',
    'Success': 'Õnnestus',
    'Warning': 'Hoiatus',
    'Confirm': 'Kinnita',
    'Yes': 'Jah',
    'No': 'Ei',
    'Settings': 'Seaded',
    'Back': 'Tagasi',
    'Home': 'Avaleht',
    'Done': 'Valmis',
    'Add': 'Lisa',
    'Remove': 'Eemalda',
    'Reset': 'Lähtesta',
    'Apply': 'Rakenda',
    'Search': 'Otsi',
    'Filter': 'Filter',
    'Sort': 'Sorteeri',
    'Refresh': 'Värskenda',
    'Upload': 'Laadi üles',
    'Download': 'Laadi alla',
    'Share': 'Jaga',
    'Copy': 'Kopeeri',
    'Paste': 'Kleebi',
    'Undo': 'Võta tagasi',
    'Redo': 'Tee uuesti',
    'Login': 'Logi sisse',
    'Logout': 'Logi välja',
    'Email': 'E-post',
    'Password': 'Parool',
    'Start': 'Alusta',
    'Stop': 'Peata',
    'Pause': 'Paus',
    'Minutes': 'Minutid',
    'Seconds': 'Sekundid',
  },
  fi: { // Finnish
    'Save': 'Tallenna',
    'Cancel': 'Peruuta',
    'Delete': 'Poista',
    'Edit': 'Muokkaa',
    'Close': 'Sulje',
    'Loading...': 'Ladataan...',
    'Error': 'Virhe',
    'Success': 'Onnistui',
    'Warning': 'Varoitus',
    'Confirm': 'Vahvista',
    'Yes': 'Kyllä',
    'No': 'Ei',
    'Settings': 'Asetukset',
    'Back': 'Takaisin',
    'Home': 'Koti',
    'Done': 'Valmis',
    'Add': 'Lisää',
    'Remove': 'Poista',
    'Reset': 'Nollaa',
    'Apply': 'Käytä',
    'Search': 'Hae',
    'Filter': 'Suodata',
    'Sort': 'Lajittele',
    'Refresh': 'Päivitä',
    'Upload': 'Lataa',
    'Download': 'Lataa',
    'Share': 'Jaa',
    'Copy': 'Kopioi',
    'Paste': 'Liitä',
    'Undo': 'Kumoa',
    'Redo': 'Tee uudelleen',
    'Login': 'Kirjaudu',
    'Logout': 'Kirjaudu ulos',
    'Email': 'Sähköposti',
    'Password': 'Salasana',
    'Start': 'Aloita',
    'Stop': 'Lopeta',
    'Pause': 'Tauko',
    'Minutes': 'Minuutit',
    'Seconds': 'Sekunnit',
  },
  ga: { // Irish
    'Save': 'Sábháil',
    'Cancel': 'Cealaigh',
    'Delete': 'Scrios',
    'Edit': 'Cuir in eagar',
    'Close': 'Dún',
    'Loading...': 'Ag lódáil...',
    'Error': 'Earráid',
    'Success': 'D\'éirigh leis',
    'Warning': 'Rabhadh',
    'Confirm': 'Deimhnigh',
    'Yes': 'Tá',
    'No': 'Níl',
    'Settings': 'Socruithe',
    'Back': 'Ar ais',
    'Home': 'Baile',
    'Done': 'Déanta',
    'Add': 'Cuir leis',
    'Remove': 'Bain',
    'Reset': 'Athshocraigh',
    'Apply': 'Cuir i bhfeidhm',
    'Search': 'Cuardaigh',
    'Filter': 'Scagaire',
    'Sort': 'Sórtáil',
    'Refresh': 'Athnuaigh',
    'Upload': 'Uaslódáil',
    'Download': 'Íoslódáil',
    'Share': 'Comhroinn',
    'Copy': 'Cóipeáil',
    'Paste': 'Greamaigh',
    'Undo': 'Cealaigh',
    'Redo': 'Athdhéan',
    'Login': 'Logáil isteach',
    'Logout': 'Logáil amach',
    'Email': 'Ríomhphost',
    'Password': 'Pasfhocal',
    'Start': 'Tosaigh',
    'Stop': 'Stop',
    'Pause': 'Sos',
    'Minutes': 'Nóiméid',
    'Seconds': 'Soicindí',
  },
  hr: { // Croatian
    'Save': 'Spremi',
    'Cancel': 'Odustani',
    'Delete': 'Izbriši',
    'Edit': 'Uredi',
    'Close': 'Zatvori',
    'Loading...': 'Učitavanje...',
    'Error': 'Greška',
    'Success': 'Uspjeh',
    'Warning': 'Upozorenje',
    'Confirm': 'Potvrdi',
    'Yes': 'Da',
    'No': 'Ne',
    'Settings': 'Postavke',
    'Back': 'Natrag',
    'Home': 'Početna',
    'Done': 'Gotovo',
    'Add': 'Dodaj',
    'Remove': 'Ukloni',
    'Reset': 'Poništi',
    'Apply': 'Primijeni',
    'Search': 'Traži',
    'Filter': 'Filter',
    'Sort': 'Sortiraj',
    'Refresh': 'Osvježi',
    'Upload': 'Prenesi',
    'Download': 'Preuzmi',
    'Share': 'Podijeli',
    'Copy': 'Kopiraj',
    'Paste': 'Zalijepi',
    'Undo': 'Poništi',
    'Redo': 'Ponovi',
    'Login': 'Prijava',
    'Logout': 'Odjava',
    'Email': 'E-pošta',
    'Password': 'Lozinka',
    'Start': 'Početak',
    'Stop': 'Zaustavi',
    'Pause': 'Pauza',
    'Minutes': 'Minute',
    'Seconds': 'Sekunde',
  },
  hu: { // Hungarian
    'Save': 'Mentés',
    'Cancel': 'Mégse',
    'Delete': 'Törlés',
    'Edit': 'Szerkesztés',
    'Close': 'Bezárás',
    'Loading...': 'Betöltés...',
    'Error': 'Hiba',
    'Success': 'Sikeres',
    'Warning': 'Figyelmeztetés',
    'Confirm': 'Megerősítés',
    'Yes': 'Igen',
    'No': 'Nem',
    'Settings': 'Beállítások',
    'Back': 'Vissza',
    'Home': 'Kezdőlap',
    'Done': 'Kész',
    'Add': 'Hozzáadás',
    'Remove': 'Eltávolítás',
    'Reset': 'Visszaállítás',
    'Apply': 'Alkalmaz',
    'Search': 'Keresés',
    'Filter': 'Szűrő',
    'Sort': 'Rendezés',
    'Refresh': 'Frissítés',
    'Upload': 'Feltöltés',
    'Download': 'Letöltés',
    'Share': 'Megosztás',
    'Copy': 'Másolás',
    'Paste': 'Beillesztés',
    'Undo': 'Visszavonás',
    'Redo': 'Ismét',
    'Login': 'Bejelentkezés',
    'Logout': 'Kijelentkezés',
    'Email': 'E-mail',
    'Password': 'Jelszó',
    'Start': 'Indítás',
    'Stop': 'Leállítás',
    'Pause': 'Szünet',
    'Minutes': 'Percek',
    'Seconds': 'Másodpercek',
  },
  lt: { // Lithuanian
    'Save': 'Išsaugoti',
    'Cancel': 'Atšaukti',
    'Delete': 'Ištrinti',
    'Edit': 'Redaguoti',
    'Close': 'Uždaryti',
    'Loading...': 'Kraunama...',
    'Error': 'Klaida',
    'Success': 'Sėkmė',
    'Warning': 'Įspėjimas',
    'Confirm': 'Patvirtinti',
    'Yes': 'Taip',
    'No': 'Ne',
    'Settings': 'Nustatymai',
    'Back': 'Atgal',
    'Home': 'Pradžia',
    'Done': 'Atlikta',
    'Add': 'Pridėti',
    'Remove': 'Pašalinti',
    'Reset': 'Atstatyti',
    'Apply': 'Taikyti',
    'Search': 'Ieškoti',
    'Filter': 'Filtras',
    'Sort': 'Rūšiuoti',
    'Refresh': 'Atnaujinti',
    'Upload': 'Įkelti',
    'Download': 'Atsisiųsti',
    'Share': 'Dalintis',
    'Copy': 'Kopijuoti',
    'Paste': 'Įklijuoti',
    'Undo': 'Atšaukti',
    'Redo': 'Pakartoti',
    'Login': 'Prisijungti',
    'Logout': 'Atsijungti',
    'Email': 'El. paštas',
    'Password': 'Slaptažodis',
    'Start': 'Pradėti',
    'Stop': 'Sustabdyti',
    'Pause': 'Pristabdyti',
    'Minutes': 'Minutės',
    'Seconds': 'Sekundės',
  },
  lv: { // Latvian
    'Save': 'Saglabāt',
    'Cancel': 'Atcelt',
    'Delete': 'Dzēst',
    'Edit': 'Rediģēt',
    'Close': 'Aizvērt',
    'Loading...': 'Ielādē...',
    'Error': 'Kļūda',
    'Success': 'Veiksmīgi',
    'Warning': 'Brīdinājums',
    'Confirm': 'Apstiprināt',
    'Yes': 'Jā',
    'No': 'Nē',
    'Settings': 'Iestatījumi',
    'Back': 'Atpakaļ',
    'Home': 'Sākums',
    'Done': 'Gatavs',
    'Add': 'Pievienot',
    'Remove': 'Noņemt',
    'Reset': 'Atiestatīt',
    'Apply': 'Pielietot',
    'Search': 'Meklēt',
    'Filter': 'Filtrs',
    'Sort': 'Kārtot',
    'Refresh': 'Atsvaidzināt',
    'Upload': 'Augšupielādēt',
    'Download': 'Lejupielādēt',
    'Share': 'Dalīties',
    'Copy': 'Kopēt',
    'Paste': 'Ielīmēt',
    'Undo': 'Atsaukt',
    'Redo': 'Atkārtot',
    'Login': 'Pieteikties',
    'Logout': 'Iziet',
    'Email': 'E-pasts',
    'Password': 'Parole',
    'Start': 'Sākt',
    'Stop': 'Apturēt',
    'Pause': 'Pauze',
    'Minutes': 'Minūtes',
    'Seconds': 'Sekundes',
  },
  no: { // Norwegian
    'Save': 'Lagre',
    'Cancel': 'Avbryt',
    'Delete': 'Slett',
    'Edit': 'Rediger',
    'Close': 'Lukk',
    'Loading...': 'Laster...',
    'Error': 'Feil',
    'Success': 'Suksess',
    'Warning': 'Advarsel',
    'Confirm': 'Bekreft',
    'Yes': 'Ja',
    'No': 'Nei',
    'Settings': 'Innstillinger',
    'Back': 'Tilbake',
    'Home': 'Hjem',
    'Done': 'Ferdig',
    'Add': 'Legg til',
    'Remove': 'Fjern',
    'Reset': 'Tilbakestill',
    'Apply': 'Bruk',
    'Search': 'Søk',
    'Filter': 'Filter',
    'Sort': 'Sorter',
    'Refresh': 'Oppdater',
    'Upload': 'Last opp',
    'Download': 'Last ned',
    'Share': 'Del',
    'Copy': 'Kopier',
    'Paste': 'Lim inn',
    'Undo': 'Angre',
    'Redo': 'Gjør om',
    'Login': 'Logg inn',
    'Logout': 'Logg ut',
    'Email': 'E-post',
    'Password': 'Passord',
    'Start': 'Start',
    'Stop': 'Stopp',
    'Pause': 'Pause',
    'Minutes': 'Minutter',
    'Seconds': 'Sekunder',
  },
  ro: { // Romanian
    'Save': 'Salvează',
    'Cancel': 'Anulează',
    'Delete': 'Șterge',
    'Edit': 'Editează',
    'Close': 'Închide',
    'Loading...': 'Se încarcă...',
    'Error': 'Eroare',
    'Success': 'Succes',
    'Warning': 'Avertisment',
    'Confirm': 'Confirmă',
    'Yes': 'Da',
    'No': 'Nu',
    'Settings': 'Setări',
    'Back': 'Înapoi',
    'Home': 'Acasă',
    'Done': 'Gata',
    'Add': 'Adaugă',
    'Remove': 'Elimină',
    'Reset': 'Resetează',
    'Apply': 'Aplică',
    'Search': 'Caută',
    'Filter': 'Filtru',
    'Sort': 'Sortează',
    'Refresh': 'Reîmprospătează',
    'Upload': 'Încarcă',
    'Download': 'Descarcă',
    'Share': 'Distribuie',
    'Copy': 'Copiază',
    'Paste': 'Lipește',
    'Undo': 'Anulează',
    'Redo': 'Refă',
    'Login': 'Autentificare',
    'Logout': 'Deconectare',
    'Email': 'Email',
    'Password': 'Parolă',
    'Start': 'Start',
    'Stop': 'Stop',
    'Pause': 'Pauză',
    'Minutes': 'Minute',
    'Seconds': 'Secunde',
  },
  sk: { // Slovak
    'Save': 'Uložiť',
    'Cancel': 'Zrušiť',
    'Delete': 'Vymazať',
    'Edit': 'Upraviť',
    'Close': 'Zavrieť',
    'Loading...': 'Načítava sa...',
    'Error': 'Chyba',
    'Success': 'Úspech',
    'Warning': 'Upozornenie',
    'Confirm': 'Potvrdiť',
    'Yes': 'Áno',
    'No': 'Nie',
    'Settings': 'Nastavenia',
    'Back': 'Späť',
    'Home': 'Domov',
    'Done': 'Hotovo',
    'Add': 'Pridať',
    'Remove': 'Odstrániť',
    'Reset': 'Obnoviť',
    'Apply': 'Použiť',
    'Search': 'Hľadať',
    'Filter': 'Filter',
    'Sort': 'Zoradiť',
    'Refresh': 'Obnoviť',
    'Upload': 'Nahrať',
    'Download': 'Stiahnuť',
    'Share': 'Zdieľať',
    'Copy': 'Kopírovať',
    'Paste': 'Prilepiť',
    'Undo': 'Späť',
    'Redo': 'Znova',
    'Login': 'Prihlásiť',
    'Logout': 'Odhlásiť',
    'Email': 'E-mail',
    'Password': 'Heslo',
    'Start': 'Štart',
    'Stop': 'Stop',
    'Pause': 'Pauza',
    'Minutes': 'Minúty',
    'Seconds': 'Sekundy',
  },
  sl: { // Slovenian
    'Save': 'Shrani',
    'Cancel': 'Prekliči',
    'Delete': 'Izbriši',
    'Edit': 'Uredi',
    'Close': 'Zapri',
    'Loading...': 'Nalaganje...',
    'Error': 'Napaka',
    'Success': 'Uspeh',
    'Warning': 'Opozorilo',
    'Confirm': 'Potrdi',
    'Yes': 'Da',
    'No': 'Ne',
    'Settings': 'Nastavitve',
    'Back': 'Nazaj',
    'Home': 'Domov',
    'Done': 'Končano',
    'Add': 'Dodaj',
    'Remove': 'Odstrani',
    'Reset': 'Ponastavi',
    'Apply': 'Uporabi',
    'Search': 'Išči',
    'Filter': 'Filter',
    'Sort': 'Razvrsti',
    'Refresh': 'Osveži',
    'Upload': 'Naloži',
    'Download': 'Prenesi',
    'Share': 'Deli',
    'Copy': 'Kopiraj',
    'Paste': 'Prilepi',
    'Undo': 'Razveljavi',
    'Redo': 'Ponovi',
    'Login': 'Prijava',
    'Logout': 'Odjava',
    'Email': 'E-pošta',
    'Password': 'Geslo',
    'Start': 'Začni',
    'Stop': 'Ustavi',
    'Pause': 'Premor',
    'Minutes': 'Minute',
    'Seconds': 'Sekunde',
  },
}

// Function to apply translations to a language file
function applyTranslations(languageCode, languageName) {
  const filePath = path.join(__dirname, `../packages/ui/src/i18n/locales/base/${languageCode}.ts`)
  
  if (!fs.existsSync(filePath)) {
    console.log(`❌ ${languageName} file not found at ${filePath}`)
    return
  }
  
  let content = fs.readFileSync(filePath, 'utf8')
  const translations = commonTranslations[languageCode] || {}
  let changeCount = 0
  
  // Apply each translation
  Object.entries(translations).forEach(([english, translated]) => {
    // Escape special regex characters
    const escapedEnglish = english.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
    // Match patterns like: key: 'English text',
    const regex = new RegExp(`(:\\s*)'${escapedEnglish}'(,?)`, 'g')
    const newContent = content.replace(regex, (match, before, after) => {
      changeCount++
      return `${before}'${translated}'${after}`
    })
    content = newContent
  })
  
  // Update the comment to indicate partial translation
  content = content.replace(
    /\/\/ .+ translations - TO BE COMPLETED/,
    `// ${languageName} translations - PARTIALLY TRANSLATED
// Note: Only common UI terms have been translated. Full translation needed for production use.`
  )
  
  fs.writeFileSync(filePath, content)
  console.log(`✅ ${languageName} (${languageCode}): Translated ${changeCount} common terms`)
  
  return changeCount
}

// Main execution
console.log('Starting translation of common UI terms for all new languages...\n')

const languages = [
  { code: 'bg', name: 'Bulgarian' },
  { code: 'cs', name: 'Czech' },
  { code: 'da', name: 'Danish' },
  { code: 'et', name: 'Estonian' },
  { code: 'fi', name: 'Finnish' },
  { code: 'ga', name: 'Irish' },
  { code: 'hr', name: 'Croatian' },
  { code: 'hu', name: 'Hungarian' },
  { code: 'lt', name: 'Lithuanian' },
  { code: 'lv', name: 'Latvian' },
  { code: 'no', name: 'Norwegian' },
  { code: 'ro', name: 'Romanian' },
  { code: 'sk', name: 'Slovak' },
  { code: 'sl', name: 'Slovenian' }
]

let totalTranslated = 0

languages.forEach(({ code, name }) => {
  const count = applyTranslations(code, name)
  totalTranslated += count || 0
})

console.log(`\n✅ Total translations applied: ${totalTranslated}`)
console.log('\n⚠️  IMPORTANT: These are partial translations covering only the most common UI terms.')
console.log('For a complete production-ready translation, you need:')
console.log('1. Professional translation of all 457 strings per language')
console.log('2. Review by native speakers')
console.log('3. Context-appropriate translations for domain-specific terms')
console.log('\nRecommended translation services:')
console.log('- DeepL API (https://www.deepl.com/pro-api)')
console.log('- Google Cloud Translation API')
console.log('- Crowdin (https://crowdin.com)')
console.log('- Lokalise (https://lokalise.com)')
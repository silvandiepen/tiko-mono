(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function In(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const se={},Jt=[],Ze=()=>{},al=()=>!1,Er=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jn=t=>t.startsWith("onUpdate:"),we=Object.assign,$n=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ll=Object.prototype.hasOwnProperty,Z=(t,e)=>ll.call(t,e),N=Array.isArray,Qt=t=>Fs(t)==="[object Map]",os=t=>Fs(t)==="[object Set]",hi=t=>Fs(t)==="[object Date]",F=t=>typeof t=="function",de=t=>typeof t=="string",Ve=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",go=t=>(le(t)||F(t))&&F(t.then)&&F(t.catch),vo=Object.prototype.toString,Fs=t=>vo.call(t),cl=t=>Fs(t).slice(8,-1),_o=t=>Fs(t)==="[object Object]",Rn=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ys=In(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ul=/-(\w)/g,Ue=Tr(t=>t.replace(ul,(e,s)=>s?s.toUpperCase():"")),dl=/\B([A-Z])/g,At=Tr(t=>t.replace(dl,"-$1").toLowerCase()),Ar=Tr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Kr=Tr(t=>t?`on${Ar(t)}`:""),St=(t,e)=>!Object.is(t,e),ar=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},dn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},fr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let fi;const Or=()=>fi||(fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xr(t){if(N(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=de(r)?gl(r):xr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(de(t)||le(t))return t}const hl=/;(?![^(]*\))/g,fl=/:([^]+)/,pl=/\/\*[^]*?\*\//g;function gl(t){const e={};return t.replace(pl,"").split(hl).forEach(s=>{if(s){const r=s.split(fl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function R(t){let e="";if(de(t))e=t;else if(N(t))for(let s=0;s<t.length;s++){const r=R(t[s]);r&&(e+=r+" ")}else if(le(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const vl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_l=In(vl);function mo(t){return!!t||t===""}function ml(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Bs(t[r],e[r]);return s}function Bs(t,e){if(t===e)return!0;let s=hi(t),r=hi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=Ve(t),r=Ve(e),s||r)return t===e;if(s=N(t),r=N(e),s||r)return s&&r?ml(t,e):!1;if(s=le(t),r=le(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Bs(t[o],e[o]))return!1}}return String(t)===String(e)}function Ln(t,e){return t.findIndex(s=>Bs(s,e))}const yo=t=>!!(t&&t.__v_isRef===!0),Be=t=>de(t)?t:t==null?"":N(t)||le(t)&&(t.toString===vo||!F(t.toString))?yo(t)?Be(t.value):JSON.stringify(t,bo,2):String(t),bo=(t,e)=>yo(e)?bo(t,e.value):Qt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Wr(r,i)+" =>"]=n,s),{})}:os(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Wr(s))}:Ve(e)?Wr(e):le(e)&&!N(e)&&!_o(e)?String(e):e,Wr=(t,e="")=>{var s;return Ve(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ye;class wo{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ye,!e&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ye;try{return ye=this,e()}finally{ye=s}}}on(){++this._on===1&&(this.prevScope=ye,ye=this)}off(){this._on>0&&--this._on===0&&(ye=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function So(t){return new wo(t)}function ko(){return ye}function yl(t,e=!1){ye&&ye.cleanups.push(t)}let ae;const Gr=new WeakSet;class Eo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ye&&ye.active&&ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gr.has(this)&&(Gr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ao(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pi(this),Oo(this);const e=ae,s=qe;ae=this,qe=!0;try{return this.fn()}finally{xo(this),ae=e,qe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Nn(e);this.deps=this.depsTail=void 0,pi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hn(this)&&this.run()}get dirty(){return hn(this)}}let To=0,bs,ws;function Ao(t,e=!1){if(t.flags|=8,e){t.next=ws,ws=t;return}t.next=bs,bs=t}function Un(){To++}function Dn(){if(--To>0)return;if(ws){let e=ws;for(ws=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;bs;){let e=bs;for(bs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Oo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function xo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Nn(r),bl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function hn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Po(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Po(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===js)||(t.globalVersion=js,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!hn(t))))return;t.flags|=2;const e=t.dep,s=ae,r=qe;ae=t,qe=!0;try{Oo(t);const n=t.fn(t._value);(e.version===0||St(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ae=s,qe=r,xo(t),t.flags&=-3}}function Nn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Nn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function bl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let qe=!0;const Co=[];function ut(){Co.push(qe),qe=!1}function dt(){const t=Co.pop();qe=t===void 0?!0:t}function pi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ae;ae=void 0;try{e()}finally{ae=s}}}let js=0;class wl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!qe||ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ae)s=this.activeLink=new wl(ae,this),ae.deps?(s.prevDep=ae.depsTail,ae.depsTail.nextDep=s,ae.depsTail=s):ae.deps=ae.depsTail=s,Io(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ae.depsTail,s.nextDep=void 0,ae.depsTail.nextDep=s,ae.depsTail=s,ae.deps===s&&(ae.deps=r)}return s}trigger(e){this.version++,js++,this.notify(e)}notify(e){Un();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Dn()}}}function Io(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Io(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const pr=new WeakMap,Dt=Symbol(""),fn=Symbol(""),$s=Symbol("");function be(t,e,s){if(qe&&ae){let r=pr.get(t);r||pr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Mn),n.map=r,n.key=s),n.track()}}function it(t,e,s,r,n,i){const o=pr.get(t);if(!o){js++;return}const a=l=>{l&&l.trigger()};if(Un(),e==="clear")o.forEach(a);else{const l=N(t),u=l&&Rn(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,p)=>{(p==="length"||p===$s||!Ve(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get($s)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Dt)),Qt(t)&&a(o.get(fn)));break;case"delete":l||(a(o.get(Dt)),Qt(t)&&a(o.get(fn)));break;case"set":Qt(t)&&a(o.get(Dt));break}}Dn()}function Sl(t,e){const s=pr.get(t);return s&&s.get(e)}function Bt(t){const e=Y(t);return e===t?e:(be(e,"iterate",$s),Le(t)?e:e.map(_e))}function Pr(t){return be(t=Y(t),"iterate",$s),t}const kl={__proto__:null,[Symbol.iterator](){return Jr(this,Symbol.iterator,_e)},concat(...t){return Bt(this).concat(...t.map(e=>N(e)?Bt(e):e))},entries(){return Jr(this,"entries",t=>(t[1]=_e(t[1]),t))},every(t,e){return tt(this,"every",t,e,void 0,arguments)},filter(t,e){return tt(this,"filter",t,e,s=>s.map(_e),arguments)},find(t,e){return tt(this,"find",t,e,_e,arguments)},findIndex(t,e){return tt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return tt(this,"findLast",t,e,_e,arguments)},findLastIndex(t,e){return tt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return tt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Qr(this,"includes",t)},indexOf(...t){return Qr(this,"indexOf",t)},join(t){return Bt(this).join(t)},lastIndexOf(...t){return Qr(this,"lastIndexOf",t)},map(t,e){return tt(this,"map",t,e,void 0,arguments)},pop(){return ps(this,"pop")},push(...t){return ps(this,"push",t)},reduce(t,...e){return gi(this,"reduce",t,e)},reduceRight(t,...e){return gi(this,"reduceRight",t,e)},shift(){return ps(this,"shift")},some(t,e){return tt(this,"some",t,e,void 0,arguments)},splice(...t){return ps(this,"splice",t)},toReversed(){return Bt(this).toReversed()},toSorted(t){return Bt(this).toSorted(t)},toSpliced(...t){return Bt(this).toSpliced(...t)},unshift(...t){return ps(this,"unshift",t)},values(){return Jr(this,"values",_e)}};function Jr(t,e,s){const r=Pr(t),n=r[e]();return r!==t&&!Le(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const El=Array.prototype;function tt(t,e,s,r,n,i){const o=Pr(t),a=o!==t&&!Le(t),l=o[e];if(l!==El[e]){const d=l.apply(t,i);return a?_e(d):d}let u=s;o!==t&&(a?u=function(d,p){return s.call(this,_e(d),p,t)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function gi(t,e,s,r){const n=Pr(t);let i=s;return n!==t&&(Le(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,_e(a),l,t)}),n[e](i,...r)}function Qr(t,e,s){const r=Y(t);be(r,"iterate",$s);const n=r[e](...s);return(n===-1||n===!1)&&qn(s[0])?(s[0]=Y(s[0]),r[e](...s)):n}function ps(t,e,s=[]){ut(),Un();const r=Y(t)[e].apply(t,s);return Dn(),dt(),r}const Tl=In("__proto__,__v_isRef,__isVue"),jo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ve));function Al(t){Ve(t)||(t=String(t));const e=Y(this);return be(e,"has",t),e.hasOwnProperty(t)}class $o{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ul:Do:i?Uo:Lo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=N(e);if(!n){let l;if(o&&(l=kl[s]))return l;if(s==="hasOwnProperty")return Al}const a=Reflect.get(e,s,ue(e)?e:r);return(Ve(s)?jo.has(s):Tl(s))||(n||be(e,"get",s),i)?a:ue(a)?o&&Rn(s)?a:a.value:le(a)?n?No(a):as(a):a}}class Ro extends $o{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Tt(i);if(!Le(r)&&!Tt(r)&&(i=Y(i),r=Y(r)),!N(e)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=N(e)&&Rn(s)?Number(s)<e.length:Z(e,s),a=Reflect.set(e,s,r,ue(e)?e:n);return e===Y(n)&&(o?St(r,i)&&it(e,"set",s,r):it(e,"add",s,r)),a}deleteProperty(e,s){const r=Z(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&it(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Ve(s)||!jo.has(s))&&be(e,"has",s),r}ownKeys(e){return be(e,"iterate",N(e)?"length":Dt),Reflect.ownKeys(e)}}class Ol extends $o{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const xl=new Ro,Pl=new Ol,Cl=new Ro(!0);const pn=t=>t,Zs=t=>Reflect.getPrototypeOf(t);function Il(t,e,s){return function(...r){const n=this.__v_raw,i=Y(n),o=Qt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?pn:e?gr:_e;return!e&&be(i,"iterate",l?fn:Dt),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function er(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function jl(t,e){const s={get(n){const i=this.__v_raw,o=Y(i),a=Y(n);t||(St(n,a)&&be(o,"get",n),be(o,"get",a));const{has:l}=Zs(o),u=e?pn:t?gr:_e;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&be(Y(n),"iterate",Dt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Y(i),a=Y(n);return t||(St(n,a)&&be(o,"has",n),be(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Y(a),u=e?pn:t?gr:_e;return!t&&be(l,"iterate",Dt),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return we(s,t?{add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear")}:{add(n){!e&&!Le(n)&&!Tt(n)&&(n=Y(n));const i=Y(this);return Zs(i).has.call(i,n)||(i.add(n),it(i,"add",n,n)),this},set(n,i){!e&&!Le(i)&&!Tt(i)&&(i=Y(i));const o=Y(this),{has:a,get:l}=Zs(o);let u=a.call(o,n);u||(n=Y(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?St(i,c)&&it(o,"set",n,i):it(o,"add",n,i),this},delete(n){const i=Y(this),{has:o,get:a}=Zs(i);let l=o.call(i,n);l||(n=Y(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&it(i,"delete",n,void 0),u},clear(){const n=Y(this),i=n.size!==0,o=n.clear();return i&&it(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Il(n,t,e)}),s}function Fn(t,e){const s=jl(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Z(s,n)&&n in r?s:r,n,i)}const $l={get:Fn(!1,!1)},Rl={get:Fn(!1,!0)},Ll={get:Fn(!0,!1)};const Lo=new WeakMap,Uo=new WeakMap,Do=new WeakMap,Ul=new WeakMap;function Dl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nl(t){return t.__v_skip||!Object.isExtensible(t)?0:Dl(cl(t))}function as(t){return Tt(t)?t:Bn(t,!1,xl,$l,Lo)}function Ml(t){return Bn(t,!1,Cl,Rl,Uo)}function No(t){return Bn(t,!0,Pl,Ll,Do)}function Bn(t,e,s,r,n){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Nl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function kt(t){return Tt(t)?kt(t.__v_raw):!!(t&&t.__v_isReactive)}function Tt(t){return!!(t&&t.__v_isReadonly)}function Le(t){return!!(t&&t.__v_isShallow)}function qn(t){return t?!!t.__v_raw:!1}function Y(t){const e=t&&t.__v_raw;return e?Y(e):t}function Vn(t){return!Z(t,"__v_skip")&&Object.isExtensible(t)&&dn(t,"__v_skip",!0),t}const _e=t=>le(t)?as(t):t,gr=t=>le(t)?No(t):t;function ue(t){return t?t.__v_isRef===!0:!1}function X(t){return Fl(t,!1)}function Fl(t,e){return ue(t)?t:new Bl(t,e)}class Bl{constructor(e,s){this.dep=new Mn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Y(e),this._value=s?e:_e(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Le(e)||Tt(e);e=r?e:Y(e),St(e,s)&&(this._rawValue=e,this._value=r?e:_e(e),this.dep.trigger())}}function I(t){return ue(t)?t.value:t}const ql={get:(t,e,s)=>e==="__v_raw"?t:I(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Mo(t){return kt(t)?t:new Proxy(t,ql)}function Fo(t){const e=N(t)?new Array(t.length):{};for(const s in t)e[s]=Hl(t,s);return e}class Vl{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Sl(Y(this._object),this._key)}}function Hl(t,e,s){const r=t[e];return ue(r)?r:new Vl(t,e,s)}class zl{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Mn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return Ao(this,!0),!0}get value(){const e=this.dep.track();return Po(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Kl(t,e,s=!1){let r,n;return F(t)?r=t:(r=t.get,n=t.set),new zl(r,n,s)}const tr={},vr=new WeakMap;let Rt;function Wl(t,e=!1,s=Rt){if(s){let r=vr.get(s);r||vr.set(s,r=[]),r.push(t)}}function Gl(t,e,s=se){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=S=>n?S:Le(S)||n===!1||n===0?ot(S,1):ot(S);let c,d,p,g,y=!1,m=!1;if(ue(t)?(d=()=>t.value,y=Le(t)):kt(t)?(d=()=>u(t),y=!0):N(t)?(m=!0,y=t.some(S=>kt(S)||Le(S)),d=()=>t.map(S=>{if(ue(S))return S.value;if(kt(S))return u(S);if(F(S))return l?l(S,2):S()})):F(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){ut();try{p()}finally{dt()}}const S=Rt;Rt=c;try{return l?l(t,3,[g]):t(g)}finally{Rt=S}}:d=Ze,e&&n){const S=d,$=n===!0?1/0:n;d=()=>ot(S(),$)}const v=ko(),_=()=>{c.stop(),v&&v.active&&$n(v.effects,c)};if(i&&e){const S=e;e=(...$)=>{S(...$),_()}}let x=m?new Array(t.length).fill(tr):tr;const w=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const $=c.run();if(n||y||(m?$.some((q,z)=>St(q,x[z])):St($,x))){p&&p();const q=Rt;Rt=c;try{const z=[$,x===tr?void 0:m&&x[0]===tr?[]:x,g];x=$,l?l(e,3,z):e(...z)}finally{Rt=q}}}else c.run()};return a&&a(w),c=new Eo(d),c.scheduler=o?()=>o(w,!1):w,g=S=>Wl(S,!1,c),p=c.onStop=()=>{const S=vr.get(c);if(S){if(l)l(S,4);else for(const $ of S)$();vr.delete(c)}},e?r?w(!0):x=c.run():o?o(w.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function ot(t,e=1/0,s){if(e<=0||!le(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ue(t))ot(t.value,e,s);else if(N(t))for(let r=0;r<t.length;r++)ot(t[r],e,s);else if(os(t)||Qt(t))t.forEach(r=>{ot(r,e,s)});else if(_o(t)){for(const r in t)ot(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ot(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qs(t,e,s,r){try{return r?t(...r):t()}catch(n){Cr(n,e,s)}}function et(t,e,s,r){if(F(t)){const n=qs(t,e,s,r);return n&&go(n)&&n.catch(i=>{Cr(i,e,s)}),n}if(N(t)){const n=[];for(let i=0;i<t.length;i++)n.push(et(t[i],e,s,r));return n}}function Cr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){ut(),qs(i,null,10,[t,l,u]),dt();return}}Jl(t,s,n,r,o)}function Jl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ke=[];let Qe=-1;const Yt=[];let _t=null,Wt=0;const Bo=Promise.resolve();let _r=null;function Hn(t){const e=_r||Bo;return t?e.then(this?t.bind(this):t):e}function Ql(t){let e=Qe+1,s=ke.length;for(;e<s;){const r=e+s>>>1,n=ke[r],i=Rs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function zn(t){if(!(t.flags&1)){const e=Rs(t),s=ke[ke.length-1];!s||!(t.flags&2)&&e>=Rs(s)?ke.push(t):ke.splice(Ql(e),0,t),t.flags|=1,qo()}}function qo(){_r||(_r=Bo.then(Ho))}function Yl(t){N(t)?Yt.push(...t):_t&&t.id===-1?_t.splice(Wt+1,0,t):t.flags&1||(Yt.push(t),t.flags|=1),qo()}function vi(t,e,s=Qe+1){for(;s<ke.length;s++){const r=ke[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ke.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Vo(t){if(Yt.length){const e=[...new Set(Yt)].sort((s,r)=>Rs(s)-Rs(r));if(Yt.length=0,_t){_t.push(...e);return}for(_t=e,Wt=0;Wt<_t.length;Wt++){const s=_t[Wt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}_t=null,Wt=0}}const Rs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ho(t){try{for(Qe=0;Qe<ke.length;Qe++){const e=ke[Qe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qe<ke.length;Qe++){const e=ke[Qe];e&&(e.flags&=-2)}Qe=-1,ke.length=0,Vo(),_r=null,(ke.length||Yt.length)&&Ho()}}let pe=null,zo=null;function mr(t){const e=pe;return pe=t,zo=t&&t.type.__scopeId||null,e}function Kn(t,e=pe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ai(-1);const i=mr(e);let o;try{o=t(...n)}finally{mr(i),r._d&&Ai(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function lr(t,e){if(pe===null)return t;const s=Rr(pe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=se]=e[n];i&&(F(i)&&(i={mounted:i,updated:i}),i.deep&&ot(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function It(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ut(),et(l,s,8,[t.el,a,t,e]),dt())}}const Xl=Symbol("_vte"),Zl=t=>t.__isTeleport;function Wn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Wn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ot(t,e){return F(t)?we({name:t.name},e,{setup:t}):t}function Ko(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ss(t,e,s,r,n=!1){if(N(t)){t.forEach((y,m)=>Ss(y,e&&(N(e)?e[m]:e),s,r,n));return}if(Xt(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ss(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Rr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===se?a.refs={}:a.refs,d=a.setupState,p=Y(d),g=d===se?()=>!1:y=>Z(p,y);if(u!=null&&u!==l&&(de(u)?(c[u]=null,g(u)&&(d[u]=null)):ue(u)&&(u.value=null)),F(l))qs(l,a,12,[o,c]);else{const y=de(l),m=ue(l);if(y||m){const v=()=>{if(t.f){const _=y?g(l)?d[l]:c[l]:l.value;n?N(_)&&$n(_,i):N(_)?_.includes(i)||_.push(i):y?(c[l]=[i],g(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,g(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(c[t.k]=o))};o?(v.id=-1,Ce(v,s)):v()}}}Or().requestIdleCallback;Or().cancelIdleCallback;const Xt=t=>!!t.type.__asyncLoader,Wo=t=>t.type.__isKeepAlive;function ec(t,e){Go(t,"a",e)}function tc(t,e){Go(t,"da",e)}function Go(t,e,s=ve){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ir(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Wo(n.parent.vnode)&&sc(r,e,s,n),n=n.parent}}function sc(t,e,s,r){const n=Ir(e,t,r,!0);Gn(()=>{$n(r[e],n)},s)}function Ir(t,e,s=ve,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ut();const a=Hs(s),l=et(e,s,t,o);return a(),dt(),l});return r?n.unshift(i):n.push(i),i}}const ft=t=>(e,s=ve)=>{(!Us||t==="sp")&&Ir(t,(...r)=>e(...r),s)},rc=ft("bm"),Vs=ft("m"),nc=ft("bu"),ic=ft("u"),oc=ft("bum"),Gn=ft("um"),ac=ft("sp"),lc=ft("rtg"),cc=ft("rtc");function uc(t,e=ve){Ir("ec",t,e)}const dc="components",Jo=Symbol.for("v-ndc");function hc(t){return de(t)?fc(dc,t,!1)||t:t||Jo}function fc(t,e,s=!0,r=!1){const n=pe||ve;if(n){const i=n.type;{const a=nu(i,!1);if(a&&(a===e||a===Ue(e)||a===Ar(Ue(e))))return i}const o=_i(n[t]||i[t],e)||_i(n.appContext[t],e);return!o&&r?i:o}}function _i(t,e){return t&&(t[e]||t[Ue(e)]||t[Ar(Ue(e))])}function pc(t,e,s,r){let n;const i=s,o=N(t);if(o||de(t)){const a=o&&kt(t);let l=!1,u=!1;a&&(l=!Le(t),u=Tt(t),t=Pr(t)),n=new Array(t.length);for(let c=0,d=t.length;c<d;c++)n[c]=e(l?u?gr(_e(t[c])):_e(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(le(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}function Qo(t,e,s={},r,n){if(pe.ce||pe.parent&&Xt(pe.parent)&&pe.parent.ce)return V(),lt(Ie,null,[W("slot",s,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),V();const o=i&&Yo(i(s)),a=s.key||o&&o.key,l=lt(Ie,{key:(a&&!Ve(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function Yo(t){return t.some(e=>Yn(e)?!(e.type===ht||e.type===Ie&&!Yo(e.children)):!0)?t:null}const gn=t=>t?_a(t)?Rr(t):gn(t.parent):null,ks=we(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gn(t.parent),$root:t=>gn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zo(t),$forceUpdate:t=>t.f||(t.f=()=>{zn(t.update)}),$nextTick:t=>t.n||(t.n=Hn.bind(t.proxy)),$watch:t=>Mc.bind(t)}),Yr=(t,e)=>t!==se&&!t.__isScriptSetup&&Z(t,e),gc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Yr(r,e))return o[e]=1,r[e];if(n!==se&&Z(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&Z(u,e))return o[e]=3,i[e];if(s!==se&&Z(s,e))return o[e]=4,s[e];vn&&(o[e]=0)}}const c=ks[e];let d,p;if(c)return e==="$attrs"&&be(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==se&&Z(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,Z(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Yr(n,e)?(n[e]=s,!0):r!==se&&Z(r,e)?(r[e]=s,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==se&&Z(t,o)||Yr(e,o)||(a=i[0])&&Z(a,o)||Z(r,o)||Z(ks,o)||Z(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Z(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function vc(){return _c().slots}function _c(){const t=eu();return t.setupContext||(t.setupContext=ya(t))}function mi(t){return N(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let vn=!0;function mc(t){const e=Zo(t),s=t.proxy,r=t.ctx;vn=!1,e.beforeCreate&&yi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:g,updated:y,activated:m,deactivated:v,beforeDestroy:_,beforeUnmount:x,destroyed:w,unmounted:S,render:$,renderTracked:q,renderTriggered:z,errorCaptured:G,serverPrefetch:Q,expose:he,inheritAttrs:$e,components:He,directives:pt,filters:us}=e;if(u&&yc(u,r,null),o)for(const K in o){const ne=o[K];F(ne)&&(r[K]=ne.bind(s))}if(n){const K=n.call(s,s);le(K)&&(t.data=as(K))}if(vn=!0,i)for(const K in i){const ne=i[K],Pt=F(ne)?ne.bind(s,s):F(ne.get)?ne.get.bind(s,s):Ze,Ys=!F(ne)&&F(ne.set)?ne.set.bind(s):Ze,Ct=re({get:Pt,set:Ys});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:ze=>Ct.value=ze})}if(a)for(const K in a)Xo(a[K],r,s,K);if(l){const K=F(l)?l.call(s):l;Reflect.ownKeys(K).forEach(ne=>{Tc(ne,K[ne])})}c&&yi(c,t,"c");function ce(K,ne){N(ne)?ne.forEach(Pt=>K(Pt.bind(s))):ne&&K(ne.bind(s))}if(ce(rc,d),ce(Vs,p),ce(nc,g),ce(ic,y),ce(ec,m),ce(tc,v),ce(uc,G),ce(cc,q),ce(lc,z),ce(oc,x),ce(Gn,S),ce(ac,Q),N(he))if(he.length){const K=t.exposed||(t.exposed={});he.forEach(ne=>{Object.defineProperty(K,ne,{get:()=>s[ne],set:Pt=>s[ne]=Pt})})}else t.exposed||(t.exposed={});$&&t.render===Ze&&(t.render=$),$e!=null&&(t.inheritAttrs=$e),He&&(t.components=He),pt&&(t.directives=pt),Q&&Ko(t)}function yc(t,e,s=Ze){N(t)&&(t=_n(t));for(const r in t){const n=t[r];let i;le(n)?"default"in n?i=Es(n.from||r,n.default,!0):i=Es(n.from||r):i=Es(n),ue(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function yi(t,e,s){et(N(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Xo(t,e,s,r){let n=r.includes(".")?ha(s,r):()=>s[r];if(de(t)){const i=e[t];F(i)&&Zt(n,i)}else if(F(t))Zt(n,t.bind(s));else if(le(t))if(N(t))t.forEach(i=>Xo(i,e,s,r));else{const i=F(t.handler)?t.handler.bind(s):e[t.handler];F(i)&&Zt(n,i,t)}}function Zo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>yr(l,u,o,!0)),yr(l,e,o)),le(e)&&i.set(e,l),l}function yr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&yr(t,i,s,!0),n&&n.forEach(o=>yr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=bc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const bc={data:bi,props:wi,emits:wi,methods:_s,computed:_s,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:_s,directives:_s,watch:Sc,provide:bi,inject:wc};function bi(t,e){return e?t?function(){return we(F(t)?t.call(this,this):t,F(e)?e.call(this,this):e)}:e:t}function wc(t,e){return _s(_n(t),_n(e))}function _n(t){if(N(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function _s(t,e){return t?we(Object.create(null),t,e):e}function wi(t,e){return t?N(t)&&N(e)?[...new Set([...t,...e])]:we(Object.create(null),mi(t),mi(e??{})):e}function Sc(t,e){if(!t)return e;if(!e)return t;const s=we(Object.create(null),t);for(const r in e)s[r]=Se(t[r],e[r]);return s}function ea(){return{app:null,config:{isNativeTag:al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kc=0;function Ec(t,e){return function(r,n=null){F(r)||(r=we({},r)),n!=null&&!le(n)&&(n=null);const i=ea(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:kc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:ou,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&F(c.install)?(o.add(c),c.install(u,...d)):F(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,p){if(!l){const g=u._ceVNode||W(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Rr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(et(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Nt;Nt=u;try{return c()}finally{Nt=d}}};return u}}let Nt=null;function Tc(t,e){if(ve){let s=ve.provides;const r=ve.parent&&ve.parent.provides;r===s&&(s=ve.provides=Object.create(r)),s[t]=e}}function Es(t,e,s=!1){const r=ve||pe;if(r||Nt){let n=Nt?Nt._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&F(e)?e.call(r&&r.proxy):e}}function Ac(){return!!(ve||pe||Nt)}const ta={},sa=()=>Object.create(ta),ra=t=>Object.getPrototypeOf(t)===ta;function Oc(t,e,s,r=!1){const n={},i=sa();t.propsDefaults=Object.create(null),na(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ml(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function xc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Y(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(jr(t.emitsOptions,p))continue;const g=e[p];if(l)if(Z(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const y=Ue(p);n[y]=mn(l,a,y,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{na(t,e,n,i)&&(u=!0);let c;for(const d in a)(!e||!Z(e,d)&&((c=At(d))===d||!Z(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=mn(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!Z(e,d))&&(delete i[d],u=!0)}u&&it(t.attrs,"set","")}function na(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ys(l))continue;const u=e[l];let c;n&&Z(n,c=Ue(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:jr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Y(s),u=a||se;for(let c=0;c<i.length;c++){const d=i[c];s[d]=mn(n,l,d,u[d],t,!Z(u,d))}}return o}function mn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=Z(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&F(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Hs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===At(s))&&(r=!0))}return r}const Pc=new WeakMap;function ia(t,e,s=!1){const r=s?Pc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!F(t)){const c=d=>{l=!0;const[p,g]=ia(d,e,!0);we(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return le(t)&&r.set(t,Jt),Jt;if(N(i))for(let c=0;c<i.length;c++){const d=Ue(i[c]);Si(d)&&(o[d]=se)}else if(i)for(const c in i){const d=Ue(c);if(Si(d)){const p=i[c],g=o[d]=N(p)||F(p)?{type:p}:we({},p),y=g.type;let m=!1,v=!0;if(N(y))for(let _=0;_<y.length;++_){const x=y[_],w=F(x)&&x.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(v=!1)}else m=F(y)&&y.name==="Boolean";g[0]=m,g[1]=v,(m||Z(g,"default"))&&a.push(d)}}const u=[o,a];return le(t)&&r.set(t,u),u}function Si(t){return t[0]!=="$"&&!ys(t)}const Jn=t=>t[0]==="_"||t==="$stable",Qn=t=>N(t)?t.map(Xe):[Xe(t)],Cc=(t,e,s)=>{if(e._n)return e;const r=Kn((...n)=>Qn(e(...n)),s);return r._c=!1,r},oa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Jn(n))continue;const i=t[n];if(F(i))e[n]=Cc(n,i,r);else if(i!=null){const o=Qn(i);e[n]=()=>o}}},aa=(t,e)=>{const s=Qn(e);t.slots.default=()=>s},la=(t,e,s)=>{for(const r in e)(s||!Jn(r))&&(t[r]=e[r])},Ic=(t,e,s)=>{const r=t.slots=sa();if(t.vnode.shapeFlag&32){const n=e.__;n&&dn(r,"__",n,!0);const i=e._;i?(la(r,e,s),s&&dn(r,"_",i,!0)):oa(e,r)}else e&&aa(t,e)},jc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=se;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:la(n,e,s):(i=!e.$stable,oa(e,n)),o=e}else e&&(aa(t,e),o={default:1});if(i)for(const a in n)!Jn(a)&&o[a]==null&&delete n[a]},Ce=Kc;function $c(t){return Rc(t)}function Rc(t,e){const s=Or();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:g=Ze,insertStaticContent:y}=t,m=(h,f,b,T=null,k=null,E=null,C=void 0,P=null,O=!!f.dynamicChildren)=>{if(h===f)return;h&&!gs(h,f)&&(T=Xs(h),ze(h,k,E,!0),h=null),f.patchFlag===-2&&(O=!1,f.dynamicChildren=null);const{type:A,ref:D,shapeFlag:j}=f;switch(A){case $r:v(h,f,b,T);break;case ht:_(h,f,b,T);break;case Zr:h==null&&x(f,b,T,C);break;case Ie:He(h,f,b,T,k,E,C,P,O);break;default:j&1?$(h,f,b,T,k,E,C,P,O):j&6?pt(h,f,b,T,k,E,C,P,O):(j&64||j&128)&&A.process(h,f,b,T,k,E,C,P,O,hs)}D!=null&&k?Ss(D,h&&h.ref,E,f||h,!f):D==null&&h&&h.ref!=null&&Ss(h.ref,null,E,h,!0)},v=(h,f,b,T)=>{if(h==null)r(f.el=a(f.children),b,T);else{const k=f.el=h.el;f.children!==h.children&&u(k,f.children)}},_=(h,f,b,T)=>{h==null?r(f.el=l(f.children||""),b,T):f.el=h.el},x=(h,f,b,T)=>{[h.el,h.anchor]=y(h.children,f,b,T,h.el,h.anchor)},w=({el:h,anchor:f},b,T)=>{let k;for(;h&&h!==f;)k=p(h),r(h,b,T),h=k;r(f,b,T)},S=({el:h,anchor:f})=>{let b;for(;h&&h!==f;)b=p(h),n(h),h=b;n(f)},$=(h,f,b,T,k,E,C,P,O)=>{f.type==="svg"?C="svg":f.type==="math"&&(C="mathml"),h==null?q(f,b,T,k,E,C,P,O):Q(h,f,k,E,C,P,O)},q=(h,f,b,T,k,E,C,P)=>{let O,A;const{props:D,shapeFlag:j,transition:U,dirs:M}=h;if(O=h.el=o(h.type,E,D&&D.is,D),j&8?c(O,h.children):j&16&&G(h.children,O,null,T,k,Xr(h,E),C,P),M&&It(h,null,T,"created"),z(O,h,h.scopeId,C,T),D){for(const ie in D)ie!=="value"&&!ys(ie)&&i(O,ie,null,D[ie],E,T);"value"in D&&i(O,"value",null,D.value,E),(A=D.onVnodeBeforeMount)&&Je(A,T,h)}M&&It(h,null,T,"beforeMount");const J=Lc(k,U);J&&U.beforeEnter(O),r(O,f,b),((A=D&&D.onVnodeMounted)||J||M)&&Ce(()=>{A&&Je(A,T,h),J&&U.enter(O),M&&It(h,null,T,"mounted")},k)},z=(h,f,b,T,k)=>{if(b&&g(h,b),T)for(let E=0;E<T.length;E++)g(h,T[E]);if(k){let E=k.subTree;if(f===E||pa(E.type)&&(E.ssContent===f||E.ssFallback===f)){const C=k.vnode;z(h,C,C.scopeId,C.slotScopeIds,k.parent)}}},G=(h,f,b,T,k,E,C,P,O=0)=>{for(let A=O;A<h.length;A++){const D=h[A]=P?mt(h[A]):Xe(h[A]);m(null,D,f,b,T,k,E,C,P)}},Q=(h,f,b,T,k,E,C)=>{const P=f.el=h.el;let{patchFlag:O,dynamicChildren:A,dirs:D}=f;O|=h.patchFlag&16;const j=h.props||se,U=f.props||se;let M;if(b&&jt(b,!1),(M=U.onVnodeBeforeUpdate)&&Je(M,b,f,h),D&&It(f,h,b,"beforeUpdate"),b&&jt(b,!0),(j.innerHTML&&U.innerHTML==null||j.textContent&&U.textContent==null)&&c(P,""),A?he(h.dynamicChildren,A,P,b,T,Xr(f,k),E):C||ne(h,f,P,null,b,T,Xr(f,k),E,!1),O>0){if(O&16)$e(P,j,U,b,k);else if(O&2&&j.class!==U.class&&i(P,"class",null,U.class,k),O&4&&i(P,"style",j.style,U.style,k),O&8){const J=f.dynamicProps;for(let ie=0;ie<J.length;ie++){const ee=J[ie],Ee=j[ee],Te=U[ee];(Te!==Ee||ee==="value")&&i(P,ee,Ee,Te,k,b)}}O&1&&h.children!==f.children&&c(P,f.children)}else!C&&A==null&&$e(P,j,U,b,k);((M=U.onVnodeUpdated)||D)&&Ce(()=>{M&&Je(M,b,f,h),D&&It(f,h,b,"updated")},T)},he=(h,f,b,T,k,E,C)=>{for(let P=0;P<f.length;P++){const O=h[P],A=f[P],D=O.el&&(O.type===Ie||!gs(O,A)||O.shapeFlag&198)?d(O.el):b;m(O,A,D,null,T,k,E,C,!0)}},$e=(h,f,b,T,k)=>{if(f!==b){if(f!==se)for(const E in f)!ys(E)&&!(E in b)&&i(h,E,f[E],null,k,T);for(const E in b){if(ys(E))continue;const C=b[E],P=f[E];C!==P&&E!=="value"&&i(h,E,P,C,k,T)}"value"in b&&i(h,"value",f.value,b.value,k)}},He=(h,f,b,T,k,E,C,P,O)=>{const A=f.el=h?h.el:a(""),D=f.anchor=h?h.anchor:a("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:M}=f;M&&(P=P?P.concat(M):M),h==null?(r(A,b,T),r(D,b,T),G(f.children||[],b,D,k,E,C,P,O)):j>0&&j&64&&U&&h.dynamicChildren?(he(h.dynamicChildren,U,b,k,E,C,P),(f.key!=null||k&&f===k.subTree)&&ca(h,f,!0)):ne(h,f,b,D,k,E,C,P,O)},pt=(h,f,b,T,k,E,C,P,O)=>{f.slotScopeIds=P,h==null?f.shapeFlag&512?k.ctx.activate(f,b,T,C,O):us(f,b,T,k,E,C,O):Qs(h,f,O)},us=(h,f,b,T,k,E,C)=>{const P=h.component=Zc(h,T,k);if(Wo(h)&&(P.ctx.renderer=hs),tu(P,!1,C),P.asyncDep){if(k&&k.registerDep(P,ce,C),!h.el){const O=P.subTree=W(ht);_(null,O,f,b)}}else ce(P,h,f,b,k,E,C)},Qs=(h,f,b)=>{const T=f.component=h.component;if(Hc(h,f,b))if(T.asyncDep&&!T.asyncResolved){K(T,f,b);return}else T.next=f,T.update();else f.el=h.el,T.vnode=f},ce=(h,f,b,T,k,E,C)=>{const P=()=>{if(h.isMounted){let{next:j,bu:U,u:M,parent:J,vnode:ie}=h;{const We=ua(h);if(We){j&&(j.el=ie.el,K(h,j,C)),We.asyncDep.then(()=>{h.isUnmounted||P()});return}}let ee=j,Ee;jt(h,!1),j?(j.el=ie.el,K(h,j,C)):j=ie,U&&ar(U),(Ee=j.props&&j.props.onVnodeBeforeUpdate)&&Je(Ee,J,j,ie),jt(h,!0);const Te=Ei(h),Ke=h.subTree;h.subTree=Te,m(Ke,Te,d(Ke.el),Xs(Ke),h,k,E),j.el=Te.el,ee===null&&zc(h,Te.el),M&&Ce(M,k),(Ee=j.props&&j.props.onVnodeUpdated)&&Ce(()=>Je(Ee,J,j,ie),k)}else{let j;const{el:U,props:M}=f,{bm:J,m:ie,parent:ee,root:Ee,type:Te}=h,Ke=Xt(f);jt(h,!1),J&&ar(J),!Ke&&(j=M&&M.onVnodeBeforeMount)&&Je(j,ee,f),jt(h,!0);{Ee.ce&&Ee.ce._def.shadowRoot!==!1&&Ee.ce._injectChildStyle(Te);const We=h.subTree=Ei(h);m(null,We,b,T,h,k,E),f.el=We.el}if(ie&&Ce(ie,k),!Ke&&(j=M&&M.onVnodeMounted)){const We=f;Ce(()=>Je(j,ee,We),k)}(f.shapeFlag&256||ee&&Xt(ee.vnode)&&ee.vnode.shapeFlag&256)&&h.a&&Ce(h.a,k),h.isMounted=!0,f=b=T=null}};h.scope.on();const O=h.effect=new Eo(P);h.scope.off();const A=h.update=O.run.bind(O),D=h.job=O.runIfDirty.bind(O);D.i=h,D.id=h.uid,O.scheduler=()=>zn(D),jt(h,!0),A()},K=(h,f,b)=>{f.component=h;const T=h.vnode.props;h.vnode=f,h.next=null,xc(h,f.props,T,b),jc(h,f.children,b),ut(),vi(h),dt()},ne=(h,f,b,T,k,E,C,P,O=!1)=>{const A=h&&h.children,D=h?h.shapeFlag:0,j=f.children,{patchFlag:U,shapeFlag:M}=f;if(U>0){if(U&128){Ys(A,j,b,T,k,E,C,P,O);return}else if(U&256){Pt(A,j,b,T,k,E,C,P,O);return}}M&8?(D&16&&ds(A,k,E),j!==A&&c(b,j)):D&16?M&16?Ys(A,j,b,T,k,E,C,P,O):ds(A,k,E,!0):(D&8&&c(b,""),M&16&&G(j,b,T,k,E,C,P,O))},Pt=(h,f,b,T,k,E,C,P,O)=>{h=h||Jt,f=f||Jt;const A=h.length,D=f.length,j=Math.min(A,D);let U;for(U=0;U<j;U++){const M=f[U]=O?mt(f[U]):Xe(f[U]);m(h[U],M,b,null,k,E,C,P,O)}A>D?ds(h,k,E,!0,!1,j):G(f,b,T,k,E,C,P,O,j)},Ys=(h,f,b,T,k,E,C,P,O)=>{let A=0;const D=f.length;let j=h.length-1,U=D-1;for(;A<=j&&A<=U;){const M=h[A],J=f[A]=O?mt(f[A]):Xe(f[A]);if(gs(M,J))m(M,J,b,null,k,E,C,P,O);else break;A++}for(;A<=j&&A<=U;){const M=h[j],J=f[U]=O?mt(f[U]):Xe(f[U]);if(gs(M,J))m(M,J,b,null,k,E,C,P,O);else break;j--,U--}if(A>j){if(A<=U){const M=U+1,J=M<D?f[M].el:T;for(;A<=U;)m(null,f[A]=O?mt(f[A]):Xe(f[A]),b,J,k,E,C,P,O),A++}}else if(A>U)for(;A<=j;)ze(h[A],k,E,!0),A++;else{const M=A,J=A,ie=new Map;for(A=J;A<=U;A++){const Pe=f[A]=O?mt(f[A]):Xe(f[A]);Pe.key!=null&&ie.set(Pe.key,A)}let ee,Ee=0;const Te=U-J+1;let Ke=!1,We=0;const fs=new Array(Te);for(A=0;A<Te;A++)fs[A]=0;for(A=M;A<=j;A++){const Pe=h[A];if(Ee>=Te){ze(Pe,k,E,!0);continue}let Ge;if(Pe.key!=null)Ge=ie.get(Pe.key);else for(ee=J;ee<=U;ee++)if(fs[ee-J]===0&&gs(Pe,f[ee])){Ge=ee;break}Ge===void 0?ze(Pe,k,E,!0):(fs[Ge-J]=A+1,Ge>=We?We=Ge:Ke=!0,m(Pe,f[Ge],b,null,k,E,C,P,O),Ee++)}const ui=Ke?Uc(fs):Jt;for(ee=ui.length-1,A=Te-1;A>=0;A--){const Pe=J+A,Ge=f[Pe],di=Pe+1<D?f[Pe+1].el:T;fs[A]===0?m(null,Ge,b,di,k,E,C,P,O):Ke&&(ee<0||A!==ui[ee]?Ct(Ge,b,di,2):ee--)}}},Ct=(h,f,b,T,k=null)=>{const{el:E,type:C,transition:P,children:O,shapeFlag:A}=h;if(A&6){Ct(h.component.subTree,f,b,T);return}if(A&128){h.suspense.move(f,b,T);return}if(A&64){C.move(h,f,b,hs);return}if(C===Ie){r(E,f,b);for(let j=0;j<O.length;j++)Ct(O[j],f,b,T);r(h.anchor,f,b);return}if(C===Zr){w(h,f,b);return}if(T!==2&&A&1&&P)if(T===0)P.beforeEnter(E),r(E,f,b),Ce(()=>P.enter(E),k);else{const{leave:j,delayLeave:U,afterLeave:M}=P,J=()=>{h.ctx.isUnmounted?n(E):r(E,f,b)},ie=()=>{j(E,()=>{J(),M&&M()})};U?U(E,J,ie):ie()}else r(E,f,b)},ze=(h,f,b,T=!1,k=!1)=>{const{type:E,props:C,ref:P,children:O,dynamicChildren:A,shapeFlag:D,patchFlag:j,dirs:U,cacheIndex:M}=h;if(j===-2&&(k=!1),P!=null&&(ut(),Ss(P,null,b,h,!0),dt()),M!=null&&(f.renderCache[M]=void 0),D&256){f.ctx.deactivate(h);return}const J=D&1&&U,ie=!Xt(h);let ee;if(ie&&(ee=C&&C.onVnodeBeforeUnmount)&&Je(ee,f,h),D&6)ol(h.component,b,T);else{if(D&128){h.suspense.unmount(b,T);return}J&&It(h,null,f,"beforeUnmount"),D&64?h.type.remove(h,f,b,hs,T):A&&!A.hasOnce&&(E!==Ie||j>0&&j&64)?ds(A,f,b,!1,!0):(E===Ie&&j&384||!k&&D&16)&&ds(O,f,b),T&&li(h)}(ie&&(ee=C&&C.onVnodeUnmounted)||J)&&Ce(()=>{ee&&Je(ee,f,h),J&&It(h,null,f,"unmounted")},b)},li=h=>{const{type:f,el:b,anchor:T,transition:k}=h;if(f===Ie){il(b,T);return}if(f===Zr){S(h);return}const E=()=>{n(b),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(h.shapeFlag&1&&k&&!k.persisted){const{leave:C,delayLeave:P}=k,O=()=>C(b,E);P?P(h.el,E,O):O()}else E()},il=(h,f)=>{let b;for(;h!==f;)b=p(h),n(h),h=b;n(f)},ol=(h,f,b)=>{const{bum:T,scope:k,job:E,subTree:C,um:P,m:O,a:A,parent:D,slots:{__:j}}=h;ki(O),ki(A),T&&ar(T),D&&N(j)&&j.forEach(U=>{D.renderCache[U]=void 0}),k.stop(),E&&(E.flags|=8,ze(C,h,f,b)),P&&Ce(P,f),Ce(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ds=(h,f,b,T=!1,k=!1,E=0)=>{for(let C=E;C<h.length;C++)ze(h[C],f,b,T,k)},Xs=h=>{if(h.shapeFlag&6)return Xs(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),b=f&&f[Xl];return b?p(b):f};let zr=!1;const ci=(h,f,b)=>{h==null?f._vnode&&ze(f._vnode,null,null,!0):m(f._vnode||null,h,f,null,null,null,b),f._vnode=h,zr||(zr=!0,vi(),Vo(),zr=!1)},hs={p:m,um:ze,m:Ct,r:li,mt:us,mc:G,pc:ne,pbc:he,n:Xs,o:t};return{render:ci,hydrate:void 0,createApp:Ec(ci)}}function Xr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function jt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Lc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ca(t,e,s=!1){const r=t.children,n=e.children;if(N(r)&&N(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=mt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ca(o,a)),a.type===$r&&(a.el=o.el),a.type===ht&&!a.el&&(a.el=o.el)}}function Uc(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function ua(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ua(e)}function ki(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Dc=Symbol.for("v-scx"),Nc=()=>Es(Dc);function Zt(t,e,s){return da(t,e,s)}function da(t,e,s=se){const{immediate:r,deep:n,flush:i,once:o}=s,a=we({},s),l=e&&r||!e&&i!=="post";let u;if(Us){if(i==="sync"){const g=Nc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ze,g.resume=Ze,g.pause=Ze,g}}const c=ve;a.call=(g,y,m)=>et(g,c,y,m);let d=!1;i==="post"?a.scheduler=g=>{Ce(g,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,y)=>{y?g():zn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=Gl(t,e,a);return Us&&(u?u.push(p):l&&p()),p}function Mc(t,e,s){const r=this.proxy,n=de(t)?t.includes(".")?ha(r,t):()=>r[t]:t.bind(r,r);let i;F(e)?i=e:(i=e.handler,s=e);const o=Hs(this),a=da(n,i.bind(r),s);return o(),a}function ha(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Fc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ue(e)}Modifiers`]||t[`${At(e)}Modifiers`];function Bc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||se;let n=s;const i=e.startsWith("update:"),o=i&&Fc(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>de(c)?c.trim():c)),o.number&&(n=s.map(fr)));let a,l=r[a=Kr(e)]||r[a=Kr(Ue(e))];!l&&i&&(l=r[a=Kr(At(e))]),l&&et(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,et(u,t,6,n)}}function fa(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!F(t)){const l=u=>{const c=fa(u,e,!0);c&&(a=!0,we(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(le(t)&&r.set(t,null),null):(N(i)?i.forEach(l=>o[l]=null):we(o,i),le(t)&&r.set(t,o),o)}function jr(t,e){return!t||!Er(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,At(e))||Z(t,e))}function Ei(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:g,ctx:y,inheritAttrs:m}=t,v=mr(t);let _,x;try{if(s.shapeFlag&4){const S=n||r,$=S;_=Xe(u.call($,S,c,d,g,p,y)),x=a}else{const S=e;_=Xe(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),x=e.props?a:qc(a)}}catch(S){Ts.length=0,Cr(S,t,1),_=W(ht)}let w=_;if(x&&m!==!1){const S=Object.keys(x),{shapeFlag:$}=w;S.length&&$&7&&(i&&S.some(jn)&&(x=Vc(x,i)),w=ts(w,x,!1,!0))}return s.dirs&&(w=ts(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&Wn(w,s.transition),_=w,mr(v),_}const qc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Er(s))&&((e||(e={}))[s]=t[s]);return e},Vc=(t,e)=>{const s={};for(const r in t)(!jn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Hc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ti(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==r[p]&&!jr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ti(r,o,u):!0:!!o;return!1}function Ti(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!jr(s,i))return!0}return!1}function zc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const pa=t=>t.__isSuspense;function Kc(t,e){e&&e.pendingBranch?N(t)?e.effects.push(...t):e.effects.push(t):Yl(t)}const Ie=Symbol.for("v-fgt"),$r=Symbol.for("v-txt"),ht=Symbol.for("v-cmt"),Zr=Symbol.for("v-stc"),Ts=[];let je=null;function V(t=!1){Ts.push(je=t?null:[])}function Wc(){Ts.pop(),je=Ts[Ts.length-1]||null}let Ls=1;function Ai(t,e=!1){Ls+=t,t<0&&je&&e&&(je.hasOnce=!0)}function ga(t){return t.dynamicChildren=Ls>0?je||Jt:null,Wc(),Ls>0&&je&&je.push(t),t}function te(t,e,s,r,n,i){return ga(L(t,e,s,r,n,i,!0))}function lt(t,e,s,r,n){return ga(W(t,e,s,r,n,!0))}function Yn(t){return t?t.__v_isVNode===!0:!1}function gs(t,e){return t.type===e.type&&t.key===e.key}const va=({key:t})=>t??null,cr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||ue(t)||F(t)?{i:pe,r:t,k:e,f:!!s}:t:null);function L(t,e=null,s=null,r=0,n=null,i=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&va(e),ref:e&&cr(e),scopeId:zo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:pe};return a?(Zn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=de(s)?8:16),Ls>0&&!o&&je&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&je.push(l),l}const W=Gc;function Gc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Jo)&&(t=ht),Yn(t)){const a=ts(t,e,!0);return s&&Zn(a,s),Ls>0&&!i&&je&&(a.shapeFlag&6?je[je.indexOf(t)]=a:je.push(a)),a.patchFlag=-2,a}if(iu(t)&&(t=t.__vccOpts),e){e=Jc(e);let{class:a,style:l}=e;a&&!de(a)&&(e.class=R(a)),le(l)&&(qn(l)&&!N(l)&&(l=we({},l)),e.style=xr(l))}const o=de(t)?1:pa(t)?128:Zl(t)?64:le(t)?4:F(t)?2:0;return L(t,e,s,r,n,o,i,!0)}function Jc(t){return t?qn(t)||ra(t)?we({},t):t:null}function ts(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Qc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&va(u),ref:e&&e.ref?s&&i?N(i)?i.concat(cr(e)):[i,cr(e)]:cr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ts(t.ssContent),ssFallback:t.ssFallback&&ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Wn(c,l.clone(c)),c}function Xn(t=" ",e=0){return W($r,null,t,e)}function fe(t="",e=!1){return e?(V(),lt(ht,null,t)):W(ht,null,t)}function Xe(t){return t==null||typeof t=="boolean"?W(ht):N(t)?W(Ie,null,t.slice()):Yn(t)?mt(t):W($r,null,String(t))}function mt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ts(t)}function Zn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(N(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Zn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!ra(e)?e._ctx=pe:n===3&&pe&&(pe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else F(e)?(e={default:e,_ctx:pe},s=32):(e=String(e),r&64?(s=16,e=[Xn(e)]):s=8);t.children=e,t.shapeFlag|=s}function Qc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=R([e.class,r.class]));else if(n==="style")e.style=xr([e.style,r.style]);else if(Er(n)){const i=e[n],o=r[n];o&&i!==o&&!(N(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Je(t,e,s,r=null){et(t,e,7,[s,r])}const Yc=ea();let Xc=0;function Zc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Yc,i={uid:Xc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ia(r,n),emitsOptions:fa(r,n),emit:null,emitted:null,propsDefaults:se,inheritAttrs:r.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Bc.bind(null,i),t.ce&&t.ce(i),i}let ve=null;const eu=()=>ve||pe;let br,yn;{const t=Or(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};br=e("__VUE_INSTANCE_SETTERS__",s=>ve=s),yn=e("__VUE_SSR_SETTERS__",s=>Us=s)}const Hs=t=>{const e=ve;return br(t),t.scope.on(),()=>{t.scope.off(),br(e)}},Oi=()=>{ve&&ve.scope.off(),br(null)};function _a(t){return t.vnode.shapeFlag&4}let Us=!1;function tu(t,e=!1,s=!1){e&&yn(e);const{props:r,children:n}=t.vnode,i=_a(t);Oc(t,r,i,e),Ic(t,n,s||e);const o=i?su(t,e):void 0;return e&&yn(!1),o}function su(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gc);const{setup:r}=s;if(r){ut();const n=t.setupContext=r.length>1?ya(t):null,i=Hs(t),o=qs(r,t,0,[t.props,n]),a=go(o);if(dt(),i(),(a||t.sp)&&!Xt(t)&&Ko(t),a){if(o.then(Oi,Oi),e)return o.then(l=>{xi(t,l)}).catch(l=>{Cr(l,t,0)});t.asyncDep=o}else xi(t,o)}else ma(t)}function xi(t,e,s){F(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=Mo(e)),ma(t)}function ma(t,e,s){const r=t.type;t.render||(t.render=r.render||Ze);{const n=Hs(t);ut();try{mc(t)}finally{dt(),n()}}}const ru={get(t,e){return be(t,"get",""),t[e]}};function ya(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,ru),slots:t.slots,emit:t.emit,expose:e}}function Rr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Mo(Vn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ks)return ks[s](t)},has(e,s){return s in e||s in ks}})):t.proxy}function nu(t,e=!0){return F(t)?t.displayName||t.name:t.name||e&&t.__name}function iu(t){return F(t)&&"__vccOpts"in t}const re=(t,e)=>Kl(t,e,Us),ou="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bn;const Pi=typeof window<"u"&&window.trustedTypes;if(Pi)try{bn=Pi.createPolicy("vue",{createHTML:t=>t})}catch{}const ba=bn?t=>bn.createHTML(t):t=>t,au="http://www.w3.org/2000/svg",lu="http://www.w3.org/1998/Math/MathML",rt=typeof document<"u"?document:null,Ci=rt&&rt.createElement("template"),cu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?rt.createElementNS(au,t):e==="mathml"?rt.createElementNS(lu,t):s?rt.createElement(t,{is:s}):rt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>rt.createTextNode(t),createComment:t=>rt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>rt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Ci.innerHTML=ba(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ci.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},uu=Symbol("_vtc");function du(t,e,s){const r=t[uu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ii=Symbol("_vod"),hu=Symbol("_vsh"),fu=Symbol(""),pu=/(^|;)\s*display\s*:/;function gu(t,e,s){const r=t.style,n=de(s);let i=!1;if(s&&!n){if(e)if(de(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&ur(r,a,"")}else for(const o in e)s[o]==null&&ur(r,o,"");for(const o in s)o==="display"&&(i=!0),ur(r,o,s[o])}else if(n){if(e!==s){const o=r[fu];o&&(s+=";"+o),r.cssText=s,i=pu.test(s)}}else e&&t.removeAttribute("style");Ii in t&&(t[Ii]=i?r.display:"",t[hu]&&(r.display="none"))}const ji=/\s*!important$/;function ur(t,e,s){if(N(s))s.forEach(r=>ur(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=vu(t,e);ji.test(s)?t.setProperty(At(r),s.replace(ji,""),"important"):t[r]=s}}const $i=["Webkit","Moz","ms"],en={};function vu(t,e){const s=en[e];if(s)return s;let r=Ue(e);if(r!=="filter"&&r in t)return en[e]=r;r=Ar(r);for(let n=0;n<$i.length;n++){const i=$i[n]+r;if(i in t)return en[e]=i}return e}const Ri="http://www.w3.org/1999/xlink";function Li(t,e,s,r,n,i=_l(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ri,e.slice(6,e.length)):t.setAttributeNS(Ri,e,s):s==null||i&&!mo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Ve(s)?String(s):s)}function Ui(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?ba(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=mo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function bt(t,e,s,r){t.addEventListener(e,s,r)}function _u(t,e,s,r){t.removeEventListener(e,s,r)}const Di=Symbol("_vei");function mu(t,e,s,r,n=null){const i=t[Di]||(t[Di]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=yu(e);if(r){const u=i[e]=Su(r,n);bt(t,a,u,l)}else o&&(_u(t,a,o,l),i[e]=void 0)}}const Ni=/(?:Once|Passive|Capture)$/;function yu(t){let e;if(Ni.test(t)){e={};let r;for(;r=t.match(Ni);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):At(t.slice(2)),e]}let tn=0;const bu=Promise.resolve(),wu=()=>tn||(bu.then(()=>tn=0),tn=Date.now());function Su(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;et(ku(r,s.value),e,5,[r])};return s.value=t,s.attached=wu(),s}function ku(t,e){if(N(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Mi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Eu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?du(t,r,o):e==="style"?gu(t,s,r):Er(e)?jn(e)||mu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tu(t,e,r,o))?(Ui(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Li(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!de(r))?Ui(t,Ue(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Li(t,e,r,o))};function Tu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Mi(e)&&F(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Mi(e)&&de(s)?!1:e in t}const ss=t=>{const e=t.props["onUpdate:modelValue"]||!1;return N(e)?s=>ar(e,s):e};function Au(t){t.target.composing=!0}function Fi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ct=Symbol("_assign"),Ou={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[ct]=ss(n);const i=r||n.props&&n.props.type==="number";bt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=fr(a)),t[ct](a)}),s&&bt(t,"change",()=>{t.value=t.value.trim()}),e||(bt(t,"compositionstart",Au),bt(t,"compositionend",Fi),bt(t,"change",Fi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[ct]=ss(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?fr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Bi={deep:!0,created(t,e,s){t[ct]=ss(s),bt(t,"change",()=>{const r=t._modelValue,n=Ds(t),i=t.checked,o=t[ct];if(N(r)){const a=Ln(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(os(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(wa(t,i))})},mounted:qi,beforeUpdate(t,e,s){t[ct]=ss(s),qi(t,e,s)}};function qi(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(N(e))n=Ln(e,r.props.value)>-1;else if(os(e))n=e.has(r.props.value);else{if(e===s)return;n=Bs(e,wa(t,!0))}t.checked!==n&&(t.checked=n)}const xu={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=os(e);bt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?fr(Ds(o)):Ds(o));t[ct](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Hn(()=>{t._assigning=!1})}),t[ct]=ss(r)},mounted(t,{value:e}){Vi(t,e)},beforeUpdate(t,e,s){t[ct]=ss(s)},updated(t,{value:e}){t._assigning||Vi(t,e)}};function Vi(t,e){const s=t.multiple,r=N(e);if(!(s&&!r&&!os(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Ds(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Ln(e,a)>-1}else o.selected=e.has(a);else if(Bs(Ds(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ds(t){return"_value"in t?t._value:t.value}function wa(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Pu=["ctrl","shift","alt","meta"],Cu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Pu.some(s=>t[`${s}Key`]&&!e.includes(s))},Sa=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Cu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Iu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ju=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=At(n.key);if(e.some(o=>o===i||Iu[o]===i))return t(n)})},$u=we({patchProp:Eu},cu);let Hi;function Ru(){return Hi||(Hi=$c($u))}const Lu=(...t)=>{const e=Ru().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Du(r);if(!n)return;const i=e._component;!F(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Uu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Uu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Du(t){return de(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ka;const Lr=t=>ka=t,Ea=Symbol();function wn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var As;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(As||(As={}));function Nu(){const t=So(!0),e=t.run(()=>X({}));let s=[],r=[];const n=Vn({install(i){Lr(n),n._a=i,i.provide(Ea,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Ta=()=>{};function zi(t,e,s,r=Ta){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&ko()&&yl(n),n}function qt(t,...e){t.slice().forEach(s=>{s(...e)})}const Mu=t=>t(),Ki=Symbol(),sn=Symbol();function Sn(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];wn(n)&&wn(r)&&t.hasOwnProperty(s)&&!ue(r)&&!kt(r)?t[s]=Sn(n,r):t[s]=r}return t}const Fu=Symbol();function Bu(t){return!wn(t)||!t.hasOwnProperty(Fu)}const{assign:gt}=Object;function qu(t){return!!(ue(t)&&t.effect)}function Vu(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Fo(s.state.value[t]);return gt(c,i,Object.keys(o||{}).reduce((d,p)=>(d[p]=Vn(re(()=>{Lr(s);const g=s._s.get(t);return o[p].call(g,g)})),d),{}))}return l=Aa(t,u,e,s,r,!0),l}function Aa(t,e,s={},r,n,i){let o;const a=gt({actions:{}},s),l={deep:!0};let u,c,d=[],p=[],g;const y=r.state.value[t];!i&&!y&&(r.state.value[t]={}),X({});let m;function v(G){let Q;u=c=!1,typeof G=="function"?(G(r.state.value[t]),Q={type:As.patchFunction,storeId:t,events:g}):(Sn(r.state.value[t],G),Q={type:As.patchObject,payload:G,storeId:t,events:g});const he=m=Symbol();Hn().then(()=>{m===he&&(u=!0)}),c=!0,qt(d,Q,r.state.value[t])}const _=i?function(){const{state:Q}=s,he=Q?Q():{};this.$patch($e=>{gt($e,he)})}:Ta;function x(){o.stop(),d=[],p=[],r._s.delete(t)}const w=(G,Q="")=>{if(Ki in G)return G[sn]=Q,G;const he=function(){Lr(r);const $e=Array.from(arguments),He=[],pt=[];function us(K){He.push(K)}function Qs(K){pt.push(K)}qt(p,{args:$e,name:he[sn],store:$,after:us,onError:Qs});let ce;try{ce=G.apply(this&&this.$id===t?this:$,$e)}catch(K){throw qt(pt,K),K}return ce instanceof Promise?ce.then(K=>(qt(He,K),K)).catch(K=>(qt(pt,K),Promise.reject(K))):(qt(He,ce),ce)};return he[Ki]=!0,he[sn]=Q,he},S={_p:r,$id:t,$onAction:zi.bind(null,p),$patch:v,$reset:_,$subscribe(G,Q={}){const he=zi(d,G,Q.detached,()=>$e()),$e=o.run(()=>Zt(()=>r.state.value[t],He=>{(Q.flush==="sync"?c:u)&&G({storeId:t,type:As.direct,events:g},He)},gt({},l,Q)));return he},$dispose:x},$=as(S);r._s.set(t,$);const z=(r._a&&r._a.runWithContext||Mu)(()=>r._e.run(()=>(o=So()).run(()=>e({action:w}))));for(const G in z){const Q=z[G];if(ue(Q)&&!qu(Q)||kt(Q))i||(y&&Bu(Q)&&(ue(Q)?Q.value=y[G]:Sn(Q,y[G])),r.state.value[t][G]=Q);else if(typeof Q=="function"){const he=w(Q,G);z[G]=he,a.actions[G]=Q}}return gt($,z),gt(Y($),z),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:G=>{v(Q=>{gt(Q,G)})}}),r._p.forEach(G=>{gt($,o.run(()=>G({store:$,app:r._a,pinia:r,options:a})))}),y&&i&&s.hydrate&&s.hydrate($.$state,y),u=!0,c=!0,$}/*! #__NO_SIDE_EFFECTS__ */function ei(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=Ac();return a=a||(u?Es(Ea,null):null),a&&Lr(a),a=ka,a._s.has(r)||(i?Aa(r,e,n,a):Vu(r,n,a)),a._s.get(r)}return o.$id=r,o}const Hu="modulepreload",zu=function(t){return"/"+t},Wi={},zs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=zu(l),l in Wi)return;Wi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Hu,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ku=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>zs(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ti extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Wu extends ti{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gi extends ti{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ji extends ti{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kn||(kn={}));var Gu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ju{constructor(e,{headers:s={},customFetch:r,region:n=kn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Ku(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Gu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(m=>{throw new Wu(m)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new Gi(d);if(!d.ok)throw new Ji(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield d.json():g==="application/octet-stream"?y=yield d.blob():g==="text/event-stream"?y=d:g==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof Ji||n instanceof Gi?n.context:void 0}}})}}var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Oe={},si={},Ur={},Ks={},Dr={},Nr={},Yu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rs=Yu();const Xu=rs.fetch,Oa=rs.fetch.bind(rs),xa=rs.Headers,Zu=rs.Request,ed=rs.Response,ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:xa,Request:Zu,Response:ed,default:Oa,fetch:Xu},Symbol.toStringTag,{value:"Module"})),td=Qu(ls);var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});let sd=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Mr.default=sd;var Pa=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nr,"__esModule",{value:!0});const rd=Pa(td),nd=Pa(Mr);let id=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=rd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&m===""?(p=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new nd.default(u)}return{error:u,data:c,count:d,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Nr.default=id;var od=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dr,"__esModule",{value:!0});const ad=od(Nr);let ld=class extends ad.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Dr.default=ld;var cd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});const ud=cd(Dr);let dd=class extends ud.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Ks.default=dd;var hd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ur,"__esModule",{value:!0});const vs=hd(Ks);let fd=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new vs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new vs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new vs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ur.default=fd;var Fr={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.version=void 0;Br.version="0.0.0-automated";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.DEFAULT_HEADERS=void 0;const pd=Br;Fr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pd.version}`};var Ca=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(si,"__esModule",{value:!0});const gd=Ca(Ur),vd=Ca(Ks),_d=Fr;let md=class Ia{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},_d.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new gd.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ia(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new vd.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};si.default=md;var cs=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const ja=cs(si);Oe.PostgrestClient=ja.default;const $a=cs(Ur);Oe.PostgrestQueryBuilder=$a.default;const Ra=cs(Ks);Oe.PostgrestFilterBuilder=Ra.default;const La=cs(Dr);Oe.PostgrestTransformBuilder=La.default;const Ua=cs(Nr);Oe.PostgrestBuilder=Ua.default;const Da=cs(Mr);Oe.PostgrestError=Da.default;var yd=Oe.default={PostgrestClient:ja.default,PostgrestQueryBuilder:$a.default,PostgrestFilterBuilder:Ra.default,PostgrestTransformBuilder:La.default,PostgrestBuilder:Ua.default,PostgrestError:Da.default};const{PostgrestClient:bd,PostgrestQueryBuilder:Op,PostgrestFilterBuilder:xp,PostgrestTransformBuilder:Pp,PostgrestBuilder:Cp,PostgrestError:Ip}=yd;function wd(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Sd=wd(),kd="2.11.15",Ed=`realtime-js/${kd}`,Td="1.0.0",Na=1e4,Ad=1e3;var Os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Os||(Os={}));var me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(me||(me={}));var Me;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Me||(Me={}));var En;(function(t){t.websocket="websocket"})(En||(En={}));var Ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ut||(Ut={}));class Od{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ma{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const Qi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=xd(o,t,e,n),i),{})},xd=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Fa(i,o):Tn(o)},Fa=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return jd(e,s)}switch(t){case oe.bool:return Pd(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Cd(e);case oe.json:case oe.jsonb:return Id(e);case oe.timestamp:return $d(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Tn(e);default:return Tn(e)}},Tn=t=>t,Pd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Id=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jd=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Fa(e,a))}return t},$d=t=>typeof t=="string"?t.replace(" ","T"):t,Ba=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class rn{constructor(e,s,r={},n=Na){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Yi||(Yi={}));class xs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const p=c.map(v=>v.presence_ref),g=d.map(v=>v.presence_ref),y=c.filter(v=>g.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(a[u]=y),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),p=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xi||(Xi={}));var Zi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zi||(Zi={}));var nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nt||(nt={}));class ri{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new rn(this,Me.join,this.params,this.timeout),this.rejoinTimer=new Ma(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Me.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new xs(this),this.broadcastEndpointURL=Ba(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(nt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(nt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(nt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,y=[];for(let m=0;m<g;m++){const v=p[m],{filter:{event:_,schema:x,table:w,filter:S}}=v,$=c&&c[m];if($&&$.event===_&&$.schema===x&&$.table===w&&$.filter===S)y.push(Object.assign(Object.assign({},v),{id:$.id}));else{this.unsubscribe(),this.state=me.errored,e==null||e(nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(nt.SUBSCRIBED);return}}).receive("error",c=>{this.state=me.errored,e==null||e(nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Me.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new rn(this,Me.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new rn(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Me;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var y,m,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=g.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,m,v,_,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const S=g.id,$=(y=g.filter)===null||y===void 0?void 0:y.event;return S&&((m=s.ids)===null||m===void 0?void 0:m.includes(S))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((v=s.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(x=(_=g==null?void 0:g.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:m,table:v,commit_timestamp:_,type:x,errors:w}=y;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:_,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ri.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Me.close,{},e)}_onError(e){this._on(Me.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Qi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Qi(e.columns,e.old_record)),s}}const eo=()=>{},Rd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ld{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Na,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eo,this.ref=0,this.logger=eo,this.conn=null,this.sendBuffer=[],this.serializer=new Od,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>zs(async()=>{const{default:l}=await Promise.resolve().then(()=>ls);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${En.websocket}`,this.httpEndpoint=Ba(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ma(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Sd),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Td}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Ut.Connecting;case Os.open:return Ut.Open;case Os.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new ri(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Ed};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Me.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Ad,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Me.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Rd],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class ni extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ud extends ni{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class An extends ni{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Dd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const qa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>zs(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Nd=()=>Dd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zs(()=>Promise.resolve().then(()=>ls),void 0)).Response:Response}),On=t=>{if(Array.isArray(t))return t.map(s=>On(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=On(r)}),e};var Mt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Md=(t,e,s)=>Mt(void 0,void 0,void 0,function*(){const r=yield Nd();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Ud(nn(n),t.status||500))}).catch(n=>{e(new An(nn(n),n))}):e(new An(nn(t),t))}),Fd=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ws(t,e,s,r,n,i){return Mt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Fd(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Md(l,a,r))})})}function wr(t,e,s,r){return Mt(this,void 0,void 0,function*(){return Ws(t,"GET",e,s,r)})}function yt(t,e,s,r,n){return Mt(this,void 0,void 0,function*(){return Ws(t,"POST",e,r,n,s)})}function Bd(t,e,s,r,n){return Mt(this,void 0,void 0,function*(){return Ws(t,"PUT",e,r,n,s)})}function qd(t,e,s,r){return Mt(this,void 0,void 0,function*(){return Ws(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Va(t,e,s,r,n){return Mt(this,void 0,void 0,function*(){return Ws(t,"DELETE",e,r,n,s)})}var Ae=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Vd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},to={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hd{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=qa(n)}uploadOrUpdate(e,s,r,n){return Ae(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},to),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:to.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ni("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ae(this,void 0,void 0,function*(){try{const n=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}download(e,s){return Ae(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield wr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(e){return Ae(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield wr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:On(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(e){return Ae(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield qd(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof An){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ae(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Vd),s),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const zd="2.7.1",Kd={"X-Client-Info":`storage-js/${zd}`};var Vt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Wd{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Kd),s),this.fetch=qa(r)}listBuckets(){return Vt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Vt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Vt(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}}class Gd extends Wd{constructor(e,s={},r){super(e,s,r)}from(e){return new Hd(this.url,this.headers,e,this.fetch)}}const Jd="2.50.3";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const Qd={"X-Client-Info":`supabase-js-${ms}/${Jd}`},Yd={headers:Qd},Xd={schema:"public"},Zd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eh={};var th=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const sh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Oa:e=fetch,(...s)=>e(...s)},rh=()=>typeof Headers>"u"?xa:Headers,nh=(t,e,s)=>{const r=sh(s),n=rh();return(i,o)=>th(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ih=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function oh(t){return t.endsWith("/")?t:t+"/"}function ah(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ih(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Ha="2.70.0",Gt=30*1e3,xn=3,on=xn*Gt,lh="http://localhost:9999",ch="supabase.auth.token",uh={"X-Client-Info":`gotrue-js/${Ha}`},Pn="X-Supabase-Api-Version",za={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hh=6e5;class ii extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fh extends ii{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function ph(t){return B(t)&&t.name==="AuthApiError"}class Ka extends ii{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class xt extends ii{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class vt extends xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gh(t){return B(t)&&t.name==="AuthSessionMissingError"}class sr extends xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rr extends xt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nr extends xt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vh(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class so extends xt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cn extends xt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function an(t){return B(t)&&t.name==="AuthRetryableFetchError"}class ro extends xt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ps extends xt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),no=` 	
\r=`.split(""),_h=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<no.length;e+=1)t[no[e].charCodeAt(0)]=-2;for(let e=0;e<Sr.length;e+=1)t[Sr[e].charCodeAt(0)]=e;return t})();function io(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Sr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Sr[r]),e.queuedBits-=6}}function Wa(t,e,s){const r=_h[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{bh(o,r,s)};for(let o=0;o<t.length;o+=1)Wa(t.charCodeAt(o),n,i);return e.join("")}function mh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}mh(r,e)}}function bh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function wh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Wa(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Sh(t){const e=[];return yh(t,s=>e.push(s)),new Uint8Array(e)}function kh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>io(n,s,r)),io(null,s,r),e.join("")}function Eh(t){return Math.round(Date.now()/1e3)+t}function Th(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ne=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},Cs=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function Ah(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Ga=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>zs(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Oh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ja=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ir=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},or=async(t,e)=>{await t.removeItem(e)};class qr{constructor(){this.promise=new qr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}qr.promiseConstructor=Promise;function ln(t){const e=t.split(".");if(e.length!==3)throw new Ps("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dh.test(e[r]))throw new Ps("JWT not in base64url format");return{header:JSON.parse(oo(e[0])),payload:JSON.parse(oo(e[1])),signature:wh(e[2]),raw:{header:e[0],payload:e[1]}}}async function xh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ph(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ch(t){return("0"+t.toString(16)).substr(-2)}function Ih(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ch).join("")}async function jh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function $h(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await jh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ht(t,e,s=!1){const r=Ih();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ja(t,`${e}-code-verifier`,n);const i=await $h(r);return[i,r===i?"plain":"s256"]}const Rh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lh(t){const e=t.headers.get(Pn);if(!e||!e.match(Rh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Uh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Dh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zt(t){if(!Nh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Mh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Lt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fh=[502,503,504];async function ao(t){var e;if(!Oh(t))throw new Cn(Lt(t),0);if(Fh.includes(t.status))throw new Cn(Lt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Ka(Lt(i),i)}let r;const n=Lh(t);if(n&&n.getTime()>=za["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ro(Lt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new vt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ro(Lt(s),t.status,s.weak_password.reasons);throw new fh(Lt(s),t.status||500,r)}const Bh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function H(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Pn]||(i[Pn]=za["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await qh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qh(t,e,s,r,n,i){const o=Bh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Cn(Lt(l),0)}if(a.ok||await ao(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ao(l)}}function st(t){var e;let s=null;Kh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Eh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function lo(t){const e=st(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Vh(t){return{data:t,error:null}}function Hh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Mh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function zh(t){return t}function Kh(t){return t.access_token&&t.refresh_token&&t.expires_in}const cn=["global","local","others"];var Wh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Gh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Ga(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=cn[0]){if(cn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cn.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Wh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Hh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(B(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:zh});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){zt(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){zt(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){zt(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){zt(e.userId);try{const{data:s,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(B(s))return{data:null,error:s};throw s}}async _deleteFactor(e){zt(e.userId),zt(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}}const Jh={getItem:t=>Cs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Cs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Cs()&&globalThis.localStorage.removeItem(t)}};function co(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Qh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kt={debug:!!(globalThis&&Cs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yh extends Qa{}async function Xh(t,e,s){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Yh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Qh();const Zh={url:lh,storageKey:ch,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uo(t,e,s){return await s()}class Ns{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&Ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Zh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Gh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ga(n.fetch),this.lock=n.lock||uo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ne()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Xh:this.lock=uo,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Cs()?this.storage=Jh:(this.memoryStorage={},this.storage=co(this.memoryStorage)):(this.memoryStorage={},this.storage=co(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ha}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Ah(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ne()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return B(s)?{error:s}:{error:new Ka("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:st}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:d,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ht(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:st})}else if("phone"in e){const{phone:c,password:d,options:p}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:st})}else throw new rr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lo})}else throw new rr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,d,p,g;let y,m;if("message"in e)y=e.message,m=e.signature;else{const{chain:v,wallet:_,statement:x,options:w}=e;let S;if(Ne())if(typeof _=="object")S=_;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))S=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const $=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const q=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),x?{statement:x}:null));let z;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")z=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)z=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)y=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),m=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${$.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(n=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const q=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=q}}try{const{data:v,error:_}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:kh(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:st});if(_)throw _;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new sr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:_})}catch(v){if(B(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const s=await ir(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:st});if(await or(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:st}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ht(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new rr("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:st});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ht(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Vh})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new vt;const{error:n}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await H(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await H(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new rr("You must provide either an email or phone number and a type")}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<on:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(s){if(B(s))return gh(s)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new vt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ht(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:wt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=ln(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(B(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new vt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ne())throw new nr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new so("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new so("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new nr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const g=p-c;g*1e3<=Gt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=p-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const _={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ph(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Th(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Ht(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ne()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ph(async n=>(n>0&&await xh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:st})),(n,i)=>{const o=200*Math.pow(2,n);return i&&an(i)&&Date.now()+o-r<Gt})}catch(r){if(this._debug(s,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ne()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ir(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<on;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${on}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),an(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new qr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),B(i)){const o={session:null,error:i};return an(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ja(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Gt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Gt}ms, refresh threshold is ${xn} ticks`),n<=xn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ht(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(B(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ln(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+hh>Date.now()))return r;const{data:n,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ps("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Ps("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=ln(r);if(Uh(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Dh(n.alg),c=await this.fetchJwk(n.kid,s),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Sh(`${a}.${l}`)))throw new Ps("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}Ns.nextInstanceID=0;const ef=Ns;class tf extends ef{constructor(e){super(e)}}var sf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class rf{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=oh(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Xd,realtime:eh,auth:Object.assign(Object.assign({},Zd),{storageKey:u}),global:Yd},d=ah(r??{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=nh(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bd(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ju(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gd(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return sf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tf({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ld(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nf=(t,e,s)=>new rf(t,e,s),es={},of=(es==null?void 0:es.VITE_SUPABASE_URL)||"https://placeholder.supabase.co",af=(es==null?void 0:es.VITE_SUPABASE_ANON_KEY)||"placeholder-key",Ye=nf(of,af,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Ya=ei("auth",()=>{const t=X(null),e=X(null),s=X(!1),r=X(null),n=re(()=>!!t.value&&!!e.value),i=re(()=>{var y,m;return((m=(y=t.value)==null?void 0:y.user_metadata)==null?void 0:m.language)||"en"}),o=async(y,m)=>{s.value=!0,r.value=null;try{const{data:v,error:_}=await Ye.auth.signInWithPassword({email:y,password:m});if(_)throw _;t.value=v.user,e.value=v.session}catch(v){throw r.value=v instanceof Error?v.message:"Authentication failed",v}finally{s.value=!1}},a=async(y,m,v)=>{s.value=!0,r.value=null;try{const{data:_,error:x}=await Ye.auth.signUp({email:y,password:m,options:{data:{full_name:v,language:"en"}}});if(x)throw x;return _}catch(_){throw r.value=_ instanceof Error?_.message:"Sign up failed",_}finally{s.value=!1}},l=async()=>{s.value=!0,r.value=null;try{const{data:y,error:m}=await Ye.auth.signInWithOAuth({provider:"apple",options:{redirectTo:window.location.origin}});if(m)throw m;return y}catch(y){throw r.value=y instanceof Error?y.message:"Apple Sign-In failed",y}finally{s.value=!1}},u=async()=>{try{const{error:y}=await Ye.auth.signOut();y&&console.warn("Logout error:",y)}catch(y){console.warn("Logout failed:",y)}finally{t.value=null,e.value=null}},c=async()=>{try{const{data:{session:y},error:m}=await Ye.auth.getSession();if(m){console.error("Error getting session:",m);return}y&&(t.value=y.user,e.value=y)}catch(y){console.error("Failed to initialize auth:",y)}},d=()=>{Ye.auth.onAuthStateChange((y,m)=>{y==="SIGNED_IN"&&m?(t.value=m.user,e.value=m):y==="SIGNED_OUT"&&(t.value=null,e.value=null)})},p=async y=>{if(t.value)try{const{data:m,error:v}=await Ye.auth.updateUser({data:y});if(v)throw v;m.user&&(t.value=m.user)}catch(m){throw r.value=m instanceof Error?m.message:"Failed to update user",m}};return{user:t,session:e,isLoading:s,error:r,isAuthenticated:n,currentLanguage:i,signInWithEmail:o,signUpWithEmail:a,signInWithApple:l,logout:u,initializeFromStorage:c,setupAuthListener:d,updateUserMetadata:p,updateLanguage:async y=>{await p({language:y})}}}),Xa=ei("app",()=>{const t=Ya(),e=X({}),s=X(!navigator.onLine),r=X([]),n=X(null),i=re(()=>r.value.length>0),o=re(()=>!s.value),a=m=>{var v;return((v=e.value[m])==null?void 0:v.settings)||{}},l=async(m,v)=>{var S;const _=`${m}_settings`,x=(S=t.user)==null?void 0:S.id;if(!x){console.warn("No user ID available for settings update");return}e.value[m]={id:_,userId:x,appName:m,settings:v,createdAt:new Date,updatedAt:new Date};const w={id:crypto.randomUUID(),type:"UPDATE_APP_SETTINGS",payload:{appName:m,settings:v},timestamp:new Date,synced:!1};r.value.push(w),o.value&&await u()},u=async()=>{if(!o.value||r.value.length===0)return;const m=r.value.filter(v=>!v.synced);for(const v of m)try{await c(v),v.synced=!0}catch(_){console.error("Failed to sync action:",v,_);break}r.value=r.value.filter(v=>!v.synced),n.value=new Date},c=async m=>{var _;const v=(_=t.user)==null?void 0:_.id;if(!v)throw new Error("No user ID available for sync");switch(m.type){case"UPDATE_APP_SETTINGS":const{appName:x,settings:w}=m.payload,{error:S}=await Ye.from("user_settings").upsert({user_id:v,app_name:x,settings:w,updated_at:new Date().toISOString()},{onConflict:"user_id,app_name"});if(S)throw S;break;default:console.warn("Unknown sync action type:",m.type)}};return{appSettings:e,isOffline:s,syncQueue:r,lastSync:n,hasPendingSync:i,isOnline:o,getAppSettings:a,updateAppSettings:l,syncPendingActions:u,loadAppSettings:async m=>{var _;const v=(_=t.user)==null?void 0:_.id;if(!v){console.warn("No user ID available for loading settings");return}try{const{data:x,error:w}=await Ye.from("user_settings").select("*").eq("user_id",v).eq("app_name",m).single();if(w&&w.code!=="PGRST116")throw w;x&&(e.value[m]={id:x.id,userId:x.user_id,appName:x.app_name,settings:x.settings,createdAt:new Date(x.created_at),updatedAt:new Date(x.updated_at)})}catch(x){console.error("Failed to load app settings:",x)}},loadAllAppSettings:async()=>{var v;const m=(v=t.user)==null?void 0:v.id;if(!m){console.warn("No user ID available for loading all settings");return}try{const{data:_,error:x}=await Ye.from("user_settings").select("*").eq("user_id",m);if(x)throw x;if(_){const w={};_.forEach(S=>{w[S.app_name]={id:S.id,userId:S.user_id,appName:S.app_name,settings:S.settings,createdAt:new Date(S.created_at),updatedAt:new Date(S.updated_at)}}),e.value=w}}catch(_){console.error("Failed to load all app settings:",_)}},clearAppData:()=>{e.value={},r.value=[],n.value=null},initializeNetworkMonitoring:()=>{const m=()=>{s.value=!navigator.onLine,navigator.onLine&&r.value.length>0&&u()};return window.addEventListener("online",m),window.addEventListener("offline",m),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",m)}}}});var lf=Object.defineProperty,cf=Object.defineProperties,uf=Object.getOwnPropertyDescriptors,ho=Object.getOwnPropertySymbols,df=Object.prototype.hasOwnProperty,hf=Object.prototype.propertyIsEnumerable,fo=(t,e,s)=>e in t?lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Et=(t,e)=>{for(var s in e||(e={}))df.call(e,s)&&fo(t,s,e[s]);if(ho)for(var s of ho(e))hf.call(e,s)&&fo(t,s,e[s]);return t},Gs=(t,e)=>cf(t,uf(e)),ff=t=>t===""?"":t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/([\d])([a-zA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),pf=t=>!isNaN(t)&&typeof t=="number",oi=t=>typeof t=="object"&&!Array.isArray(t),ns=t=>typeof t=="object"&&Array.isArray(t)&&!oi(t),Vr=t=>{if(!Array.isArray(t)||t.length===0)return!1;for(let e=0;e<t.length;e++)if(typeof t[e]!="string")return!1;return!0},xe=t=>typeof t=="string",Za=t=>t==null,Ms=t=>Vr(t)?t:xe(t)?[t]:[],el=t=>{const e=t.map(s=>s&&typeof s=="string"&&s.includes(" ")?el(s.split(" ")):(s&&typeof s=="string"?s.trim():null)||"").flat().filter(s=>s!=="");return[...new Set(e)]},gf=t=>t==null?!0:t!==void 0?!!t:!1,vf=t=>typeof t=="boolean",Hr={ARRAY:"array"},at={STRING:"string",ARRAY:"array",OBJECT:"object",NONE:"none",FALSE:"false"},_f=t=>xe(t)?t:"",mf=t=>xe(t)||Vr(t)?t:"",kr=t=>{if(!oi(t)||ns(t)||xe(t)||Za(t))return!1;const e=["b","block","e","element","m","modifier","s","show"];return![...new Set(Object.keys(t).find(r=>!e.includes(r)))].length},yf=t=>!!(ns(t)&&xe(t[0])&&(Vr(t[1])||xe(t[1]))),bf=t=>!xe(t)&&t[2]!==void 0&&!t[2],wf=(t,e,s={})=>{const r=[];return is(t,_f(e[0]),mf(e[1]),Gs(Et({},s),{return:Hr.ARRAY})).forEach(i=>{r.push(i)}),r},po=(t,e,s={})=>{const r={block:t,element:"",modifier:""};if(e.includes(":")){const[n,i]=e.split(":");r.element=n,r.modifier=i}else r.element=e;return is(r.block,r.element,r.modifier,Gs(Et({},s),{return:Hr.ARRAY}))},Sf=(t,e,s={})=>{if(e.show!==void 0&&!e.show||e.s!==void 0&&!e.s)return[];const r=(e==null?void 0:e.block)||e.b||t,n={element:e.element||e.e||"",modifier:e.modifier||e.m||""};return is(r,n.element,n.modifier,Gs(Et({},s),{return:Hr.ARRAY}))},kf=t=>Za(t)?at.NONE:xe(t)?at.STRING:(ns(t)&&t.length<2||yf(t))&&!bf(t)?at.ARRAY:kr(t)?at.OBJECT:at.FALSE,Ef=(t,e={})=>(...r)=>{const n=xe(t)?[t]:t;let i=[];return n.forEach(o=>{(r.length==0||r[0]==null||r[0]=="")&&i.push(...is(o,"","",{return:Hr.ARRAY})),r.forEach((a,l)=>{switch(kf(a)){case at.NONE:i.push(...po(o,"",e));break;case at.STRING:i.push(...po(o,a,e));break;case at.ARRAY:i.push(...wf(o,a,e));break;case at.OBJECT:i.push(...Sf(o,a,e));break}})}),ai({classes:el(i),settings:e})},Is={ARRAY:"array",STRING:"string",AUTO:"auto"},tl=(t,e,s)=>{const r=(t==null?void 0:t.show)!==void 0?t==null?void 0:t.show:vf(s.show)?s.show:!0;let n={element:s.element,modifier:s.modifier,show:r};if((xe(t)||Vr(t))&&xe(e))n={element:t,modifier:e,show:r};else if(kr(t)){const i=t;n={element:i.element,modifier:i.modifier,show:r}}return n},sl=t=>{let e=Et({modifier:"--",element:"__"},t.prefix);return Gs(Et({toKebabCase:!0,return:Is.AUTO,includeBaseClass:!1},t),{prefix:e})},ai=t=>{const e=Array.from(new Set(t.classes.filter(s=>s!=="")));switch(t.settings.return){case Is.STRING:return e.join(" ");case Is.ARRAY:return e;default:case Is.AUTO:return e.length==1?e[0]:e}},dr=(t,e)=>(e.toKebabCase&&(t=ff(t)),t),Tf=t=>t.element==null||t.element==""||t.element.length==0?dr(t.block,t.settings):Ms(t.element).map(e=>{var s;return`${dr(t.block,t.settings)}${(s=t.settings.prefix)==null?void 0:s.element}${dr(e,t.settings)}`}).join(" "),hr=t=>{var e;return t.modifier==null||t.modifier==""?t.elementClass:`${t.elementClass}${(e=t.settings.prefix)==null?void 0:e.modifier}${dr(t.modifier,t.settings)}`},Af=t=>{const e=[];return t.modifier.forEach(s=>{e.push(hr({elementClass:t.elementClass,modifier:s,settings:t.settings}))}),e},Of=t=>{const e=[];return Object.keys(t.modifier).forEach(s=>{const r=!!t.modifier[s];if(!s.includes("|"))e.push(hr({elementClass:t.elementClass,modifier:r?s:null,settings:t.settings}));else if(pf(t.modifier[s])){const n=t.modifier[s],o=s.split("|")[n]||"";e.push(hr({elementClass:t.elementClass,modifier:o,settings:t.settings}))}else{const n=s.split("|")[0],i=s.split("|")[1];e.push(hr({elementClass:t.elementClass,modifier:r?n:i,settings:t.settings}))}}),e},is=(t,e="",s="",r)=>{if(t=="")return[];const{modifier:n}=tl(e,s,{element:e,modifier:s}),i=sl(r),o=[];return Ms(e).forEach(a=>{const l=Tf({block:t,element:a,settings:i});switch(i.includeBaseClass&&o.push(l),!0){case xe(n):case ns(n):o.push(...Af({elementClass:l,modifier:Ms(n),settings:i}));break;case oi(n):o.push(...Of({elementClass:l,modifier:n,settings:i}));break;default:o.push(l)}}),ai({classes:o,settings:i})},xf=(t,e={})=>{const s=(n="",i="",o=e)=>{const a=sl(Et(Et({},e),o));if(xe(n)&&ns(n)&&n!==null&&!gf(n==null?void 0:n.show))return"";let l=[];const{element:u,modifier:c,show:d}=tl(n,i,{element:kr(n)?n.element:n,modifier:kr(n)?n.modifier:i});switch(!0){case xe(t):l=is(t,u,c,Gs(Et({},a),{return:Is.ARRAY}));break;case ns(t):l=Ms(t).flatMap(p=>Ms(n).map(g=>is(p,g,i,a)).flat()).flat();break}return d?ai({classes:l,settings:a}):""},r=s;return r.bemm=s,r.classes=Ef(t,e),r};const Js=t=>{const e=xf(t);return{bem:(n,i)=>{if(!n&&!i)return e();if(n&&!i)return e(n);if(typeof i=="string")return e(n,i);if(Array.isArray(i)){const o=n?e(n):e(),a=i.map(l=>e(n,l));return[o,...a].join(" ")}return e(n)},bemClass:(n,i)=>{if(!i)return n?e(n):e();const o={};return Object.entries(i).forEach(([a,l])=>{o[a]=l}),e(n,o)},bemm:e}},Pf=["aria-label","aria-hidden","innerHTML"],Cf=Ot({__name:"TIcon",props:{name:{},size:{default:"medium"},color:{},ariaLabel:{},ariaHidden:{type:Boolean,default:!0}},setup(t){const e=async l=>`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
    <text x="12" y="16" text-anchor="middle" font-size="12" fill="currentColor">${l.charAt(0).toUpperCase()}</text>
  </svg>`,s=t,{bemClass:r}=Js("icon"),n=X("");Zt(()=>s.name,async l=>{try{const u=await e(l);n.value=u||""}catch(u){console.warn(`Failed to load icon: ${l}`,u),n.value=""}},{immediate:!0});const o=re(()=>{const l=typeof s.size=="string"&&["small","medium","large"].includes(s.size)?s.size:"custom";return r(void 0,{[l]:!0})}),a=re(()=>{const l={};return typeof s.size=="string"&&!["small","medium","large"].includes(s.size)&&(l.fontSize=s.size,l.width=s.size,l.height=s.size),s.color&&(l.color=s.color),l});return(l,u)=>(V(),te("span",{class:R(o.value),style:xr(a.value),role:"img","aria-label":l.ariaLabel,"aria-hidden":l.ariaHidden,innerHTML:n.value},null,14,Pf))}}),Ft=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Fe=Ft(Cf,[["__scopeId","data-v-3714a172"]]),If={key:1,class:"button__label"},jf={key:3,class:"button__spinner","aria-hidden":"true"},$f=Ot({__name:"TButton",props:{action:{},onLongPress:{},longPressTime:{default:500},type:{default:"default"},size:{default:"medium"},color:{default:"primary"},status:{default:"idle"},label:{},icon:{},iconPosition:{default:"left"},disabled:{type:Boolean},loading:{type:Boolean},vibrate:{type:Boolean,default:!0},htmlType:{default:"button"},to:{},ariaLabel:{},ariaDescribedBy:{}},emits:["click","longPress"],setup(t,{emit:e}){const s=t,r=e,{bemClass:n}=Js("button"),i=as({isPressed:!1,timer:null,startTime:0}),o=re(()=>s.to?"router-link":"button"),a=vc(),l=re(()=>!!(s.label||a.default)),u=re(()=>s.icon&&s.iconPosition==="left"),c=re(()=>s.icon&&s.iconPosition==="right"),d=re(()=>s.status==="success"?"check":s.status==="error"?"x":s.icon||""),p=re(()=>s.status==="success"?"check":s.status==="error"?"x":s.icon||""),g=re(()=>({small:"small",medium:"medium",large:"large"})[s.size]),y=re(()=>n(void 0,{[s.type]:!0,[s.size]:!0,[s.color]:!0,[s.status]:!0,disabled:s.disabled,loading:s.loading,"has-icon":!!s.icon,"icon-only":!!s.icon&&!l.value,"is-pressed":i.isPressed})),m=w=>{var S;s.disabled||s.loading||(r("click",w),(S=s.action)==null||S.call(s))},v=w=>{s.disabled||s.loading||!s.onLongPress||(i.isPressed=!0,i.startTime=Date.now(),i.timer=window.setTimeout(()=>{var S;i.isPressed&&(s.vibrate&&"vibrate"in navigator&&navigator.vibrate(50),r("longPress"),(S=s.onLongPress)==null||S.call(s))},s.longPressTime))},_=()=>{i.isPressed=!1,i.timer&&(clearTimeout(i.timer),i.timer=null)},x=w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),m(w))};return Gn(()=>{i.timer&&clearTimeout(i.timer)}),(w,S)=>(V(),lt(hc(o.value),{class:R(y.value),disabled:w.disabled||w.loading,type:o.value==="button"?w.htmlType:void 0,to:o.value==="router-link"?w.to:void 0,"aria-label":w.ariaLabel||w.label,"aria-describedby":w.ariaDescribedBy,"aria-pressed":w.status==="success"?"true":void 0,onClick:m,onPointerdown:v,onPointerup:_,onPointerleave:_,onKeydown:x},{default:Kn(()=>[u.value?(V(),lt(Fe,{key:0,name:d.value,size:g.value,class:"button__icon button__icon--left","aria-hidden":"true"},null,8,["name","size"])):fe("",!0),l.value?(V(),te("span",If,[Qo(w.$slots,"default",{},()=>[Xn(Be(w.label),1)],!0)])):fe("",!0),c.value?(V(),lt(Fe,{key:2,name:p.value,size:g.value,class:"button__icon button__icon--right","aria-hidden":"true"},null,8,["name","size"])):fe("",!0),w.loading?(V(),te("div",jf,[W(Fe,{name:"loader",size:g.value},null,8,["size"])])):fe("",!0)]),_:3},40,["class","disabled","type","to","aria-label","aria-describedby","aria-pressed"]))}}),Re=Ft($f,[["__scopeId","data-v-558962aa"]]),Rf=["for"],Lf=["id","type","value","placeholder","disabled","readonly","min","max","step","aria-label","aria-describedby","aria-invalid"],Uf=["disabled"],Df=["disabled"],Nf=["id"],Mf=Ot({__name:"TInput",props:{modelValue:{},type:{default:"text"},label:{},placeholder:{},description:{},error:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},size:{default:"medium"},prefixIcon:{},suffixIcon:{},showSpinners:{type:Boolean,default:!0},min:{},max:{},step:{},ariaLabel:{}},emits:["update:modelValue","focus","blur","enter"],setup(t,{emit:e}){const s=t,r=e,{bemClass:n,bem:i}=Js("input"),o=re(()=>`input-${Math.random().toString(36).substr(2,9)}`),a=re(()=>`${o.value}-description`),l=X(!1),u=re(()=>!!s.error),c=re(()=>n(void 0,{[s.size]:!0,focused:l.value,disabled:s.disabled,readonly:s.readonly,error:u.value,"has-prefix":!!s.prefixIcon,"has-suffix":!!s.suffixIcon,"has-spinners":s.type==="number"&&s.showSpinners})),d=_=>{const x=_.target;let w=x.value;s.type==="number"&&(w=x.value===""?"":Number(x.value)),r("update:modelValue",w)},p=_=>{l.value=!0,r("focus",_)},g=_=>{l.value=!1,r("blur",_)},y=_=>{_.key==="Enter"&&r("enter",_)},m=()=>{if(s.disabled||s.readonly)return;const _=Number(s.modelValue)||0,x=s.step||1,w=_+x;(s.max===void 0||w<=s.max)&&r("update:modelValue",w)},v=()=>{if(s.disabled||s.readonly)return;const _=Number(s.modelValue)||0,x=s.step||1,w=_-x;(s.min===void 0||w>=s.min)&&r("update:modelValue",w)};return(_,x)=>(V(),te("div",{class:R(c.value)},[_.label?(V(),te("label",{key:0,for:o.value,class:R(I(n)("label"))},[Xn(Be(_.label)+" ",1),_.required?(V(),te("span",{key:0,class:R(I(n)("required"))},"*",2)):fe("",!0)],10,Rf)):fe("",!0),L("div",{class:R(I(n)("wrapper"))},[_.prefixIcon?(V(),lt(Fe,{key:0,name:_.prefixIcon,class:R(`${I(i)("icon")} ${I(i)("icon","prefix")}`)},null,8,["name","class"])):fe("",!0),L("input",{id:o.value,class:R(I(i)("field")),type:_.type,value:_.modelValue,placeholder:_.placeholder,disabled:_.disabled,readonly:_.readonly,min:_.min,max:_.max,step:_.step,"aria-label":_.ariaLabel||_.label,"aria-describedby":a.value,"aria-invalid":u.value,onInput:d,onFocus:p,onBlur:g,onKeydown:y},null,42,Lf),_.suffixIcon?(V(),lt(Fe,{key:1,name:_.suffixIcon,class:R(`${I(i)("icon")} ${I(i)("icon","suffix")}`)},null,8,["name","class"])):fe("",!0),_.type==="number"&&_.showSpinners?(V(),te("div",{key:2,class:R(I(i)("spinners"))},[L("button",{type:"button",class:R(`${I(i)("spinner")} ${I(i)("spinner","up")}`),onClick:m,disabled:_.disabled||_.max!==void 0&&Number(_.modelValue)>=_.max,"aria-label":"Increase value"},[W(Fe,{name:"chevron-up",size:"small"})],10,Uf),L("button",{type:"button",class:R(`${I(i)("spinner")} ${I(i)("spinner","down")}`),onClick:v,disabled:_.disabled||_.min!==void 0&&Number(_.modelValue)<=_.min,"aria-label":"Decrease value"},[W(Fe,{name:"chevron-down",size:"small"})],10,Df)],2)):fe("",!0)],2),_.description||u.value?(V(),te("div",{key:1,id:a.value,class:R(I(n)("description"))},[u.value?(V(),te("span",{key:0,class:R(I(n)("error"))},Be(_.error),3)):_.description?(V(),te("span",{key:1,class:R(I(n)("help"))},Be(_.description),3)):fe("",!0)],10,Nf)):fe("",!0)],2))}}),un=Ft(Mf,[["__scopeId","data-v-ad474a52"]]),Ff=Ot({__name:"TLoginForm",props:{isLoading:{type:Boolean,default:!1},error:{default:null}},emits:["appleSignIn","emailSignIn","emailSignUp","clearError"],setup(t,{expose:e,emit:s}){const r=s,{bemClass:n}=Js("login-form"),i=X(""),o=X(""),a=X(""),l=X(!1),u=X(!0),c=X(""),d=X(""),p=X(""),g=re(()=>l.value?(u.value,!!i.value&&!!o.value):!!i.value),y=re(()=>l.value?u.value?"Signing in...":"Creating account...":"Checking account..."),m=()=>{r("appleSignIn")},v=()=>{i.value&&(c.value="",l.value=!0)},_=()=>{g.value&&(c.value="",d.value="",u.value?r("emailSignIn",i.value,o.value):r("emailSignUp",i.value,o.value,a.value||void 0))},x=()=>{u.value=!u.value,d.value="",p.value=""},w=()=>{r("clearError")};return e({resetForm:()=>{i.value="",o.value="",a.value="",l.value=!1,u.value=!0,c.value="",d.value="",p.value=""}}),($,q)=>(V(),te("div",{class:R(I(n)())},[L("div",{class:R(I(n)("header"))},[L("h1",{class:R(I(n)("title"))},"Welcome to Tiko",2),L("p",{class:R(I(n)("subtitle"))},"Sign in to access your communication apps",2)],2),L("div",{class:R(I(n)("methods"))},[W(Re,{label:"Continue with Apple",icon:"apple",type:"fancy",color:"primary",size:"large",action:m,disabled:$.isLoading,class:R(I(n)("apple-button"))},null,8,["disabled","class"]),L("div",{class:R(I(n)("divider"))},[L("span",{class:R(I(n)("divider-text"))},"or",2)],2),L("form",{class:R(I(n)("form")),onSubmit:Sa(_,["prevent"])},[W(un,{modelValue:i.value,"onUpdate:modelValue":q[0]||(q[0]=z=>i.value=z),type:"email",label:"Email",placeholder:"Enter your email",error:c.value,disabled:$.isLoading,required:"",class:R(I(n)("email-input"))},null,8,["modelValue","error","disabled","class"]),l.value?(V(),lt(un,{key:0,modelValue:o.value,"onUpdate:modelValue":q[1]||(q[1]=z=>o.value=z),type:"password",label:"Password",placeholder:"Enter your password",error:d.value,disabled:$.isLoading,required:u.value,class:R(I(n)("password-input"))},null,8,["modelValue","error","disabled","required","class"])):fe("",!0),l.value?(V(),te("div",{key:1,class:R(I(n)("form-actions"))},[W(Re,{label:u.value?"Sign In":"Create Account",type:"fancy",color:"success",size:"large",action:_,disabled:!g.value||$.isLoading,class:R(I(n)("submit-button"))},null,8,["label","disabled","class"]),W(Re,{label:u.value?"Need an account?":"Already have an account?",type:"ghost",color:"secondary",size:"medium",action:x,disabled:$.isLoading,class:R(I(n)("toggle-button"))},null,8,["label","disabled","class"])],2)):(V(),te("div",{key:2,class:R(I(n)("form-actions"))},[W(un,{modelValue:a.value,"onUpdate:modelValue":q[2]||(q[2]=z=>a.value=z),type:"text",label:"Full Name (Optional)",placeholder:"Enter your full name",disabled:$.isLoading,class:R(I(n)("name-input"))},null,8,["modelValue","disabled","class"]),W(Re,{label:"Continue with Email",type:"fancy",color:"success",size:"large",action:v,disabled:!i.value||$.isLoading,class:R(I(n)("continue-button"))},null,8,["disabled","class"])],2))],34)],2),$.isLoading?(V(),te("div",{key:0,class:R(I(n)("loading"))},[L("div",{class:R(I(n)("loading-spinner"))},null,2),L("p",{class:R(I(n)("loading-text"))},Be(y.value),3)],2)):fe("",!0),$.error?(V(),te("div",{key:1,class:R(I(n)("error"))},[W(Fe,{name:"alert-circle",class:R(I(n)("error-icon"))},null,8,["class"]),L("p",{class:R(I(n)("error-message"))},Be($.error),3),W(Re,{label:"Try Again",type:"ghost",color:"error",size:"small",action:w,class:R(I(n)("error-button"))},null,8,["class"])],2)):fe("",!0),p.value?(V(),te("div",{key:2,class:R(I(n)("success"))},[W(Fe,{name:"check-circle",class:R(I(n)("success-icon"))},null,8,["class"]),L("p",{class:R(I(n)("success-message"))},Be(p.value),3)],2)):fe("",!0)],2))}}),Bf=Ft(Ff,[["__scopeId","data-v-c9b46457"]]),qf=Ot({__name:"TAuthWrapper",setup(t){const{bemClass:e}=Js("auth-wrapper"),s=Ya(),r=X(!0),n=X(!1),i=X(null),o=re(()=>s.isAuthenticated),a=async()=>{n.value=!0,i.value=null;try{await s.signInWithApple()}catch(d){i.value=d instanceof Error?d.message:"Apple Sign-In failed"}finally{n.value=!1}},l=async(d,p)=>{n.value=!0,i.value=null;try{await s.signInWithEmail(d,p)}catch(g){i.value=g instanceof Error?g.message:"Sign-in failed"}finally{n.value=!1}},u=async(d,p,g)=>{n.value=!0,i.value=null;try{await s.signUpWithEmail(d,p,g),i.value=null,i.value="Check your email to confirm your account"}catch(y){i.value=y instanceof Error?y.message:"Sign-up failed"}finally{n.value=!1}},c=()=>{i.value=null};return Vs(async()=>{try{s.setupAuthListener(),await s.initializeFromStorage()}catch(d){console.error("Failed to initialize auth:",d)}finally{r.value=!1}}),(d,p)=>(V(),te("div",{class:R(I(e)())},[r.value?(V(),te("div",{key:0,class:R(I(e)("loading"))},[L("div",{class:R(I(e)("loading-content"))},[L("div",{class:R(I(e)("loading-spinner"))},null,2),L("h2",{class:R(I(e)("loading-title"))},"Loading Tiko...",2),L("p",{class:R(I(e)("loading-subtitle"))},"Preparing your communication apps",2)],2)],2)):o.value?(V(),te("div",{key:2,class:R(I(e)("app"))},[Qo(d.$slots,"default",{},void 0)],2)):(V(),te("div",{key:1,class:R(I(e)("login"))},[L("div",{class:R(I(e)("login-background"))},[L("div",{class:R(I(e)("login-content"))},[W(Bf,{"is-loading":n.value,error:i.value,onAppleSignIn:a,onEmailSignIn:l,onEmailSignUp:u,onClearError:c},null,8,["is-loading","error"])],2)],2)],2))],2))}}),Vf=Ft(qf,[["__scopeId","data-v-43b7bd7b"]]),rl=ei("yesno",()=>{const t=Xa(),e=X("Do you want to play?"),s=X([]),r=X(!1),n={buttonSize:"large",autoSpeak:!0,hapticFeedback:!0},i=re(()=>{const v=t.getAppSettings("yes-no");return{...n,...v}}),o=re(()=>s.value.slice(-5).reverse()),a=async v=>{v.trim()&&(e.value=v.trim(),s.value.includes(v.trim())||(s.value.push(v.trim()),s.value.length>20&&(s.value=s.value.slice(-20)),await g()))},l=v=>{e.value=v},u=async()=>{if(!(!e.value||r.value)){r.value=!0;try{if("speechSynthesis"in window){const v=new SpeechSynthesisUtterance(e.value);v.rate=.8,v.pitch=1,v.volume=1,v.onend=()=>{r.value=!1},v.onerror=()=>{r.value=!1},speechSynthesis.speak(v)}else setTimeout(()=>{r.value=!1},1e3)}catch(v){console.error("Failed to speak question:",v),r.value=!1}}},c=async v=>{i.value.hapticFeedback&&"vibrate"in navigator&&navigator.vibrate(v==="yes"?[50,50,50]:[100]),i.value.autoSpeak&&await d(v),console.log(`Answer: ${v} to question: "${e.value}"`)},d=async v=>{if("speechSynthesis"in window){const _=new SpeechSynthesisUtterance(v==="yes"?"Yes!":"No!");_.rate=.8,_.pitch=1.2,_.volume=1,speechSynthesis.speak(_)}},p=async v=>{const x={...i.value,...v};await t.updateAppSettings("yes-no",x)},g=async()=>{await t.updateAppSettings("yes-no",{...i.value,currentQuestion:e.value,questionHistory:s.value})};return{currentQuestion:e,questionHistory:s,isPlaying:r,settings:i,recentQuestions:o,setQuestion:a,selectQuestion:l,speakQuestion:u,handleAnswer:c,updateSettings:p,saveState:g,loadState:async()=>{await t.loadAppSettings("yes-no");const v=t.getAppSettings("yes-no");v.currentQuestion&&(e.value=v.currentQuestion),v.questionHistory&&(s.value=v.questionHistory)},clearHistory:async()=>{s.value=[],await g()}}}),Hf={class:"question-input"},zf={class:"question-input__form"},Kf=["onKeydown"],Wf={class:"question-input__actions"},Gf={key:0,class:"question-input__recent"},Jf={class:"question-input__recent-list"},Qf=["onClick"],Yf=Ot({__name:"QuestionInput",emits:["close"],setup(t,{emit:e}){const s=e,r=rl(),n=X(""),{recentQuestions:i}=r;Vs(()=>{n.value=r.currentQuestion});const o=async()=>{n.value.trim()&&(await r.setQuestion(n.value),s("close"))},a=()=>{s("close")},l=u=>{n.value=u};return(u,c)=>(V(),te("div",Hf,[c[2]||(c[2]=L("h2",{class:"question-input__title"},"Set Your Question",-1)),L("div",zf,[lr(L("textarea",{"onUpdate:modelValue":c[0]||(c[0]=d=>n.value=d),class:"question-input__textarea",placeholder:"Type your question here...",rows:"3",maxlength:"200",onKeydown:ju(Sa(o,["prevent"]),["enter"]),"data-cy":"question-input"},null,40,Kf),[[Ou,n.value]]),L("div",Wf,[W(I(Re),{label:"Cancel",type:"ghost",color:"secondary",action:a,size:"medium"}),W(I(Re),{label:"Save Question",type:"default",color:"primary",action:o,disabled:!n.value.trim(),size:"medium","data-cy":"save-question"},null,8,["disabled"])])]),I(i).length>0?(V(),te("div",Gf,[c[1]||(c[1]=L("h3",{class:"question-input__recent-title"},"Recent Questions",-1)),L("div",Jf,[(V(!0),te(Ie,null,pc(I(i),d=>(V(),te("button",{key:d,class:"question-input__recent-item",onClick:p=>l(d)},Be(d),9,Qf))),128))])])):fe("",!0)]))}}),Xf=Ft(Yf,[["__scopeId","data-v-e0a16f96"]]),Zf={class:"yes-no-view"},ep={class:"yes-no-header"},tp={class:"yes-no-main"},sp={class:"yes-no-question"},rp=["disabled"],np={class:"yes-no-question__text"},ip={class:"yes-no-answers"},op={key:0,class:"yes-no-modal"},ap={class:"yes-no-modal__content"},lp={key:1,class:"yes-no-settings"},cp={class:"yes-no-settings__panel"},up={class:"yes-no-settings__group"},dp={class:"yes-no-settings__group"},hp={class:"yes-no-settings__checkbox"},fp={class:"yes-no-settings__group"},pp={class:"yes-no-settings__checkbox"},gp={class:"yes-no-settings__actions"},vp={class:"yes-no-feedback__text"},_p=Ot({__name:"YesNoView",setup(t){const e=rl(),s=X(!1),r=X(!1),n=X(!1),i=X("yes"),o=as({buttonSize:"large",autoSpeak:!0,hapticFeedback:!0}),{currentQuestion:a,isPlaying:l,settings:u}=Fo(e),c=re(()=>i.value==="yes"?"check-circle":"x-circle"),d=re(()=>i.value==="yes"?"Yes!":"No!");Zt(u,w=>{Object.assign(o,w)},{immediate:!0});const p=()=>{e.speakQuestion()},g=async w=>{i.value=w,n.value=!0,await e.handleAnswer(w),setTimeout(()=>{n.value=!1},1500)},y=()=>{s.value=!0},m=()=>{s.value=!1},v=()=>{r.value=!r.value},_=()=>{r.value=!1},x=async()=>{await e.updateSettings(o)};return Vs(async()=>{await e.loadState(),u.value.autoSpeak&&setTimeout(()=>{p()},500)}),(w,S)=>(V(),te("div",Zf,[L("header",ep,[W(I(Re),{icon:"settings",type:"ghost",size:"medium",color:"secondary",action:v,"aria-label":"Settings"}),W(I(Re),{icon:"edit",type:"ghost",size:"medium",color:"secondary",action:y,"aria-label":"Edit Question"})]),L("main",tp,[L("div",sp,[L("button",{class:"yes-no-question__button",onClick:p,disabled:I(l),"data-cy":"question-display"},[L("div",np,Be(I(a)),1),W(I(Fe),{name:I(l)?"volume-2":"volume-1",class:"yes-no-question__icon",size:"large"},null,8,["name"])],8,rp)]),L("div",ip,[W(I(Re),{label:"Yes",type:"fancy",color:"success",size:I(u).buttonSize,icon:"check",action:()=>g("yes"),vibrate:I(u).hapticFeedback,class:"yes-no-answers__button yes-no-answers__button--yes","data-cy":"yes-button"},null,8,["size","action","vibrate"]),W(I(Re),{label:"No",type:"fancy",color:"error",size:I(u).buttonSize,icon:"x",action:()=>g("no"),vibrate:I(u).hapticFeedback,class:"yes-no-answers__button yes-no-answers__button--no","data-cy":"no-button"},null,8,["size","action","vibrate"])])]),s.value?(V(),te("div",op,[L("div",{class:"yes-no-modal__backdrop",onClick:m}),L("div",ap,[W(Xf,{onClose:m})])])):fe("",!0),r.value?(V(),te("div",lp,[L("div",{class:"yes-no-settings__backdrop",onClick:_}),L("div",cp,[S[7]||(S[7]=L("h3",{class:"yes-no-settings__title"},"Settings",-1)),L("div",up,[S[4]||(S[4]=L("label",{class:"yes-no-settings__label"},"Button Size",-1)),lr(L("select",{"onUpdate:modelValue":S[0]||(S[0]=$=>o.buttonSize=$),class:"yes-no-settings__select",onChange:x},S[3]||(S[3]=[L("option",{value:"small"},"Small",-1),L("option",{value:"medium"},"Medium",-1),L("option",{value:"large"},"Large",-1)]),544),[[xu,o.buttonSize]])]),L("div",dp,[L("label",hp,[lr(L("input",{"onUpdate:modelValue":S[1]||(S[1]=$=>o.autoSpeak=$),type:"checkbox",onChange:x},null,544),[[Bi,o.autoSpeak]]),S[5]||(S[5]=L("span",null,"Auto-speak answers",-1))])]),L("div",fp,[L("label",pp,[lr(L("input",{"onUpdate:modelValue":S[2]||(S[2]=$=>o.hapticFeedback=$),type:"checkbox",onChange:x},null,544),[[Bi,o.hapticFeedback]]),S[6]||(S[6]=L("span",null,"Haptic feedback",-1))])]),L("div",gp,[W(I(Re),{label:"Close",type:"default",color:"primary",action:_,size:"medium"})])])])):fe("",!0),n.value?(V(),te("div",{key:2,class:R(["yes-no-feedback",`yes-no-feedback--${i.value}`])},[W(I(Fe),{name:c.value,size:"4rem"},null,8,["name"]),L("span",vp,Be(d.value),1)],2)):fe("",!0)]))}}),mp=Ft(_p,[["__scopeId","data-v-b0d6e151"]]),yp={id:"app"},bp=Ot({__name:"App",setup(t){const e=Xa();return Vs(()=>{e.initializeNetworkMonitoring()}),(s,r)=>(V(),te("div",yp,[W(I(Vf),null,{default:Kn(()=>[W(mp)]),_:1})]))}}),nl=Lu(bp);nl.use(Nu());nl.mount("#app");

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $n(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ae={},Xt=[],st=()=>{},ol=()=>!1,Er=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Rn=t=>t.startsWith("onUpdate:"),xe=Object.assign,Ln=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},al=Object.prototype.hasOwnProperty,se=(t,e)=>al.call(t,e),N=Array.isArray,Zt=t=>Vs(t)==="[object Map]",ls=t=>Vs(t)==="[object Set]",fi=t=>Vs(t)==="[object Date]",B=t=>typeof t=="function",ve=t=>typeof t=="string",ze=t=>typeof t=="symbol",fe=t=>t!==null&&typeof t=="object",vo=t=>(fe(t)||B(t))&&B(t.then)&&B(t.catch),_o=Object.prototype.toString,Vs=t=>_o.call(t),ll=t=>Vs(t).slice(8,-1),mo=t=>Vs(t)==="[object Object]",Un=t=>ve(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ws=$n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},cl=/-(\w)/g,Be=Tr(t=>t.replace(cl,(e,s)=>s?s.toUpperCase():"")),ul=/\B([A-Z])/g,Ft=Tr(t=>t.replace(ul,"-$1").toLowerCase()),Ar=Tr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gr=Tr(t=>t?`on${Ar(t)}`:""),Et=(t,e)=>!Object.is(t,e),lr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},fn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},fr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pi;const xr=()=>pi||(pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Or(t){if(N(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ve(r)?pl(r):Or(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ve(t)||fe(t))return t}const hl=/;(?![^(]*\))/g,dl=/:([^]+)/,fl=/\/\*[^]*?\*\//g;function pl(t){const e={};return t.replace(fl,"").split(hl).forEach(s=>{if(s){const r=s.split(dl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function U(t){let e="";if(ve(t))e=t;else if(N(t))for(let s=0;s<t.length;s++){const r=U(t[s]);r&&(e+=r+" ")}else if(fe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const gl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vl=$n(gl);function yo(t){return!!t||t===""}function _l(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Hs(t[r],e[r]);return s}function Hs(t,e){if(t===e)return!0;let s=fi(t),r=fi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=ze(t),r=ze(e),s||r)return t===e;if(s=N(t),r=N(e),s||r)return s&&r?_l(t,e):!1;if(s=fe(t),r=fe(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Hs(t[o],e[o]))return!1}}return String(t)===String(e)}function Dn(t,e){return t.findIndex(s=>Hs(s,e))}const bo=t=>!!(t&&t.__v_isRef===!0),Te=t=>ve(t)?t:t==null?"":N(t)||fe(t)&&(t.toString===_o||!B(t.toString))?bo(t)?Te(t.value):JSON.stringify(t,wo,2):String(t),wo=(t,e)=>bo(e)?wo(t,e.value):Zt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Jr(r,i)+" =>"]=n,s),{})}:ls(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Jr(s))}:ze(e)?Jr(e):fe(e)&&!N(e)&&!mo(e)?String(e):e,Jr=(t,e="")=>{var s;return ze(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ee;class So{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ee,!e&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ee;try{return Ee=this,e()}finally{Ee=s}}}on(){++this._on===1&&(this.prevScope=Ee,Ee=this)}off(){this._on>0&&--this._on===0&&(Ee=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ko(t){return new So(t)}function Eo(){return Ee}function ml(t,e=!1){Ee&&Ee.cleanups.push(t)}let de;const Yr=new WeakSet;class To{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ee&&Ee.active&&Ee.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yr.has(this)&&(Yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gi(this),Oo(this);const e=de,s=Ke;de=this,Ke=!0;try{return this.fn()}finally{Po(this),de=e,Ke=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Fn(e);this.deps=this.depsTail=void 0,gi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pn(this)&&this.run()}get dirty(){return pn(this)}}let Ao=0,Ss,ks;function xo(t,e=!1){if(t.flags|=8,e){t.next=ks,ks=t;return}t.next=Ss,Ss=t}function Mn(){Ao++}function Nn(){if(--Ao>0)return;if(ks){let e=ks;for(ks=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ss;){let e=Ss;for(Ss=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Oo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Po(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Fn(r),yl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function pn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Co(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Co(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Rs)||(t.globalVersion=Rs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!pn(t))))return;t.flags|=2;const e=t.dep,s=de,r=Ke;de=t,Ke=!0;try{Oo(t);const n=t.fn(t._value);(e.version===0||Et(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{de=s,Ke=r,Po(t),t.flags&=-3}}function Fn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Fn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function yl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ke=!0;const Io=[];function ft(){Io.push(Ke),Ke=!1}function pt(){const t=Io.pop();Ke=t===void 0?!0:t}function gi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=de;de=void 0;try{e()}finally{de=s}}}let Rs=0;class bl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!de||!Ke||de===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink=new bl(de,this),de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,jo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=r)}return s}trigger(e){this.version++,Rs++,this.notify(e)}notify(e){Mn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Nn()}}}function jo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)jo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const pr=new WeakMap,Dt=Symbol(""),gn=Symbol(""),Ls=Symbol("");function Ae(t,e,s){if(Ke&&de){let r=pr.get(t);r||pr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Bn),n.map=r,n.key=s),n.track()}}function lt(t,e,s,r,n,i){const o=pr.get(t);if(!o){Rs++;return}const a=l=>{l&&l.trigger()};if(Mn(),e==="clear")o.forEach(a);else{const l=N(t),u=l&&Un(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===Ls||!ze(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Ls)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Dt)),Zt(t)&&a(o.get(gn)));break;case"delete":l||(a(o.get(Dt)),Zt(t)&&a(o.get(gn)));break;case"set":Zt(t)&&a(o.get(Dt));break}}Nn()}function wl(t,e){const s=pr.get(t);return s&&s.get(e)}function Ht(t){const e=Z(t);return e===t?e:(Ae(e,"iterate",Ls),Fe(t)?e:e.map(Se))}function Pr(t){return Ae(t=Z(t),"iterate",Ls),t}const Sl={__proto__:null,[Symbol.iterator](){return Qr(this,Symbol.iterator,Se)},concat(...t){return Ht(this).concat(...t.map(e=>N(e)?Ht(e):e))},entries(){return Qr(this,"entries",t=>(t[1]=Se(t[1]),t))},every(t,e){return nt(this,"every",t,e,void 0,arguments)},filter(t,e){return nt(this,"filter",t,e,s=>s.map(Se),arguments)},find(t,e){return nt(this,"find",t,e,Se,arguments)},findIndex(t,e){return nt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return nt(this,"findLast",t,e,Se,arguments)},findLastIndex(t,e){return nt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return nt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Xr(this,"includes",t)},indexOf(...t){return Xr(this,"indexOf",t)},join(t){return Ht(this).join(t)},lastIndexOf(...t){return Xr(this,"lastIndexOf",t)},map(t,e){return nt(this,"map",t,e,void 0,arguments)},pop(){return vs(this,"pop")},push(...t){return vs(this,"push",t)},reduce(t,...e){return vi(this,"reduce",t,e)},reduceRight(t,...e){return vi(this,"reduceRight",t,e)},shift(){return vs(this,"shift")},some(t,e){return nt(this,"some",t,e,void 0,arguments)},splice(...t){return vs(this,"splice",t)},toReversed(){return Ht(this).toReversed()},toSorted(t){return Ht(this).toSorted(t)},toSpliced(...t){return Ht(this).toSpliced(...t)},unshift(...t){return vs(this,"unshift",t)},values(){return Qr(this,"values",Se)}};function Qr(t,e,s){const r=Pr(t),n=r[e]();return r!==t&&!Fe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const kl=Array.prototype;function nt(t,e,s,r,n,i){const o=Pr(t),a=o!==t&&!Fe(t),l=o[e];if(l!==kl[e]){const h=l.apply(t,i);return a?Se(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,Se(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function vi(t,e,s,r){const n=Pr(t);let i=s;return n!==t&&(Fe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Se(a),l,t)}),n[e](i,...r)}function Xr(t,e,s){const r=Z(t);Ae(r,"iterate",Ls);const n=r[e](...s);return(n===-1||n===!1)&&qn(s[0])?(s[0]=Z(s[0]),r[e](...s)):n}function vs(t,e,s=[]){ft(),Mn();const r=Z(t)[e].apply(t,s);return Nn(),pt(),r}const El=$n("__proto__,__v_isRef,__isVue"),$o=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ze));function Tl(t){ze(t)||(t=String(t));const e=Z(this);return Ae(e,"has",t),e.hasOwnProperty(t)}class Ro{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ll:Mo:i?Do:Uo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=N(e);if(!n){let l;if(o&&(l=Sl[s]))return l;if(s==="hasOwnProperty")return Tl}const a=Reflect.get(e,s,ge(e)?e:r);return(ze(s)?$o.has(s):El(s))||(n||Ae(e,"get",s),i)?a:ge(a)?o&&Un(s)?a:a.value:fe(a)?n?No(a):cs(a):a}}class Lo extends Ro{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=xt(i);if(!Fe(r)&&!xt(r)&&(i=Z(i),r=Z(r)),!N(e)&&ge(i)&&!ge(r))return l?!1:(i.value=r,!0)}const o=N(e)&&Un(s)?Number(s)<e.length:se(e,s),a=Reflect.set(e,s,r,ge(e)?e:n);return e===Z(n)&&(o?Et(r,i)&&lt(e,"set",s,r):lt(e,"add",s,r)),a}deleteProperty(e,s){const r=se(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&lt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ze(s)||!$o.has(s))&&Ae(e,"has",s),r}ownKeys(e){return Ae(e,"iterate",N(e)?"length":Dt),Reflect.ownKeys(e)}}class Al extends Ro{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const xl=new Lo,Ol=new Al,Pl=new Lo(!0);const vn=t=>t,Zs=t=>Reflect.getPrototypeOf(t);function Cl(t,e,s){return function(...r){const n=this.__v_raw,i=Z(n),o=Zt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?vn:e?gr:Se;return!e&&Ae(i,"iterate",l?gn:Dt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function er(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Il(t,e){const s={get(n){const i=this.__v_raw,o=Z(i),a=Z(n);t||(Et(n,a)&&Ae(o,"get",n),Ae(o,"get",a));const{has:l}=Zs(o),u=e?vn:t?gr:Se;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Ae(Z(n),"iterate",Dt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Z(i),a=Z(n);return t||(Et(n,a)&&Ae(o,"has",n),Ae(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Z(a),u=e?vn:t?gr:Se;return!t&&Ae(l,"iterate",Dt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return xe(s,t?{add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear")}:{add(n){!e&&!Fe(n)&&!xt(n)&&(n=Z(n));const i=Z(this);return Zs(i).has.call(i,n)||(i.add(n),lt(i,"add",n,n)),this},set(n,i){!e&&!Fe(i)&&!xt(i)&&(i=Z(i));const o=Z(this),{has:a,get:l}=Zs(o);let u=a.call(o,n);u||(n=Z(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Et(i,c)&&lt(o,"set",n,i):lt(o,"add",n,i),this},delete(n){const i=Z(this),{has:o,get:a}=Zs(i);let l=o.call(i,n);l||(n=Z(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&lt(i,"delete",n,void 0),u},clear(){const n=Z(this),i=n.size!==0,o=n.clear();return i&&lt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Cl(n,t,e)}),s}function Vn(t,e){const s=Il(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(se(s,n)&&n in r?s:r,n,i)}const jl={get:Vn(!1,!1)},$l={get:Vn(!1,!0)},Rl={get:Vn(!0,!1)};const Uo=new WeakMap,Do=new WeakMap,Mo=new WeakMap,Ll=new WeakMap;function Ul(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dl(t){return t.__v_skip||!Object.isExtensible(t)?0:Ul(ll(t))}function cs(t){return xt(t)?t:Hn(t,!1,xl,jl,Uo)}function Ml(t){return Hn(t,!1,Pl,$l,Do)}function No(t){return Hn(t,!0,Ol,Rl,Mo)}function Hn(t,e,s,r,n){if(!fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Dl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Tt(t){return xt(t)?Tt(t.__v_raw):!!(t&&t.__v_isReactive)}function xt(t){return!!(t&&t.__v_isReadonly)}function Fe(t){return!!(t&&t.__v_isShallow)}function qn(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function Kn(t){return!se(t,"__v_skip")&&Object.isExtensible(t)&&fn(t,"__v_skip",!0),t}const Se=t=>fe(t)?cs(t):t,gr=t=>fe(t)?No(t):t;function ge(t){return t?t.__v_isRef===!0:!1}function ee(t){return Nl(t,!1)}function Nl(t,e){return ge(t)?t:new Fl(t,e)}class Fl{constructor(e,s){this.dep=new Bn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Z(e),this._value=s?e:Se(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Fe(e)||xt(e);e=r?e:Z(e),Et(e,s)&&(this._rawValue=e,this._value=r?e:Se(e),this.dep.trigger())}}function O(t){return ge(t)?t.value:t}const Bl={get:(t,e,s)=>e==="__v_raw"?t:O(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ge(n)&&!ge(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Fo(t){return Tt(t)?t:new Proxy(t,Bl)}function Bo(t){const e=N(t)?new Array(t.length):{};for(const s in t)e[s]=Hl(t,s);return e}class Vl{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return wl(Z(this._object),this._key)}}function Hl(t,e,s){const r=t[e];return ge(r)?r:new Vl(t,e,s)}class ql{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Bn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return xo(this,!0),!0}get value(){const e=this.dep.track();return Co(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Kl(t,e,s=!1){let r,n;return B(t)?r=t:(r=t.get,n=t.set),new ql(r,n,s)}const tr={},vr=new WeakMap;let Rt;function Wl(t,e=!1,s=Rt){if(s){let r=vr.get(s);r||vr.set(s,r=[]),r.push(t)}}function zl(t,e,s=ae){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=S=>n?S:Fe(S)||n===!1||n===0?ct(S,1):ct(S);let c,h,p,g,m=!1,v=!1;if(ge(t)?(h=()=>t.value,m=Fe(t)):Tt(t)?(h=()=>u(t),m=!0):N(t)?(v=!0,m=t.some(S=>Tt(S)||Fe(S)),h=()=>t.map(S=>{if(ge(S))return S.value;if(Tt(S))return u(S);if(B(S))return l?l(S,2):S()})):B(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){ft();try{p()}finally{pt()}}const S=Rt;Rt=c;try{return l?l(t,3,[g]):t(g)}finally{Rt=S}}:h=st,e&&n){const S=h,$=n===!0?1/0:n;h=()=>ct(S(),$)}const w=Eo(),_=()=>{c.stop(),w&&w.active&&Ln(w.effects,c)};if(i&&e){const S=e;e=(...$)=>{S(...$),_()}}let C=v?new Array(t.length).fill(tr):tr;const b=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const $=c.run();if(n||m||(v?$.some((V,q)=>Et(V,C[q])):Et($,C))){p&&p();const V=Rt;Rt=c;try{const q=[$,C===tr?void 0:v&&C[0]===tr?[]:C,g];C=$,l?l(e,3,q):e(...q)}finally{Rt=V}}}else c.run()};return a&&a(b),c=new To(h),c.scheduler=o?()=>o(b,!1):b,g=S=>Wl(S,!1,c),p=c.onStop=()=>{const S=vr.get(c);if(S){if(l)l(S,4);else for(const $ of S)$();vr.delete(c)}},e?r?b(!0):C=c.run():o?o(b.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function ct(t,e=1/0,s){if(e<=0||!fe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ge(t))ct(t.value,e,s);else if(N(t))for(let r=0;r<t.length;r++)ct(t[r],e,s);else if(ls(t)||Zt(t))t.forEach(r=>{ct(r,e,s)});else if(mo(t)){for(const r in t)ct(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ct(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qs(t,e,s,r){try{return r?t(...r):t()}catch(n){Cr(n,e,s)}}function rt(t,e,s,r){if(B(t)){const n=qs(t,e,s,r);return n&&vo(n)&&n.catch(i=>{Cr(i,e,s)}),n}if(N(t)){const n=[];for(let i=0;i<t.length;i++)n.push(rt(t[i],e,s,r));return n}}function Cr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){ft(),qs(i,null,10,[t,l,u]),pt();return}}Gl(t,s,n,r,o)}function Gl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let Ze=-1;const es=[];let yt=null,Yt=0;const Vo=Promise.resolve();let _r=null;function Wn(t){const e=_r||Vo;return t?e.then(this?t.bind(this):t):e}function Jl(t){let e=Ze+1,s=Pe.length;for(;e<s;){const r=e+s>>>1,n=Pe[r],i=Us(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function zn(t){if(!(t.flags&1)){const e=Us(t),s=Pe[Pe.length-1];!s||!(t.flags&2)&&e>=Us(s)?Pe.push(t):Pe.splice(Jl(e),0,t),t.flags|=1,Ho()}}function Ho(){_r||(_r=Vo.then(Ko))}function Yl(t){N(t)?es.push(...t):yt&&t.id===-1?yt.splice(Yt+1,0,t):t.flags&1||(es.push(t),t.flags|=1),Ho()}function _i(t,e,s=Ze+1){for(;s<Pe.length;s++){const r=Pe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function qo(t){if(es.length){const e=[...new Set(es)].sort((s,r)=>Us(s)-Us(r));if(es.length=0,yt){yt.push(...e);return}for(yt=e,Yt=0;Yt<yt.length;Yt++){const s=yt[Yt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}yt=null,Yt=0}}const Us=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ko(t){try{for(Ze=0;Ze<Pe.length;Ze++){const e=Pe[Ze];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ze<Pe.length;Ze++){const e=Pe[Ze];e&&(e.flags&=-2)}Ze=-1,Pe.length=0,qo(),_r=null,(Pe.length||es.length)&&Ko()}}let me=null,Wo=null;function mr(t){const e=me;return me=t,Wo=t&&t.type.__scopeId||null,e}function Gn(t,e=me,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Oi(-1);const i=mr(e);let o;try{o=t(...n)}finally{mr(i),r._d&&Oi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function qt(t,e){if(me===null)return t;const s=Ur(me),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ae]=e[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&ct(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function It(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ft(),rt(l,s,8,[t.el,a,t,e]),pt())}}const Ql=Symbol("_vte"),Xl=t=>t.__isTeleport;function Jn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Jn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Bt(t,e){return B(t)?xe({name:t.name},e,{setup:t}):t}function zo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Es(t,e,s,r,n=!1){if(N(t)){t.forEach((m,v)=>Es(m,e&&(N(e)?e[v]:e),s,r,n));return}if(ts(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Es(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Ur(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ae?a.refs={}:a.refs,h=a.setupState,p=Z(h),g=h===ae?()=>!1:m=>se(p,m);if(u!=null&&u!==l&&(ve(u)?(c[u]=null,g(u)&&(h[u]=null)):ge(u)&&(u.value=null)),B(l))qs(l,a,12,[o,c]);else{const m=ve(l),v=ge(l);if(m||v){const w=()=>{if(t.f){const _=m?g(l)?h[l]:c[l]:l.value;n?N(_)&&Ln(_,i):N(_)?_.includes(i)||_.push(i):m?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else m?(c[l]=o,g(l)&&(h[l]=o)):v&&(l.value=o,t.k&&(c[t.k]=o))};o?(w.id=-1,De(w,s)):w()}}}xr().requestIdleCallback;xr().cancelIdleCallback;const ts=t=>!!t.type.__asyncLoader,Go=t=>t.type.__isKeepAlive;function Zl(t,e){Jo(t,"a",e)}function ec(t,e){Jo(t,"da",e)}function Jo(t,e,s=we){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ir(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Go(n.parent.vnode)&&tc(r,e,s,n),n=n.parent}}function tc(t,e,s,r){const n=Ir(e,t,r,!0);$r(()=>{Ln(r[e],n)},s)}function Ir(t,e,s=we,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ft();const a=Ks(s),l=rt(e,s,t,o);return a(),pt(),l});return r?n.unshift(i):n.push(i),i}}const vt=t=>(e,s=we)=>{(!Ms||t==="sp")&&Ir(t,(...r)=>e(...r),s)},sc=vt("bm"),jr=vt("m"),rc=vt("bu"),nc=vt("u"),ic=vt("bum"),$r=vt("um"),oc=vt("sp"),ac=vt("rtg"),lc=vt("rtc");function cc(t,e=we){Ir("ec",t,e)}const uc="components",Yo=Symbol.for("v-ndc");function hc(t){return ve(t)?dc(uc,t,!1)||t:t||Yo}function dc(t,e,s=!0,r=!1){const n=me||we;if(n){const i=n.type;{const a=su(i,!1);if(a&&(a===e||a===Be(e)||a===Ar(Be(e))))return i}const o=mi(n[t]||i[t],e)||mi(n.appContext[t],e);return!o&&r?i:o}}function mi(t,e){return t&&(t[e]||t[Be(e)]||t[Ar(Be(e))])}function yi(t,e,s,r){let n;const i=s,o=N(t);if(o||ve(t)){const a=o&&Tt(t);let l=!1,u=!1;a&&(l=!Fe(t),u=xt(t),t=Pr(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?gr(Se(t[c])):Se(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(fe(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}function Qo(t,e,s={},r,n){if(me.ce||me.parent&&ts(me.parent)&&me.parent.ce)return K(),We($e,null,[te("slot",s,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),K();const o=i&&Xo(i(s)),a=s.key||o&&o.key,l=We($e,{key:(a&&!ze(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function Xo(t){return t.some(e=>Xn(e)?!(e.type===gt||e.type===$e&&!Xo(e.children)):!0)?t:null}const _n=t=>t?ma(t)?Ur(t):_n(t.parent):null,Ts=xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_n(t.parent),$root:t=>_n(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ea(t),$forceUpdate:t=>t.f||(t.f=()=>{zn(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>Dc.bind(t)}),Zr=(t,e)=>t!==ae&&!t.__isScriptSetup&&se(t,e),fc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Zr(r,e))return o[e]=1,r[e];if(n!==ae&&se(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&se(u,e))return o[e]=3,i[e];if(s!==ae&&se(s,e))return o[e]=4,s[e];mn&&(o[e]=0)}}const c=Ts[e];let h,p;if(c)return e==="$attrs"&&Ae(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ae&&se(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,se(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Zr(n,e)?(n[e]=s,!0):r!==ae&&se(r,e)?(r[e]=s,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ae&&se(t,o)||Zr(e,o)||(a=i[0])&&se(a,o)||se(r,o)||se(Ts,o)||se(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:se(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function pc(){return gc().slots}function gc(){const t=Xc();return t.setupContext||(t.setupContext=ba(t))}function bi(t){return N(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let mn=!0;function vc(t){const e=ea(t),s=t.proxy,r=t.ctx;mn=!1,e.beforeCreate&&wi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:m,activated:v,deactivated:w,beforeDestroy:_,beforeUnmount:C,destroyed:b,unmounted:S,render:$,renderTracked:V,renderTriggered:q,errorCaptured:W,serverPrefetch:G,expose:oe,inheritAttrs:z,components:Y,directives:R,filters:pe}=e;if(u&&_c(u,r,null),o)for(const Q in o){const ce=o[Q];B(ce)&&(r[Q]=ce.bind(s))}if(n){const Q=n.call(s,s);fe(Q)&&(t.data=cs(Q))}if(mn=!0,i)for(const Q in i){const ce=i[Q],Pt=B(ce)?ce.bind(s,s):B(ce.get)?ce.get.bind(s,s):st,Qs=!B(ce)&&B(ce.set)?ce.set.bind(s):st,Ct=le({get:Pt,set:Qs});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:Ge=>Ct.value=Ge})}if(a)for(const Q in a)Zo(a[Q],r,s,Q);if(l){const Q=B(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(ce=>{kc(ce,Q[ce])})}c&&wi(c,t,"c");function ne(Q,ce){N(ce)?ce.forEach(Pt=>Q(Pt.bind(s))):ce&&Q(ce.bind(s))}if(ne(sc,h),ne(jr,p),ne(rc,g),ne(nc,m),ne(Zl,v),ne(ec,w),ne(cc,W),ne(lc,V),ne(ac,q),ne(ic,C),ne($r,S),ne(oc,G),N(oe))if(oe.length){const Q=t.exposed||(t.exposed={});oe.forEach(ce=>{Object.defineProperty(Q,ce,{get:()=>s[ce],set:Pt=>s[ce]=Pt})})}else t.exposed||(t.exposed={});$&&t.render===st&&(t.render=$),z!=null&&(t.inheritAttrs=z),Y&&(t.components=Y),R&&(t.directives=R),G&&zo(t)}function _c(t,e,s=st){N(t)&&(t=yn(t));for(const r in t){const n=t[r];let i;fe(n)?"default"in n?i=As(n.from||r,n.default,!0):i=As(n.from||r):i=As(n),ge(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function wi(t,e,s){rt(N(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Zo(t,e,s,r){let n=r.includes(".")?fa(s,r):()=>s[r];if(ve(t)){const i=e[t];B(i)&&Nt(n,i)}else if(B(t))Nt(n,t.bind(s));else if(fe(t))if(N(t))t.forEach(i=>Zo(i,e,s,r));else{const i=B(t.handler)?t.handler.bind(s):e[t.handler];B(i)&&Nt(n,i,t)}}function ea(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>yr(l,u,o,!0)),yr(l,e,o)),fe(e)&&i.set(e,l),l}function yr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&yr(t,i,s,!0),n&&n.forEach(o=>yr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=mc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const mc={data:Si,props:ki,emits:ki,methods:ys,computed:ys,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:ys,directives:ys,watch:bc,provide:Si,inject:yc};function Si(t,e){return e?t?function(){return xe(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function yc(t,e){return ys(yn(t),yn(e))}function yn(t){if(N(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Oe(t,e){return t?[...new Set([].concat(t,e))]:e}function ys(t,e){return t?xe(Object.create(null),t,e):e}function ki(t,e){return t?N(t)&&N(e)?[...new Set([...t,...e])]:xe(Object.create(null),bi(t),bi(e??{})):e}function bc(t,e){if(!t)return e;if(!e)return t;const s=xe(Object.create(null),t);for(const r in e)s[r]=Oe(t[r],e[r]);return s}function ta(){return{app:null,config:{isNativeTag:ol,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wc=0;function Sc(t,e){return function(r,n=null){B(r)||(r=xe({},r)),n!=null&&!fe(n)&&(n=null);const i=ta(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:wc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:nu,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&B(c.install)?(o.add(c),c.install(u,...h)):B(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||te(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Ur(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(rt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Mt;Mt=u;try{return c()}finally{Mt=h}}};return u}}let Mt=null;function kc(t,e){if(we){let s=we.provides;const r=we.parent&&we.parent.provides;r===s&&(s=we.provides=Object.create(r)),s[t]=e}}function As(t,e,s=!1){const r=we||me;if(r||Mt){let n=Mt?Mt._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&B(e)?e.call(r&&r.proxy):e}}function Ec(){return!!(we||me||Mt)}const sa={},ra=()=>Object.create(sa),na=t=>Object.getPrototypeOf(t)===sa;function Tc(t,e,s,r=!1){const n={},i=ra();t.propsDefaults=Object.create(null),ia(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ml(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Ac(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Z(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(Rr(t.emitsOptions,p))continue;const g=e[p];if(l)if(se(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const m=Be(p);n[m]=bn(l,a,m,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{ia(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!se(e,h)&&((c=Ft(h))===h||!se(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=bn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!se(e,h))&&(delete i[h],u=!0)}u&&lt(t.attrs,"set","")}function ia(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ws(l))continue;const u=e[l];let c;n&&se(n,c=Be(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Rr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Z(s),u=a||ae;for(let c=0;c<i.length;c++){const h=i[c];s[h]=bn(n,l,h,u[h],t,!se(u,h))}}return o}function bn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=se(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Ks(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ft(s))&&(r=!0))}return r}const xc=new WeakMap;function oa(t,e,s=!1){const r=s?xc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!B(t)){const c=h=>{l=!0;const[p,g]=oa(h,e,!0);xe(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return fe(t)&&r.set(t,Xt),Xt;if(N(i))for(let c=0;c<i.length;c++){const h=Be(i[c]);Ei(h)&&(o[h]=ae)}else if(i)for(const c in i){const h=Be(c);if(Ei(h)){const p=i[c],g=o[h]=N(p)||B(p)?{type:p}:xe({},p),m=g.type;let v=!1,w=!0;if(N(m))for(let _=0;_<m.length;++_){const C=m[_],b=B(C)&&C.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(w=!1)}else v=B(m)&&m.name==="Boolean";g[0]=v,g[1]=w,(v||se(g,"default"))&&a.push(h)}}const u=[o,a];return fe(t)&&r.set(t,u),u}function Ei(t){return t[0]!=="$"&&!ws(t)}const Yn=t=>t[0]==="_"||t==="$stable",Qn=t=>N(t)?t.map(tt):[tt(t)],Oc=(t,e,s)=>{if(e._n)return e;const r=Gn((...n)=>Qn(e(...n)),s);return r._c=!1,r},aa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Yn(n))continue;const i=t[n];if(B(i))e[n]=Oc(n,i,r);else if(i!=null){const o=Qn(i);e[n]=()=>o}}},la=(t,e)=>{const s=Qn(e);t.slots.default=()=>s},ca=(t,e,s)=>{for(const r in e)(s||!Yn(r))&&(t[r]=e[r])},Pc=(t,e,s)=>{const r=t.slots=ra();if(t.vnode.shapeFlag&32){const n=e.__;n&&fn(r,"__",n,!0);const i=e._;i?(ca(r,e,s),s&&fn(r,"_",i,!0)):aa(e,r)}else e&&la(t,e)},Cc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ae;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ca(n,e,s):(i=!e.$stable,aa(e,n)),o=e}else e&&(la(t,e),o={default:1});if(i)for(const a in n)!Yn(a)&&o[a]==null&&delete n[a]},De=qc;function Ic(t){return jc(t)}function jc(t,e){const s=xr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=st,insertStaticContent:m}=t,v=(d,f,y,T=null,k=null,E=null,I=void 0,P=null,x=!!f.dynamicChildren)=>{if(d===f)return;d&&!_s(d,f)&&(T=Xs(d),Ge(d,k,E,!0),d=null),f.patchFlag===-2&&(x=!1,f.dynamicChildren=null);const{type:A,ref:M,shapeFlag:j}=f;switch(A){case Lr:w(d,f,y,T);break;case gt:_(d,f,y,T);break;case tn:d==null&&C(f,y,T,I);break;case $e:Y(d,f,y,T,k,E,I,P,x);break;default:j&1?$(d,f,y,T,k,E,I,P,x):j&6?R(d,f,y,T,k,E,I,P,x):(j&64||j&128)&&A.process(d,f,y,T,k,E,I,P,x,ps)}M!=null&&k?Es(M,d&&d.ref,E,f||d,!f):M==null&&d&&d.ref!=null&&Es(d.ref,null,E,d,!0)},w=(d,f,y,T)=>{if(d==null)r(f.el=a(f.children),y,T);else{const k=f.el=d.el;f.children!==d.children&&u(k,f.children)}},_=(d,f,y,T)=>{d==null?r(f.el=l(f.children||""),y,T):f.el=d.el},C=(d,f,y,T)=>{[d.el,d.anchor]=m(d.children,f,y,T,d.el,d.anchor)},b=({el:d,anchor:f},y,T)=>{let k;for(;d&&d!==f;)k=p(d),r(d,y,T),d=k;r(f,y,T)},S=({el:d,anchor:f})=>{let y;for(;d&&d!==f;)y=p(d),n(d),d=y;n(f)},$=(d,f,y,T,k,E,I,P,x)=>{f.type==="svg"?I="svg":f.type==="math"&&(I="mathml"),d==null?V(f,y,T,k,E,I,P,x):G(d,f,k,E,I,P,x)},V=(d,f,y,T,k,E,I,P)=>{let x,A;const{props:M,shapeFlag:j,transition:D,dirs:F}=d;if(x=d.el=o(d.type,E,M&&M.is,M),j&8?c(x,d.children):j&16&&W(d.children,x,null,T,k,en(d,E),I,P),F&&It(d,null,T,"created"),q(x,d,d.scopeId,I,T),M){for(const ue in M)ue!=="value"&&!ws(ue)&&i(x,ue,null,M[ue],E,T);"value"in M&&i(x,"value",null,M.value,E),(A=M.onVnodeBeforeMount)&&Xe(A,T,d)}F&&It(d,null,T,"beforeMount");const X=$c(k,D);X&&D.beforeEnter(x),r(x,f,y),((A=M&&M.onVnodeMounted)||X||F)&&De(()=>{A&&Xe(A,T,d),X&&D.enter(x),F&&It(d,null,T,"mounted")},k)},q=(d,f,y,T,k)=>{if(y&&g(d,y),T)for(let E=0;E<T.length;E++)g(d,T[E]);if(k){let E=k.subTree;if(f===E||ga(E.type)&&(E.ssContent===f||E.ssFallback===f)){const I=k.vnode;q(d,I,I.scopeId,I.slotScopeIds,k.parent)}}},W=(d,f,y,T,k,E,I,P,x=0)=>{for(let A=x;A<d.length;A++){const M=d[A]=P?bt(d[A]):tt(d[A]);v(null,M,f,y,T,k,E,I,P)}},G=(d,f,y,T,k,E,I)=>{const P=f.el=d.el;let{patchFlag:x,dynamicChildren:A,dirs:M}=f;x|=d.patchFlag&16;const j=d.props||ae,D=f.props||ae;let F;if(y&&jt(y,!1),(F=D.onVnodeBeforeUpdate)&&Xe(F,y,f,d),M&&It(f,d,y,"beforeUpdate"),y&&jt(y,!0),(j.innerHTML&&D.innerHTML==null||j.textContent&&D.textContent==null)&&c(P,""),A?oe(d.dynamicChildren,A,P,y,T,en(f,k),E):I||ce(d,f,P,null,y,T,en(f,k),E,!1),x>0){if(x&16)z(P,j,D,y,k);else if(x&2&&j.class!==D.class&&i(P,"class",null,D.class,k),x&4&&i(P,"style",j.style,D.style,k),x&8){const X=f.dynamicProps;for(let ue=0;ue<X.length;ue++){const re=X[ue],Ce=j[re],Ie=D[re];(Ie!==Ce||re==="value")&&i(P,re,Ce,Ie,k,y)}}x&1&&d.children!==f.children&&c(P,f.children)}else!I&&A==null&&z(P,j,D,y,k);((F=D.onVnodeUpdated)||M)&&De(()=>{F&&Xe(F,y,f,d),M&&It(f,d,y,"updated")},T)},oe=(d,f,y,T,k,E,I)=>{for(let P=0;P<f.length;P++){const x=d[P],A=f[P],M=x.el&&(x.type===$e||!_s(x,A)||x.shapeFlag&198)?h(x.el):y;v(x,A,M,null,T,k,E,I,!0)}},z=(d,f,y,T,k)=>{if(f!==y){if(f!==ae)for(const E in f)!ws(E)&&!(E in y)&&i(d,E,f[E],null,k,T);for(const E in y){if(ws(E))continue;const I=y[E],P=f[E];I!==P&&E!=="value"&&i(d,E,P,I,k,T)}"value"in y&&i(d,"value",f.value,y.value,k)}},Y=(d,f,y,T,k,E,I,P,x)=>{const A=f.el=d?d.el:a(""),M=f.anchor=d?d.anchor:a("");let{patchFlag:j,dynamicChildren:D,slotScopeIds:F}=f;F&&(P=P?P.concat(F):F),d==null?(r(A,y,T),r(M,y,T),W(f.children||[],y,M,k,E,I,P,x)):j>0&&j&64&&D&&d.dynamicChildren?(oe(d.dynamicChildren,D,y,k,E,I,P),(f.key!=null||k&&f===k.subTree)&&ua(d,f,!0)):ce(d,f,y,M,k,E,I,P,x)},R=(d,f,y,T,k,E,I,P,x)=>{f.slotScopeIds=P,d==null?f.shapeFlag&512?k.ctx.activate(f,y,T,I,x):pe(f,y,T,k,E,I,x):ye(d,f,x)},pe=(d,f,y,T,k,E,I)=>{const P=d.component=Qc(d,T,k);if(Go(d)&&(P.ctx.renderer=ps),Zc(P,!1,I),P.asyncDep){if(k&&k.registerDep(P,ne,I),!d.el){const x=P.subTree=te(gt);_(null,x,f,y)}}else ne(P,d,f,y,k,E,I)},ye=(d,f,y)=>{const T=f.component=d.component;if(Vc(d,f,y))if(T.asyncDep&&!T.asyncResolved){Q(T,f,y);return}else T.next=f,T.update();else f.el=d.el,T.vnode=f},ne=(d,f,y,T,k,E,I)=>{const P=()=>{if(d.isMounted){let{next:j,bu:D,u:F,parent:X,vnode:ue}=d;{const Ye=ha(d);if(Ye){j&&(j.el=ue.el,Q(d,j,I)),Ye.asyncDep.then(()=>{d.isUnmounted||P()});return}}let re=j,Ce;jt(d,!1),j?(j.el=ue.el,Q(d,j,I)):j=ue,D&&lr(D),(Ce=j.props&&j.props.onVnodeBeforeUpdate)&&Xe(Ce,X,j,ue),jt(d,!0);const Ie=Ai(d),Je=d.subTree;d.subTree=Ie,v(Je,Ie,h(Je.el),Xs(Je),d,k,E),j.el=Ie.el,re===null&&Hc(d,Ie.el),F&&De(F,k),(Ce=j.props&&j.props.onVnodeUpdated)&&De(()=>Xe(Ce,X,j,ue),k)}else{let j;const{el:D,props:F}=f,{bm:X,m:ue,parent:re,root:Ce,type:Ie}=d,Je=ts(f);jt(d,!1),X&&lr(X),!Je&&(j=F&&F.onVnodeBeforeMount)&&Xe(j,re,f),jt(d,!0);{Ce.ce&&Ce.ce._def.shadowRoot!==!1&&Ce.ce._injectChildStyle(Ie);const Ye=d.subTree=Ai(d);v(null,Ye,y,T,d,k,E),f.el=Ye.el}if(ue&&De(ue,k),!Je&&(j=F&&F.onVnodeMounted)){const Ye=f;De(()=>Xe(j,re,Ye),k)}(f.shapeFlag&256||re&&ts(re.vnode)&&re.vnode.shapeFlag&256)&&d.a&&De(d.a,k),d.isMounted=!0,f=y=T=null}};d.scope.on();const x=d.effect=new To(P);d.scope.off();const A=d.update=x.run.bind(x),M=d.job=x.runIfDirty.bind(x);M.i=d,M.id=d.uid,x.scheduler=()=>zn(M),jt(d,!0),A()},Q=(d,f,y)=>{f.component=d;const T=d.vnode.props;d.vnode=f,d.next=null,Ac(d,f.props,T,y),Cc(d,f.children,y),ft(),_i(d),pt()},ce=(d,f,y,T,k,E,I,P,x=!1)=>{const A=d&&d.children,M=d?d.shapeFlag:0,j=f.children,{patchFlag:D,shapeFlag:F}=f;if(D>0){if(D&128){Qs(A,j,y,T,k,E,I,P,x);return}else if(D&256){Pt(A,j,y,T,k,E,I,P,x);return}}F&8?(M&16&&fs(A,k,E),j!==A&&c(y,j)):M&16?F&16?Qs(A,j,y,T,k,E,I,P,x):fs(A,k,E,!0):(M&8&&c(y,""),F&16&&W(j,y,T,k,E,I,P,x))},Pt=(d,f,y,T,k,E,I,P,x)=>{d=d||Xt,f=f||Xt;const A=d.length,M=f.length,j=Math.min(A,M);let D;for(D=0;D<j;D++){const F=f[D]=x?bt(f[D]):tt(f[D]);v(d[D],F,y,null,k,E,I,P,x)}A>M?fs(d,k,E,!0,!1,j):W(f,y,T,k,E,I,P,x,j)},Qs=(d,f,y,T,k,E,I,P,x)=>{let A=0;const M=f.length;let j=d.length-1,D=M-1;for(;A<=j&&A<=D;){const F=d[A],X=f[A]=x?bt(f[A]):tt(f[A]);if(_s(F,X))v(F,X,y,null,k,E,I,P,x);else break;A++}for(;A<=j&&A<=D;){const F=d[j],X=f[D]=x?bt(f[D]):tt(f[D]);if(_s(F,X))v(F,X,y,null,k,E,I,P,x);else break;j--,D--}if(A>j){if(A<=D){const F=D+1,X=F<M?f[F].el:T;for(;A<=D;)v(null,f[A]=x?bt(f[A]):tt(f[A]),y,X,k,E,I,P,x),A++}}else if(A>D)for(;A<=j;)Ge(d[A],k,E,!0),A++;else{const F=A,X=A,ue=new Map;for(A=X;A<=D;A++){const Ue=f[A]=x?bt(f[A]):tt(f[A]);Ue.key!=null&&ue.set(Ue.key,A)}let re,Ce=0;const Ie=D-X+1;let Je=!1,Ye=0;const gs=new Array(Ie);for(A=0;A<Ie;A++)gs[A]=0;for(A=F;A<=j;A++){const Ue=d[A];if(Ce>=Ie){Ge(Ue,k,E,!0);continue}let Qe;if(Ue.key!=null)Qe=ue.get(Ue.key);else for(re=X;re<=D;re++)if(gs[re-X]===0&&_s(Ue,f[re])){Qe=re;break}Qe===void 0?Ge(Ue,k,E,!0):(gs[Qe-X]=A+1,Qe>=Ye?Ye=Qe:Je=!0,v(Ue,f[Qe],y,null,k,E,I,P,x),Ce++)}const hi=Je?Rc(gs):Xt;for(re=hi.length-1,A=Ie-1;A>=0;A--){const Ue=X+A,Qe=f[Ue],di=Ue+1<M?f[Ue+1].el:T;gs[A]===0?v(null,Qe,y,di,k,E,I,P,x):Je&&(re<0||A!==hi[re]?Ct(Qe,y,di,2):re--)}}},Ct=(d,f,y,T,k=null)=>{const{el:E,type:I,transition:P,children:x,shapeFlag:A}=d;if(A&6){Ct(d.component.subTree,f,y,T);return}if(A&128){d.suspense.move(f,y,T);return}if(A&64){I.move(d,f,y,ps);return}if(I===$e){r(E,f,y);for(let j=0;j<x.length;j++)Ct(x[j],f,y,T);r(d.anchor,f,y);return}if(I===tn){b(d,f,y);return}if(T!==2&&A&1&&P)if(T===0)P.beforeEnter(E),r(E,f,y),De(()=>P.enter(E),k);else{const{leave:j,delayLeave:D,afterLeave:F}=P,X=()=>{d.ctx.isUnmounted?n(E):r(E,f,y)},ue=()=>{j(E,()=>{X(),F&&F()})};D?D(E,X,ue):ue()}else r(E,f,y)},Ge=(d,f,y,T=!1,k=!1)=>{const{type:E,props:I,ref:P,children:x,dynamicChildren:A,shapeFlag:M,patchFlag:j,dirs:D,cacheIndex:F}=d;if(j===-2&&(k=!1),P!=null&&(ft(),Es(P,null,y,d,!0),pt()),F!=null&&(f.renderCache[F]=void 0),M&256){f.ctx.deactivate(d);return}const X=M&1&&D,ue=!ts(d);let re;if(ue&&(re=I&&I.onVnodeBeforeUnmount)&&Xe(re,f,d),M&6)il(d.component,y,T);else{if(M&128){d.suspense.unmount(y,T);return}X&&It(d,null,f,"beforeUnmount"),M&64?d.type.remove(d,f,y,ps,T):A&&!A.hasOnce&&(E!==$e||j>0&&j&64)?fs(A,f,y,!1,!0):(E===$e&&j&384||!k&&M&16)&&fs(x,f,y),T&&ci(d)}(ue&&(re=I&&I.onVnodeUnmounted)||X)&&De(()=>{re&&Xe(re,f,d),X&&It(d,null,f,"unmounted")},y)},ci=d=>{const{type:f,el:y,anchor:T,transition:k}=d;if(f===$e){nl(y,T);return}if(f===tn){S(d);return}const E=()=>{n(y),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(d.shapeFlag&1&&k&&!k.persisted){const{leave:I,delayLeave:P}=k,x=()=>I(y,E);P?P(d.el,E,x):x()}else E()},nl=(d,f)=>{let y;for(;d!==f;)y=p(d),n(d),d=y;n(f)},il=(d,f,y)=>{const{bum:T,scope:k,job:E,subTree:I,um:P,m:x,a:A,parent:M,slots:{__:j}}=d;Ti(x),Ti(A),T&&lr(T),M&&N(j)&&j.forEach(D=>{M.renderCache[D]=void 0}),k.stop(),E&&(E.flags|=8,Ge(I,d,f,y)),P&&De(P,f),De(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},fs=(d,f,y,T=!1,k=!1,E=0)=>{for(let I=E;I<d.length;I++)Ge(d[I],f,y,T,k)},Xs=d=>{if(d.shapeFlag&6)return Xs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),y=f&&f[Ql];return y?p(y):f};let zr=!1;const ui=(d,f,y)=>{d==null?f._vnode&&Ge(f._vnode,null,null,!0):v(f._vnode||null,d,f,null,null,null,y),f._vnode=d,zr||(zr=!0,_i(),qo(),zr=!1)},ps={p:v,um:Ge,m:Ct,r:ci,mt:pe,mc:W,pc:ce,pbc:oe,n:Xs,o:t};return{render:ui,hydrate:void 0,createApp:Sc(ui)}}function en({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function jt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $c(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ua(t,e,s=!1){const r=t.children,n=e.children;if(N(r)&&N(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=bt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ua(o,a)),a.type===Lr&&(a.el=o.el),a.type===gt&&!a.el&&(a.el=o.el)}}function Rc(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function ha(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ha(e)}function Ti(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Lc=Symbol.for("v-scx"),Uc=()=>As(Lc);function Nt(t,e,s){return da(t,e,s)}function da(t,e,s=ae){const{immediate:r,deep:n,flush:i,once:o}=s,a=xe({},s),l=e&&r||!e&&i!=="post";let u;if(Ms){if(i==="sync"){const g=Uc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=st,g.resume=st,g.pause=st,g}}const c=we;a.call=(g,m,v)=>rt(g,c,m,v);let h=!1;i==="post"?a.scheduler=g=>{De(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,m)=>{m?g():zn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=zl(t,e,a);return Ms&&(u?u.push(p):l&&p()),p}function Dc(t,e,s){const r=this.proxy,n=ve(t)?t.includes(".")?fa(r,t):()=>r[t]:t.bind(r,r);let i;B(e)?i=e:(i=e.handler,s=e);const o=Ks(this),a=da(n,i.bind(r),s);return o(),a}function fa(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Mc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Be(e)}Modifiers`]||t[`${Ft(e)}Modifiers`];function Nc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ae;let n=s;const i=e.startsWith("update:"),o=i&&Mc(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ve(c)?c.trim():c)),o.number&&(n=s.map(fr)));let a,l=r[a=Gr(e)]||r[a=Gr(Be(e))];!l&&i&&(l=r[a=Gr(Ft(e))]),l&&rt(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,rt(u,t,6,n)}}function pa(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!B(t)){const l=u=>{const c=pa(u,e,!0);c&&(a=!0,xe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(fe(t)&&r.set(t,null),null):(N(i)?i.forEach(l=>o[l]=null):xe(o,i),fe(t)&&r.set(t,o),o)}function Rr(t,e){return!t||!Er(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,Ft(e))||se(t,e))}function Ai(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:m,inheritAttrs:v}=t,w=mr(t);let _,C;try{if(s.shapeFlag&4){const S=n||r,$=S;_=tt(u.call($,S,c,h,g,p,m)),C=a}else{const S=e;_=tt(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),C=e.props?a:Fc(a)}}catch(S){xs.length=0,Cr(S,t,1),_=te(gt)}let b=_;if(C&&v!==!1){const S=Object.keys(C),{shapeFlag:$}=b;S.length&&$&7&&(i&&S.some(Rn)&&(C=Bc(C,i)),b=rs(b,C,!1,!0))}return s.dirs&&(b=rs(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Jn(b,s.transition),_=b,mr(w),_}const Fc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Er(s))&&((e||(e={}))[s]=t[s]);return e},Bc=(t,e)=>{const s={};for(const r in t)(!Rn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Vc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?xi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!Rr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xi(r,o,u):!0:!!o;return!1}function xi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Rr(s,i))return!0}return!1}function Hc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const ga=t=>t.__isSuspense;function qc(t,e){e&&e.pendingBranch?N(t)?e.effects.push(...t):e.effects.push(t):Yl(t)}const $e=Symbol.for("v-fgt"),Lr=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),tn=Symbol.for("v-stc"),xs=[];let Ne=null;function K(t=!1){xs.push(Ne=t?null:[])}function Kc(){xs.pop(),Ne=xs[xs.length-1]||null}let Ds=1;function Oi(t,e=!1){Ds+=t,t<0&&Ne&&e&&(Ne.hasOnce=!0)}function va(t){return t.dynamicChildren=Ds>0?Ne||Xt:null,Kc(),Ds>0&&Ne&&Ne.push(t),t}function ie(t,e,s,r,n,i){return va(L(t,e,s,r,n,i,!0))}function We(t,e,s,r,n){return va(te(t,e,s,r,n,!0))}function Xn(t){return t?t.__v_isVNode===!0:!1}function _s(t,e){return t.type===e.type&&t.key===e.key}const _a=({key:t})=>t??null,cr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ve(t)||ge(t)||B(t)?{i:me,r:t,k:e,f:!!s}:t:null);function L(t,e=null,s=null,r=0,n=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_a(e),ref:e&&cr(e),scopeId:Wo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:me};return a?(ei(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ve(s)?8:16),Ds>0&&!o&&Ne&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ne.push(l),l}const te=Wc;function Wc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Yo)&&(t=gt),Xn(t)){const a=rs(t,e,!0);return s&&ei(a,s),Ds>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(t)]=a:Ne.push(a)),a.patchFlag=-2,a}if(ru(t)&&(t=t.__vccOpts),e){e=zc(e);let{class:a,style:l}=e;a&&!ve(a)&&(e.class=U(a)),fe(l)&&(qn(l)&&!N(l)&&(l=xe({},l)),e.style=Or(l))}const o=ve(t)?1:ga(t)?128:Xl(t)?64:fe(t)?4:B(t)?2:0;return L(t,e,s,r,n,o,i,!0)}function zc(t){return t?qn(t)||na(t)?xe({},t):t:null}function rs(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Gc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&_a(u),ref:e&&e.ref?s&&i?N(i)?i.concat(cr(e)):[i,cr(e)]:cr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rs(t.ssContent),ssFallback:t.ssFallback&&rs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Jn(c,l.clone(c)),c}function Zn(t=" ",e=0){return te(Lr,null,t,e)}function _e(t="",e=!1){return e?(K(),We(gt,null,t)):te(gt,null,t)}function tt(t){return t==null||typeof t=="boolean"?te(gt):N(t)?te($e,null,t.slice()):Xn(t)?bt(t):te(Lr,null,String(t))}function bt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rs(t)}function ei(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(N(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ei(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!na(e)?e._ctx=me:n===3&&me&&(me.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:me},s=32):(e=String(e),r&64?(s=16,e=[Zn(e)]):s=8);t.children=e,t.shapeFlag|=s}function Gc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=U([e.class,r.class]));else if(n==="style")e.style=Or([e.style,r.style]);else if(Er(n)){const i=e[n],o=r[n];o&&i!==o&&!(N(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Xe(t,e,s,r=null){rt(t,e,7,[s,r])}const Jc=ta();let Yc=0;function Qc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Jc,i={uid:Yc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new So(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oa(r,n),emitsOptions:pa(r,n),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Nc.bind(null,i),t.ce&&t.ce(i),i}let we=null;const Xc=()=>we||me;let br,wn;{const t=xr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};br=e("__VUE_INSTANCE_SETTERS__",s=>we=s),wn=e("__VUE_SSR_SETTERS__",s=>Ms=s)}const Ks=t=>{const e=we;return br(t),t.scope.on(),()=>{t.scope.off(),br(e)}},Pi=()=>{we&&we.scope.off(),br(null)};function ma(t){return t.vnode.shapeFlag&4}let Ms=!1;function Zc(t,e=!1,s=!1){e&&wn(e);const{props:r,children:n}=t.vnode,i=ma(t);Tc(t,r,i,e),Pc(t,n,s||e);const o=i?eu(t,e):void 0;return e&&wn(!1),o}function eu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,fc);const{setup:r}=s;if(r){ft();const n=t.setupContext=r.length>1?ba(t):null,i=Ks(t),o=qs(r,t,0,[t.props,n]),a=vo(o);if(pt(),i(),(a||t.sp)&&!ts(t)&&zo(t),a){if(o.then(Pi,Pi),e)return o.then(l=>{Ci(t,l)}).catch(l=>{Cr(l,t,0)});t.asyncDep=o}else Ci(t,o)}else ya(t)}function Ci(t,e,s){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:fe(e)&&(t.setupState=Fo(e)),ya(t)}function ya(t,e,s){const r=t.type;t.render||(t.render=r.render||st);{const n=Ks(t);ft();try{vc(t)}finally{pt(),n()}}}const tu={get(t,e){return Ae(t,"get",""),t[e]}};function ba(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,tu),slots:t.slots,emit:t.emit,expose:e}}function Ur(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Fo(Kn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ts)return Ts[s](t)},has(e,s){return s in e||s in Ts}})):t.proxy}function su(t,e=!0){return B(t)?t.displayName||t.name:t.name||e&&t.__name}function ru(t){return B(t)&&"__vccOpts"in t}const le=(t,e)=>Kl(t,e,Ms),nu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sn;const Ii=typeof window<"u"&&window.trustedTypes;if(Ii)try{Sn=Ii.createPolicy("vue",{createHTML:t=>t})}catch{}const wa=Sn?t=>Sn.createHTML(t):t=>t,iu="http://www.w3.org/2000/svg",ou="http://www.w3.org/1998/Math/MathML",ot=typeof document<"u"?document:null,ji=ot&&ot.createElement("template"),au={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ot.createElementNS(iu,t):e==="mathml"?ot.createElementNS(ou,t):s?ot.createElement(t,{is:s}):ot.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ot.createTextNode(t),createComment:t=>ot.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ot.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ji.innerHTML=wa(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ji.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},lu=Symbol("_vtc");function cu(t,e,s){const r=t[lu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const $i=Symbol("_vod"),uu=Symbol("_vsh"),hu=Symbol(""),du=/(^|;)\s*display\s*:/;function fu(t,e,s){const r=t.style,n=ve(s);let i=!1;if(s&&!n){if(e)if(ve(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&ur(r,a,"")}else for(const o in e)s[o]==null&&ur(r,o,"");for(const o in s)o==="display"&&(i=!0),ur(r,o,s[o])}else if(n){if(e!==s){const o=r[hu];o&&(s+=";"+o),r.cssText=s,i=du.test(s)}}else e&&t.removeAttribute("style");$i in t&&(t[$i]=i?r.display:"",t[uu]&&(r.display="none"))}const Ri=/\s*!important$/;function ur(t,e,s){if(N(s))s.forEach(r=>ur(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=pu(t,e);Ri.test(s)?t.setProperty(Ft(r),s.replace(Ri,""),"important"):t[r]=s}}const Li=["Webkit","Moz","ms"],sn={};function pu(t,e){const s=sn[e];if(s)return s;let r=Be(e);if(r!=="filter"&&r in t)return sn[e]=r;r=Ar(r);for(let n=0;n<Li.length;n++){const i=Li[n]+r;if(i in t)return sn[e]=i}return e}const Ui="http://www.w3.org/1999/xlink";function Di(t,e,s,r,n,i=vl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ui,e.slice(6,e.length)):t.setAttributeNS(Ui,e,s):s==null||i&&!yo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ze(s)?String(s):s)}function Mi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?wa(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=yo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function St(t,e,s,r){t.addEventListener(e,s,r)}function gu(t,e,s,r){t.removeEventListener(e,s,r)}const Ni=Symbol("_vei");function vu(t,e,s,r,n=null){const i=t[Ni]||(t[Ni]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=_u(e);if(r){const u=i[e]=bu(r,n);St(t,a,u,l)}else o&&(gu(t,a,o,l),i[e]=void 0)}}const Fi=/(?:Once|Passive|Capture)$/;function _u(t){let e;if(Fi.test(t)){e={};let r;for(;r=t.match(Fi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ft(t.slice(2)),e]}let rn=0;const mu=Promise.resolve(),yu=()=>rn||(mu.then(()=>rn=0),rn=Date.now());function bu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;rt(wu(r,s.value),e,5,[r])};return s.value=t,s.attached=yu(),s}function wu(t,e){if(N(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Bi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Su=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?cu(t,r,o):e==="style"?fu(t,s,r):Er(e)?Rn(e)||vu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ku(t,e,r,o))?(Mi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Di(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ve(r))?Mi(t,Be(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Di(t,e,r,o))};function ku(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Bi(e)&&B(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Bi(e)&&ve(s)?!1:e in t}const ns=t=>{const e=t.props["onUpdate:modelValue"]||!1;return N(e)?s=>lr(e,s):e};function Eu(t){t.target.composing=!0}function Vi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const dt=Symbol("_assign"),sr={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[dt]=ns(n);const i=r||n.props&&n.props.type==="number";St(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=fr(a)),t[dt](a)}),s&&St(t,"change",()=>{t.value=t.value.trim()}),e||(St(t,"compositionstart",Eu),St(t,"compositionend",Vi),St(t,"change",Vi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[dt]=ns(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?fr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Tu={deep:!0,created(t,e,s){t[dt]=ns(s),St(t,"change",()=>{const r=t._modelValue,n=Ns(t),i=t.checked,o=t[dt];if(N(r)){const a=Dn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(ls(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Sa(t,i))})},mounted:Hi,beforeUpdate(t,e,s){t[dt]=ns(s),Hi(t,e,s)}};function Hi(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(N(e))n=Dn(e,r.props.value)>-1;else if(ls(e))n=e.has(r.props.value);else{if(e===s)return;n=Hs(e,Sa(t,!0))}t.checked!==n&&(t.checked=n)}const Au={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=ls(e);St(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?fr(Ns(o)):Ns(o));t[dt](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[dt]=ns(r)},mounted(t,{value:e}){qi(t,e)},beforeUpdate(t,e,s){t[dt]=ns(s)},updated(t,{value:e}){t._assigning||qi(t,e)}};function qi(t,e){const s=t.multiple,r=N(e);if(!(s&&!r&&!ls(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Ns(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Dn(e,a)>-1}else o.selected=e.has(a);else if(Hs(Ns(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ns(t){return"_value"in t?t._value:t.value}function Sa(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const xu=["ctrl","shift","alt","meta"],Ou={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>xu.some(s=>t[`${s}Key`]&&!e.includes(s))},Pu=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Ou[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Cu=xe({patchProp:Su},au);let Ki;function Iu(){return Ki||(Ki=Ic(Cu))}const ju=(...t)=>{const e=Iu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Ru(r);if(!n)return;const i=e._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,$u(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function $u(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ru(t){return ve(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ka;const Dr=t=>ka=t,Ea=Symbol();function kn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Os;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Os||(Os={}));function Lu(){const t=ko(!0),e=t.run(()=>ee({}));let s=[],r=[];const n=Kn({install(i){Dr(n),n._a=i,i.provide(Ea,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Ta=()=>{};function Wi(t,e,s,r=Ta){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Eo()&&ml(n),n}function Kt(t,...e){t.slice().forEach(s=>{s(...e)})}const Uu=t=>t(),zi=Symbol(),nn=Symbol();function En(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];kn(n)&&kn(r)&&t.hasOwnProperty(s)&&!ge(r)&&!Tt(r)?t[s]=En(n,r):t[s]=r}return t}const Du=Symbol();function Mu(t){return!kn(t)||!t.hasOwnProperty(Du)}const{assign:_t}=Object;function Nu(t){return!!(ge(t)&&t.effect)}function Fu(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Bo(s.state.value[t]);return _t(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=Kn(le(()=>{Dr(s);const g=s._s.get(t);return o[p].call(g,g)})),h),{}))}return l=Aa(t,u,e,s,r,!0),l}function Aa(t,e,s={},r,n,i){let o;const a=_t({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],g;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),ee({});let v;function w(W){let G;u=c=!1,typeof W=="function"?(W(r.state.value[t]),G={type:Os.patchFunction,storeId:t,events:g}):(En(r.state.value[t],W),G={type:Os.patchObject,payload:W,storeId:t,events:g});const oe=v=Symbol();Wn().then(()=>{v===oe&&(u=!0)}),c=!0,Kt(h,G,r.state.value[t])}const _=i?function(){const{state:G}=s,oe=G?G():{};this.$patch(z=>{_t(z,oe)})}:Ta;function C(){o.stop(),h=[],p=[],r._s.delete(t)}const b=(W,G="")=>{if(zi in W)return W[nn]=G,W;const oe=function(){Dr(r);const z=Array.from(arguments),Y=[],R=[];function pe(Q){Y.push(Q)}function ye(Q){R.push(Q)}Kt(p,{args:z,name:oe[nn],store:$,after:pe,onError:ye});let ne;try{ne=W.apply(this&&this.$id===t?this:$,z)}catch(Q){throw Kt(R,Q),Q}return ne instanceof Promise?ne.then(Q=>(Kt(Y,Q),Q)).catch(Q=>(Kt(R,Q),Promise.reject(Q))):(Kt(Y,ne),ne)};return oe[zi]=!0,oe[nn]=G,oe},S={_p:r,$id:t,$onAction:Wi.bind(null,p),$patch:w,$reset:_,$subscribe(W,G={}){const oe=Wi(h,W,G.detached,()=>z()),z=o.run(()=>Nt(()=>r.state.value[t],Y=>{(G.flush==="sync"?c:u)&&W({storeId:t,type:Os.direct,events:g},Y)},_t({},l,G)));return oe},$dispose:C},$=cs(S);r._s.set(t,$);const q=(r._a&&r._a.runWithContext||Uu)(()=>r._e.run(()=>(o=ko()).run(()=>e({action:b}))));for(const W in q){const G=q[W];if(ge(G)&&!Nu(G)||Tt(G))i||(m&&Mu(G)&&(ge(G)?G.value=m[W]:En(G,m[W])),r.state.value[t][W]=G);else if(typeof G=="function"){const oe=b(G,W);q[W]=oe,a.actions[W]=G}}return _t($,q),_t(Z($),q),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:W=>{w(G=>{_t(G,W)})}}),r._p.forEach(W=>{_t($,o.run(()=>W({store:$,app:r._a,pinia:r,options:a})))}),m&&i&&s.hydrate&&s.hydrate($.$state,m),u=!0,c=!0,$}/*! #__NO_SIDE_EFFECTS__ */function ti(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=Ec();return a=a||(u?As(Ea,null):null),a&&Dr(a),a=ka,a._s.has(r)||(i?Aa(r,e,n,a):Fu(r,n,a)),a._s.get(r)}return o.$id=r,o}const Bu="modulepreload",Vu=function(t){return"/"+t},Gi={},Ws=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Vu(l),l in Gi)return;Gi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Bu,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Hu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ws(async()=>{const{default:r}=await Promise.resolve().then(()=>us);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class si extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class qu extends si{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ji extends si{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yi extends si{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tn||(Tn={}));var Ku=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Wu{constructor(e,{headers:s={},customFetch:r,region:n=Tn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Hu(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Ku(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(v=>{throw new qu(v)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Ji(h);if(!h.ok)throw new Yi(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield h.json():g==="application/octet-stream"?m=yield h.blob():g==="text/event-stream"?m=h:g==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof Yi||n instanceof Ji?n.context:void 0}}})}}var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Re={},ri={},Mr={},zs={},Nr={},Fr={},Gu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=Gu();const Ju=is.fetch,xa=is.fetch.bind(is),Oa=is.Headers,Yu=is.Request,Qu=is.Response,us=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oa,Request:Yu,Response:Qu,default:xa,fetch:Ju},Symbol.toStringTag,{value:"Module"})),Xu=zu(us);var Br={};Object.defineProperty(Br,"__esModule",{value:!0});let Zu=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Br.default=Zu;var Pa=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fr,"__esModule",{value:!0});const eh=Pa(Xu),th=Pa(Br);let sh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=eh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&v===""?(p=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new th.default(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Fr.default=sh;var rh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nr,"__esModule",{value:!0});const nh=rh(Fr);let ih=class extends nh.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nr.default=ih;var oh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});const ah=oh(Nr);let lh=class extends ah.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};zs.default=lh;var ch=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});const ms=ch(zs);let uh=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ms.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ms.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ms.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new ms.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ms.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Mr.default=uh;var Vr={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.version=void 0;Hr.version="0.0.0-automated";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.DEFAULT_HEADERS=void 0;const hh=Hr;Vr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hh.version}`};var Ca=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ri,"__esModule",{value:!0});const dh=Ca(Mr),fh=Ca(zs),ph=Vr;let gh=class Ia{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},ph.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new dh.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ia(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new fh.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ri.default=gh;var hs=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const ja=hs(ri);Re.PostgrestClient=ja.default;const $a=hs(Mr);Re.PostgrestQueryBuilder=$a.default;const Ra=hs(zs);Re.PostgrestFilterBuilder=Ra.default;const La=hs(Nr);Re.PostgrestTransformBuilder=La.default;const Ua=hs(Fr);Re.PostgrestBuilder=Ua.default;const Da=hs(Br);Re.PostgrestError=Da.default;var vh=Re.default={PostgrestClient:ja.default,PostgrestQueryBuilder:$a.default,PostgrestFilterBuilder:Ra.default,PostgrestTransformBuilder:La.default,PostgrestBuilder:Ua.default,PostgrestError:Da.default};const{PostgrestClient:_h,PostgrestQueryBuilder:Op,PostgrestFilterBuilder:Pp,PostgrestTransformBuilder:Cp,PostgrestBuilder:Ip,PostgrestError:jp}=vh;function mh(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const yh=mh(),bh="2.11.15",wh=`realtime-js/${bh}`,Sh="1.0.0",Ma=1e4,kh=1e3;var Ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ps||(Ps={}));var ke;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ke||(ke={}));var qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qe||(qe={}));var An;(function(t){t.websocket="websocket"})(An||(An={}));var Ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ut||(Ut={}));class Eh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Na{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const Qi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Th(o,t,e,n),i),{})},Th=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Fa(i,o):xn(o)},Fa=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Ph(e,s)}switch(t){case he.bool:return Ah(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return xh(e);case he.json:case he.jsonb:return Oh(e);case he.timestamp:return Ch(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return xn(e);default:return xn(e)}},xn=t=>t,Ah=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Oh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ph=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Fa(e,a))}return t},Ch=t=>typeof t=="string"?t.replace(" ","T"):t,Ba=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class on{constructor(e,s,r={},n=Ma){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xi||(Xi={}));class Cs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Cs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Cs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),m=c.filter(w=>g.indexOf(w.presence_ref)<0),v=h.filter(w=>p.indexOf(w.presence_ref)<0);m.length>0&&(a[u]=m),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zi||(Zi={}));var eo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(eo||(eo={}));var at;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class ni{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new on(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Na(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Cs(this),this.broadcastEndpointURL=Ba(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ke.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(at.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(at.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(at.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,m=[];for(let v=0;v<g;v++){const w=p[v],{filter:{event:_,schema:C,table:b,filter:S}}=w,$=c&&c[v];if($&&$.event===_&&$.schema===C&&$.table===b&&$.filter===S)m.push(Object.assign(Object.assign({},w),{id:$.id}));else{this.unsubscribe(),this.state=ke.errored,e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(at.SUBSCRIBED);return}}).receive("error",c=>{this.state=ke.errored,e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ke.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new on(this,qe.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new on(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=qe;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var m,v,w;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,v,w,_,C,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const S=g.id,$=(m=g.filter)===null||m===void 0?void 0:m.event;return S&&((v=s.ids)===null||v===void 0?void 0:v.includes(S))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(C=(_=g==null?void 0:g.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return S==="*"||S===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:v,table:w,commit_timestamp:_,type:C,errors:b}=m;p=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:_,eventType:C,new:{},old:{},errors:b}),this._getPayloadRecords(m))}g.callback(p,r)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ni.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Qi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Qi(e.columns,e.old_record)),s}}const to=()=>{},Ih=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jh{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ma,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=to,this.ref=0,this.logger=to,this.conn=null,this.sendBuffer=[],this.serializer=new Eh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ws(async()=>{const{default:l}=await Promise.resolve().then(()=>us);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${An.websocket}`,this.httpEndpoint=Ba(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Na(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=yh),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sh}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return Ut.Connecting;case Ps.open:return Ut.Open;case Ps.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new ni(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:wh};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(kh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Ih],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class ii extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $h extends ii{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class On extends ii{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Rh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Va=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ws(async()=>{const{default:r}=await Promise.resolve().then(()=>us);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Lh=()=>Rh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ws(()=>Promise.resolve().then(()=>us),void 0)).Response:Response}),Pn=t=>{if(Array.isArray(t))return t.map(s=>Pn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Pn(r)}),e};var Vt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const an=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uh=(t,e,s)=>Vt(void 0,void 0,void 0,function*(){const r=yield Lh();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new $h(an(n),t.status||500))}).catch(n=>{e(new On(an(n),n))}):e(new On(an(t),t))}),Dh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Gs(t,e,s,r,n,i){return Vt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Dh(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Uh(l,a,r))})})}function wr(t,e,s,r){return Vt(this,void 0,void 0,function*(){return Gs(t,"GET",e,s,r)})}function wt(t,e,s,r,n){return Vt(this,void 0,void 0,function*(){return Gs(t,"POST",e,r,n,s)})}function Mh(t,e,s,r,n){return Vt(this,void 0,void 0,function*(){return Gs(t,"PUT",e,r,n,s)})}function Nh(t,e,s,r){return Vt(this,void 0,void 0,function*(){return Gs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ha(t,e,s,r,n){return Vt(this,void 0,void 0,function*(){return Gs(t,"DELETE",e,r,n,s)})}var je=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Fh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},so={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bh{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Va(n)}uploadOrUpdate(e,s,r,n){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},so),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(e,s,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:so.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ii("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(e,s,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return je(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}copy(e,s,r){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield wt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return je(this,void 0,void 0,function*(){try{const n=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}download(e,s){return je(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield wr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}info(e){return je(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield wr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Pn(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(e){return je(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Nh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof On){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}list(e,s,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Fh),s),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Vh="2.7.1",Hh={"X-Client-Info":`storage-js/${Vh}`};var Wt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qh{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Hh),s),this.fetch=Va(r)}listBuckets(){return Wt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}})}getBucket(e){return Wt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Wt(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Wt(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Wt(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}}class Kh extends qh{constructor(e,s={},r){super(e,s,r)}from(e){return new Bh(this.url,this.headers,e,this.fetch)}}const Wh="2.50.3";let bs="";typeof Deno<"u"?bs="deno":typeof document<"u"?bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bs="react-native":bs="node";const zh={"X-Client-Info":`supabase-js-${bs}/${Wh}`},Gh={headers:zh},Jh={schema:"public"},Yh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qh={};var Xh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=xa:e=fetch,(...s)=>e(...s)},ed=()=>typeof Headers>"u"?Oa:Headers,td=(t,e,s)=>{const r=Zh(s),n=ed();return(i,o)=>Xh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var sd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function rd(t){return t.endsWith("/")?t:t+"/"}function nd(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>sd(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const qa="2.70.0",Qt=30*1e3,Cn=3,ln=Cn*Qt,id="http://localhost:9999",od="supabase.auth.token",ad={"X-Client-Info":`gotrue-js/${qa}`},In="X-Supabase-Api-Version",Ka={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ld=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cd=6e5;class oi extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ud extends oi{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function hd(t){return H(t)&&t.name==="AuthApiError"}class Wa extends oi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ot extends oi{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class mt extends Ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dd(t){return H(t)&&t.name==="AuthSessionMissingError"}class rr extends Ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nr extends Ot{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ir extends Ot{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fd(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class ro extends Ot{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jn extends Ot{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function cn(t){return H(t)&&t.name==="AuthRetryableFetchError"}class no extends Ot{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Is extends Ot{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),io=` 	
\r=`.split(""),pd=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<io.length;e+=1)t[io[e].charCodeAt(0)]=-2;for(let e=0;e<Sr.length;e+=1)t[Sr[e].charCodeAt(0)]=e;return t})();function oo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Sr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Sr[r]),e.queuedBits-=6}}function za(t,e,s){const r=pd[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ao(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{_d(o,r,s)};for(let o=0;o<t.length;o+=1)za(t.charCodeAt(o),n,i);return e.join("")}function gd(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vd(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}gd(r,e)}}function _d(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function md(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)za(t.charCodeAt(n),s,r);return new Uint8Array(e)}function yd(t){const e=[];return vd(t,s=>e.push(s)),new Uint8Array(e)}function bd(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>oo(n,s,r)),oo(null,s,r),e.join("")}function wd(t){return Math.round(Date.now()/1e3)+t}function Sd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},js=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function kd(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Ga=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ws(async()=>{const{default:r}=await Promise.resolve().then(()=>us);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Ed=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ja=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},or=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ar=async(t,e)=>{await t.removeItem(e)};class qr{constructor(){this.promise=new qr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}qr.promiseConstructor=Promise;function un(t){const e=t.split(".");if(e.length!==3)throw new Is("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ld.test(e[r]))throw new Is("JWT not in base64url format");return{header:JSON.parse(ao(e[0])),payload:JSON.parse(ao(e[1])),signature:md(e[2]),raw:{header:e[0],payload:e[1]}}}async function Td(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ad(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function xd(t){return("0"+t.toString(16)).substr(-2)}function Od(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,xd).join("")}async function Pd(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Cd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Pd(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zt(t,e,s=!1){const r=Od();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ja(t,`${e}-code-verifier`,n);const i=await Cd(r);return[i,r===i?"plain":"s256"]}const Id=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jd(t){const e=t.headers.get(In);if(!e||!e.match(Id))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $d(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rd(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ld=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gt(t){if(!Ld.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Ud=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Lt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dd=[502,503,504];async function lo(t){var e;if(!Ed(t))throw new jn(Lt(t),0);if(Dd.includes(t.status))throw new jn(Lt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Wa(Lt(i),i)}let r;const n=jd(t);if(n&&n.getTime()>=Ka["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new no(Lt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new no(Lt(s),t.status,s.weak_password.reasons);throw new ud(Lt(s),t.status||500,r)}const Md=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function J(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[In]||(i[In]=Ka["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Nd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Nd(t,e,s,r,n,i){const o=Md(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new jn(Lt(l),0)}if(a.ok||await lo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await lo(l)}}function it(t){var e;let s=null;Hd(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=wd(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function co(t){const e=it(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Fd(t){return{data:t,error:null}}function Bd(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Ud(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Vd(t){return t}function Hd(t){return t.access_token&&t.refresh_token&&t.expires_in}const hn=["global","local","others"];var qd=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Kd{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Ga(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=hn[0]){if(hn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hn.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=qd(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Bd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(H(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Vd});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Gt(e);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Gt(e);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Gt(e);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Gt(e.userId);try{const{data:s,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Gt(e.userId),Gt(e.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}}const Wd={getItem:t=>js()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{js()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{js()&&globalThis.localStorage.removeItem(t)}};function uo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function zd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jt={debug:!!(globalThis&&js()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ya extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Gd extends Ya{}async function Jd(t,e,s){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Gd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}zd();const Yd={url:id,storageKey:od,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ad,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ho(t,e,s){return await s()}class Fs{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fs.nextInstanceID,Fs.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Yd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Kd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ga(n.fetch),this.lock=n.lock||ho,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:He()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Jd:this.lock=ho,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:js()?this.storage=Wd:(this.memoryStorage={},this.storage=uo(this.memoryStorage)):(this.memoryStorage={},this.storage=uo(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=kd(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),He()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fd(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return H(s)?{error:s}:{error:new Wa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:it}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await zt(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:m},xform:it})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:it})}else throw new nr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:co})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:co})}else throw new nr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new rr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,p,g;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:w,wallet:_,statement:C,options:b}=e;let S;if(He())if(typeof _=="object")S=_;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))S=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const $=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const V=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),C?{statement:C}:null));let q;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")q=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)q=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)m=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),v=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${$.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(n=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const V=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=V}}try{const{data:w,error:_}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:bd(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:it});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new rr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(H(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const s=await or(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:it});if(await ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:it}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await zt(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new nr("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:it});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await zt(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Fd})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new mt;const{error:n}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await J(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await J(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new nr("You must provide either an email or phone number and a type")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ln:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(s){if(H(s))return dd(s)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new mt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await zt(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=un(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(H(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!He())throw new ir("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ir(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ro("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ir("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ro("No code detected.");const{data:C,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ir("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=Qt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=p-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,c);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const _={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(hd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Sd(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await zt(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return He()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ad(async n=>(n>0&&await Td(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:it})),(n,i)=>{const o=200*Math.pow(2,n);return i&&cn(i)&&Date.now()+o-r<Qt})}catch(r){if(this._debug(s,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),He()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await or(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ln;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${ln}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),cn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new qr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),H(i)){const o={session:null,error:i};return cn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ja(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Qt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Qt}ms, refresh threshold is ${Cn} ticks`),n<=Cn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ya)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await zt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=un(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+cd>Date.now()))return r;const{data:n,error:i}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Is("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Is("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=un(r);if($d(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Rd(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,yd(`${a}.${l}`)))throw new Is("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}Fs.nextInstanceID=0;const Qd=Fs;class Xd extends Qd{constructor(e){super(e)}}var Zd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ef{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=rd(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Jh,realtime:Qh,auth:Object.assign(Object.assign({},Yh),{storageKey:u}),global:Gh},h=nd(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=td(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new _h(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Wu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kh(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Zd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xd({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new jh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tf=(t,e,s)=>new ef(t,e,s),ss={},sf=(ss==null?void 0:ss.VITE_SUPABASE_URL)||"https://placeholder.supabase.co",rf=(ss==null?void 0:ss.VITE_SUPABASE_ANON_KEY)||"placeholder-key",et=tf(sf,rf,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Qa=ti("auth",()=>{const t=ee(null),e=ee(null),s=ee(!1),r=ee(null),n=le(()=>!!t.value&&!!e.value),i=le(()=>{var m,v;return((v=(m=t.value)==null?void 0:m.user_metadata)==null?void 0:v.language)||"en"}),o=async(m,v)=>{s.value=!0,r.value=null;try{const{data:w,error:_}=await et.auth.signInWithPassword({email:m,password:v});if(_)throw _;t.value=w.user,e.value=w.session}catch(w){throw r.value=w instanceof Error?w.message:"Authentication failed",w}finally{s.value=!1}},a=async(m,v,w)=>{s.value=!0,r.value=null;try{const{data:_,error:C}=await et.auth.signUp({email:m,password:v,options:{data:{full_name:w,language:"en"}}});if(C)throw C;return _}catch(_){throw r.value=_ instanceof Error?_.message:"Sign up failed",_}finally{s.value=!1}},l=async()=>{s.value=!0,r.value=null;try{const{data:m,error:v}=await et.auth.signInWithOAuth({provider:"apple",options:{redirectTo:window.location.origin}});if(v)throw v;return m}catch(m){throw r.value=m instanceof Error?m.message:"Apple Sign-In failed",m}finally{s.value=!1}},u=async()=>{try{const{error:m}=await et.auth.signOut();m&&console.warn("Logout error:",m)}catch(m){console.warn("Logout failed:",m)}finally{t.value=null,e.value=null}},c=async()=>{try{const{data:{session:m},error:v}=await et.auth.getSession();if(v){console.error("Error getting session:",v);return}m&&(t.value=m.user,e.value=m)}catch(m){console.error("Failed to initialize auth:",m)}},h=()=>{et.auth.onAuthStateChange((m,v)=>{m==="SIGNED_IN"&&v?(t.value=v.user,e.value=v):m==="SIGNED_OUT"&&(t.value=null,e.value=null)})},p=async m=>{if(t.value)try{const{data:v,error:w}=await et.auth.updateUser({data:m});if(w)throw w;v.user&&(t.value=v.user)}catch(v){throw r.value=v instanceof Error?v.message:"Failed to update user",v}};return{user:t,session:e,isLoading:s,error:r,isAuthenticated:n,currentLanguage:i,signInWithEmail:o,signUpWithEmail:a,signInWithApple:l,logout:u,initializeFromStorage:c,setupAuthListener:h,updateUserMetadata:p,updateLanguage:async m=>{await p({language:m})}}}),Xa=ti("app",()=>{const t=Qa(),e=ee({}),s=ee(!navigator.onLine),r=ee([]),n=ee(null),i=le(()=>r.value.length>0),o=le(()=>!s.value),a=v=>{var w;return((w=e.value[v])==null?void 0:w.settings)||{}},l=async(v,w)=>{var S;const _=`${v}_settings`,C=(S=t.user)==null?void 0:S.id;if(!C){console.warn("No user ID available for settings update");return}e.value[v]={id:_,userId:C,appName:v,settings:w,createdAt:new Date,updatedAt:new Date};const b={id:crypto.randomUUID(),type:"UPDATE_APP_SETTINGS",payload:{appName:v,settings:w},timestamp:new Date,synced:!1};r.value.push(b),o.value&&await u()},u=async()=>{if(!o.value||r.value.length===0)return;const v=r.value.filter(w=>!w.synced);for(const w of v)try{await c(w),w.synced=!0}catch(_){console.error("Failed to sync action:",w,_);break}r.value=r.value.filter(w=>!w.synced),n.value=new Date},c=async v=>{var _;const w=(_=t.user)==null?void 0:_.id;if(!w)throw new Error("No user ID available for sync");switch(v.type){case"UPDATE_APP_SETTINGS":const{appName:C,settings:b}=v.payload,{error:S}=await et.from("user_settings").upsert({user_id:w,app_name:C,settings:b,updated_at:new Date().toISOString()},{onConflict:"user_id,app_name"});if(S)throw S;break;default:console.warn("Unknown sync action type:",v.type)}};return{appSettings:e,isOffline:s,syncQueue:r,lastSync:n,hasPendingSync:i,isOnline:o,getAppSettings:a,updateAppSettings:l,syncPendingActions:u,loadAppSettings:async v=>{var _;const w=(_=t.user)==null?void 0:_.id;if(!w){console.warn("No user ID available for loading settings");return}try{const{data:C,error:b}=await et.from("user_settings").select("*").eq("user_id",w).eq("app_name",v).single();if(b&&b.code!=="PGRST116")throw b;C&&(e.value[v]={id:C.id,userId:C.user_id,appName:C.app_name,settings:C.settings,createdAt:new Date(C.created_at),updatedAt:new Date(C.updated_at)})}catch(C){console.error("Failed to load app settings:",C)}},loadAllAppSettings:async()=>{var w;const v=(w=t.user)==null?void 0:w.id;if(!v){console.warn("No user ID available for loading all settings");return}try{const{data:_,error:C}=await et.from("user_settings").select("*").eq("user_id",v);if(C)throw C;if(_){const b={};_.forEach(S=>{b[S.app_name]={id:S.id,userId:S.user_id,appName:S.app_name,settings:S.settings,createdAt:new Date(S.created_at),updatedAt:new Date(S.updated_at)}}),e.value=b}}catch(_){console.error("Failed to load all app settings:",_)}},clearAppData:()=>{e.value={},r.value=[],n.value=null},initializeNetworkMonitoring:()=>{const v=()=>{s.value=!navigator.onLine,navigator.onLine&&r.value.length>0&&u()};return window.addEventListener("online",v),window.addEventListener("offline",v),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",v)}}}});var nf=Object.defineProperty,of=Object.defineProperties,af=Object.getOwnPropertyDescriptors,fo=Object.getOwnPropertySymbols,lf=Object.prototype.hasOwnProperty,cf=Object.prototype.propertyIsEnumerable,po=(t,e,s)=>e in t?nf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,At=(t,e)=>{for(var s in e||(e={}))lf.call(e,s)&&po(t,s,e[s]);if(fo)for(var s of fo(e))cf.call(e,s)&&po(t,s,e[s]);return t},Js=(t,e)=>of(t,af(e)),uf=t=>t===""?"":t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/([\d])([a-zA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),hf=t=>!isNaN(t)&&typeof t=="number",ai=t=>typeof t=="object"&&!Array.isArray(t),os=t=>typeof t=="object"&&Array.isArray(t)&&!ai(t),Kr=t=>{if(!Array.isArray(t)||t.length===0)return!1;for(let e=0;e<t.length;e++)if(typeof t[e]!="string")return!1;return!0},Le=t=>typeof t=="string",Za=t=>t==null,Bs=t=>Kr(t)?t:Le(t)?[t]:[],el=t=>{const e=t.map(s=>s&&typeof s=="string"&&s.includes(" ")?el(s.split(" ")):(s&&typeof s=="string"?s.trim():null)||"").flat().filter(s=>s!=="");return[...new Set(e)]},df=t=>t==null?!0:t!==void 0?!!t:!1,ff=t=>typeof t=="boolean",Wr={ARRAY:"array"},ut={STRING:"string",ARRAY:"array",OBJECT:"object",NONE:"none",FALSE:"false"},pf=t=>Le(t)?t:"",gf=t=>Le(t)||Kr(t)?t:"",kr=t=>{if(!ai(t)||os(t)||Le(t)||Za(t))return!1;const e=["b","block","e","element","m","modifier","s","show"];return![...new Set(Object.keys(t).find(r=>!e.includes(r)))].length},vf=t=>!!(os(t)&&Le(t[0])&&(Kr(t[1])||Le(t[1]))),_f=t=>!Le(t)&&t[2]!==void 0&&!t[2],mf=(t,e,s={})=>{const r=[];return as(t,pf(e[0]),gf(e[1]),Js(At({},s),{return:Wr.ARRAY})).forEach(i=>{r.push(i)}),r},go=(t,e,s={})=>{const r={block:t,element:"",modifier:""};if(e.includes(":")){const[n,i]=e.split(":");r.element=n,r.modifier=i}else r.element=e;return as(r.block,r.element,r.modifier,Js(At({},s),{return:Wr.ARRAY}))},yf=(t,e,s={})=>{if(e.show!==void 0&&!e.show||e.s!==void 0&&!e.s)return[];const r=(e==null?void 0:e.block)||e.b||t,n={element:e.element||e.e||"",modifier:e.modifier||e.m||""};return as(r,n.element,n.modifier,Js(At({},s),{return:Wr.ARRAY}))},bf=t=>Za(t)?ut.NONE:Le(t)?ut.STRING:(os(t)&&t.length<2||vf(t))&&!_f(t)?ut.ARRAY:kr(t)?ut.OBJECT:ut.FALSE,wf=(t,e={})=>(...r)=>{const n=Le(t)?[t]:t;let i=[];return n.forEach(o=>{(r.length==0||r[0]==null||r[0]=="")&&i.push(...as(o,"","",{return:Wr.ARRAY})),r.forEach((a,l)=>{switch(bf(a)){case ut.NONE:i.push(...go(o,"",e));break;case ut.STRING:i.push(...go(o,a,e));break;case ut.ARRAY:i.push(...mf(o,a,e));break;case ut.OBJECT:i.push(...yf(o,a,e));break}})}),li({classes:el(i),settings:e})},$s={ARRAY:"array",STRING:"string",AUTO:"auto"},tl=(t,e,s)=>{const r=(t==null?void 0:t.show)!==void 0?t==null?void 0:t.show:ff(s.show)?s.show:!0;let n={element:s.element,modifier:s.modifier,show:r};if((Le(t)||Kr(t))&&Le(e))n={element:t,modifier:e,show:r};else if(kr(t)){const i=t;n={element:i.element,modifier:i.modifier,show:r}}return n},sl=t=>{let e=At({modifier:"--",element:"__"},t.prefix);return Js(At({toKebabCase:!0,return:$s.AUTO,includeBaseClass:!1},t),{prefix:e})},li=t=>{const e=Array.from(new Set(t.classes.filter(s=>s!=="")));switch(t.settings.return){case $s.STRING:return e.join(" ");case $s.ARRAY:return e;default:case $s.AUTO:return e.length==1?e[0]:e}},hr=(t,e)=>(e.toKebabCase&&(t=uf(t)),t),Sf=t=>t.element==null||t.element==""||t.element.length==0?hr(t.block,t.settings):Bs(t.element).map(e=>{var s;return`${hr(t.block,t.settings)}${(s=t.settings.prefix)==null?void 0:s.element}${hr(e,t.settings)}`}).join(" "),dr=t=>{var e;return t.modifier==null||t.modifier==""?t.elementClass:`${t.elementClass}${(e=t.settings.prefix)==null?void 0:e.modifier}${hr(t.modifier,t.settings)}`},kf=t=>{const e=[];return t.modifier.forEach(s=>{e.push(dr({elementClass:t.elementClass,modifier:s,settings:t.settings}))}),e},Ef=t=>{const e=[];return Object.keys(t.modifier).forEach(s=>{const r=!!t.modifier[s];if(!s.includes("|"))e.push(dr({elementClass:t.elementClass,modifier:r?s:null,settings:t.settings}));else if(hf(t.modifier[s])){const n=t.modifier[s],o=s.split("|")[n]||"";e.push(dr({elementClass:t.elementClass,modifier:o,settings:t.settings}))}else{const n=s.split("|")[0],i=s.split("|")[1];e.push(dr({elementClass:t.elementClass,modifier:r?n:i,settings:t.settings}))}}),e},as=(t,e="",s="",r)=>{if(t=="")return[];const{modifier:n}=tl(e,s,{element:e,modifier:s}),i=sl(r),o=[];return Bs(e).forEach(a=>{const l=Sf({block:t,element:a,settings:i});switch(i.includeBaseClass&&o.push(l),!0){case Le(n):case os(n):o.push(...kf({elementClass:l,modifier:Bs(n),settings:i}));break;case ai(n):o.push(...Ef({elementClass:l,modifier:n,settings:i}));break;default:o.push(l)}}),li({classes:o,settings:i})},Tf=(t,e={})=>{const s=(n="",i="",o=e)=>{const a=sl(At(At({},e),o));if(Le(n)&&os(n)&&n!==null&&!df(n==null?void 0:n.show))return"";let l=[];const{element:u,modifier:c,show:h}=tl(n,i,{element:kr(n)?n.element:n,modifier:kr(n)?n.modifier:i});switch(!0){case Le(t):l=as(t,u,c,Js(At({},a),{return:$s.ARRAY}));break;case os(t):l=Bs(t).flatMap(p=>Bs(n).map(g=>as(p,g,i,a)).flat()).flat();break}return h?li({classes:l,settings:a}):""},r=s;return r.bemm=s,r.classes=wf(t,e),r};const Ys=t=>{const e=Tf(t);return{bem:(n,i)=>{if(!n&&!i)return e();if(n&&!i)return e(n);if(typeof i=="string")return e(n,i);if(Array.isArray(i)){const o=n?e(n):e(),a=i.map(l=>e(n,l));return[o,...a].join(" ")}return e(n)},bemClass:(n,i)=>{if(!i)return n?e(n):e();const o={};return Object.entries(i).forEach(([a,l])=>{o[a]=l}),e(n,o)},bemm:e}},Af=["aria-label","aria-hidden","innerHTML"],xf=Bt({__name:"TIcon",props:{name:{},size:{default:"medium"},color:{},ariaLabel:{},ariaHidden:{type:Boolean,default:!0}},setup(t){const e=async l=>`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
    <text x="12" y="16" text-anchor="middle" font-size="12" fill="currentColor">${l.charAt(0).toUpperCase()}</text>
  </svg>`,s=t,{bemClass:r}=Ys("icon"),n=ee("");Nt(()=>s.name,async l=>{try{const u=await e(l);n.value=u||""}catch(u){console.warn(`Failed to load icon: ${l}`,u),n.value=""}},{immediate:!0});const o=le(()=>{const l=typeof s.size=="string"&&["small","medium","large"].includes(s.size)?s.size:"custom";return r(void 0,{[l]:!0})}),a=le(()=>{const l={};return typeof s.size=="string"&&!["small","medium","large"].includes(s.size)&&(l.fontSize=s.size,l.width=s.size,l.height=s.size),s.color&&(l.color=s.color),l});return(l,u)=>(K(),ie("span",{class:U(o.value),style:Or(a.value),role:"img","aria-label":l.ariaLabel,"aria-hidden":l.ariaHidden,innerHTML:n.value},null,14,Af))}}),ds=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},ht=ds(xf,[["__scopeId","data-v-3714a172"]]),Of={key:1,class:"button__label"},Pf={key:3,class:"button__spinner","aria-hidden":"true"},Cf=Bt({__name:"TButton",props:{action:{},onLongPress:{},longPressTime:{default:500},type:{default:"default"},size:{default:"medium"},color:{default:"primary"},status:{default:"idle"},label:{},icon:{},iconPosition:{default:"left"},disabled:{type:Boolean},loading:{type:Boolean},vibrate:{type:Boolean,default:!0},htmlType:{default:"button"},to:{},ariaLabel:{},ariaDescribedBy:{}},emits:["click","longPress"],setup(t,{emit:e}){const s=t,r=e,{bemClass:n}=Ys("button"),i=cs({isPressed:!1,timer:null,startTime:0}),o=le(()=>s.to?"router-link":"button"),a=pc(),l=le(()=>!!(s.label||a.default)),u=le(()=>s.icon&&s.iconPosition==="left"),c=le(()=>s.icon&&s.iconPosition==="right"),h=le(()=>s.status==="success"?"check":s.status==="error"?"x":s.icon||""),p=le(()=>s.status==="success"?"check":s.status==="error"?"x":s.icon||""),g=le(()=>({small:"small",medium:"medium",large:"large"})[s.size]),m=le(()=>n(void 0,{[s.type]:!0,[s.size]:!0,[s.color]:!0,[s.status]:!0,disabled:s.disabled,loading:s.loading,"has-icon":!!s.icon,"icon-only":!!s.icon&&!l.value,"is-pressed":i.isPressed})),v=b=>{var S;s.disabled||s.loading||(r("click",b),(S=s.action)==null||S.call(s))},w=b=>{s.disabled||s.loading||!s.onLongPress||(i.isPressed=!0,i.startTime=Date.now(),i.timer=window.setTimeout(()=>{var S;i.isPressed&&(s.vibrate&&"vibrate"in navigator&&navigator.vibrate(50),r("longPress"),(S=s.onLongPress)==null||S.call(s))},s.longPressTime))},_=()=>{i.isPressed=!1,i.timer&&(clearTimeout(i.timer),i.timer=null)},C=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),v(b))};return $r(()=>{i.timer&&clearTimeout(i.timer)}),(b,S)=>(K(),We(hc(o.value),{class:U(m.value),disabled:b.disabled||b.loading,type:o.value==="button"?b.htmlType:void 0,to:o.value==="router-link"?b.to:void 0,"aria-label":b.ariaLabel||b.label,"aria-describedby":b.ariaDescribedBy,"aria-pressed":b.status==="success"?"true":void 0,onClick:v,onPointerdown:w,onPointerup:_,onPointerleave:_,onKeydown:C},{default:Gn(()=>[u.value?(K(),We(ht,{key:0,name:h.value,size:g.value,class:"button__icon button__icon--left","aria-hidden":"true"},null,8,["name","size"])):_e("",!0),l.value?(K(),ie("span",Of,[Qo(b.$slots,"default",{},()=>[Zn(Te(b.label),1)],!0)])):_e("",!0),c.value?(K(),We(ht,{key:2,name:p.value,size:g.value,class:"button__icon button__icon--right","aria-hidden":"true"},null,8,["name","size"])):_e("",!0),b.loading?(K(),ie("div",Pf,[te(ht,{name:"loader",size:g.value},null,8,["size"])])):_e("",!0)]),_:3},40,["class","disabled","type","to","aria-label","aria-describedby","aria-pressed"]))}}),Me=ds(Cf,[["__scopeId","data-v-558962aa"]]),If=["for"],jf=["id","type","value","placeholder","disabled","readonly","min","max","step","aria-label","aria-describedby","aria-invalid"],$f=["disabled"],Rf=["disabled"],Lf=["id"],Uf=Bt({__name:"TInput",props:{modelValue:{},type:{default:"text"},label:{},placeholder:{},description:{},error:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},size:{default:"medium"},prefixIcon:{},suffixIcon:{},showSpinners:{type:Boolean,default:!0},min:{},max:{},step:{},ariaLabel:{}},emits:["update:modelValue","focus","blur","enter"],setup(t,{emit:e}){const s=t,r=e,{bemClass:n,bem:i}=Ys("input"),o=le(()=>`input-${Math.random().toString(36).substr(2,9)}`),a=le(()=>`${o.value}-description`),l=ee(!1),u=le(()=>!!s.error),c=le(()=>n(void 0,{[s.size]:!0,focused:l.value,disabled:s.disabled,readonly:s.readonly,error:u.value,"has-prefix":!!s.prefixIcon,"has-suffix":!!s.suffixIcon,"has-spinners":s.type==="number"&&s.showSpinners})),h=_=>{const C=_.target;let b=C.value;s.type==="number"&&(b=C.value===""?"":Number(C.value)),r("update:modelValue",b)},p=_=>{l.value=!0,r("focus",_)},g=_=>{l.value=!1,r("blur",_)},m=_=>{_.key==="Enter"&&r("enter",_)},v=()=>{if(s.disabled||s.readonly)return;const _=Number(s.modelValue)||0,C=s.step||1,b=_+C;(s.max===void 0||b<=s.max)&&r("update:modelValue",b)},w=()=>{if(s.disabled||s.readonly)return;const _=Number(s.modelValue)||0,C=s.step||1,b=_-C;(s.min===void 0||b>=s.min)&&r("update:modelValue",b)};return(_,C)=>(K(),ie("div",{class:U(c.value)},[_.label?(K(),ie("label",{key:0,for:o.value,class:U(O(n)("label"))},[Zn(Te(_.label)+" ",1),_.required?(K(),ie("span",{key:0,class:U(O(n)("required"))},"*",2)):_e("",!0)],10,If)):_e("",!0),L("div",{class:U(O(n)("wrapper"))},[_.prefixIcon?(K(),We(ht,{key:0,name:_.prefixIcon,class:U(`${O(i)("icon")} ${O(i)("icon","prefix")}`)},null,8,["name","class"])):_e("",!0),L("input",{id:o.value,class:U(O(i)("field")),type:_.type,value:_.modelValue,placeholder:_.placeholder,disabled:_.disabled,readonly:_.readonly,min:_.min,max:_.max,step:_.step,"aria-label":_.ariaLabel||_.label,"aria-describedby":a.value,"aria-invalid":u.value,onInput:h,onFocus:p,onBlur:g,onKeydown:m},null,42,jf),_.suffixIcon?(K(),We(ht,{key:1,name:_.suffixIcon,class:U(`${O(i)("icon")} ${O(i)("icon","suffix")}`)},null,8,["name","class"])):_e("",!0),_.type==="number"&&_.showSpinners?(K(),ie("div",{key:2,class:U(O(i)("spinners"))},[L("button",{type:"button",class:U(`${O(i)("spinner")} ${O(i)("spinner","up")}`),onClick:v,disabled:_.disabled||_.max!==void 0&&Number(_.modelValue)>=_.max,"aria-label":"Increase value"},[te(ht,{name:"chevron-up",size:"small"})],10,$f),L("button",{type:"button",class:U(`${O(i)("spinner")} ${O(i)("spinner","down")}`),onClick:w,disabled:_.disabled||_.min!==void 0&&Number(_.modelValue)<=_.min,"aria-label":"Decrease value"},[te(ht,{name:"chevron-down",size:"small"})],10,Rf)],2)):_e("",!0)],2),_.description||u.value?(K(),ie("div",{key:1,id:a.value,class:U(O(n)("description"))},[u.value?(K(),ie("span",{key:0,class:U(O(n)("error"))},Te(_.error),3)):_.description?(K(),ie("span",{key:1,class:U(O(n)("help"))},Te(_.description),3)):_e("",!0)],10,Lf)):_e("",!0)],2))}}),dn=ds(Uf,[["__scopeId","data-v-ad474a52"]]),Df=Bt({__name:"TLoginForm",props:{isLoading:{type:Boolean,default:!1},error:{default:null}},emits:["appleSignIn","emailSignIn","emailSignUp","clearError"],setup(t,{expose:e,emit:s}){const r=s,{bemClass:n}=Ys("login-form"),i=ee(""),o=ee(""),a=ee(""),l=ee(!1),u=ee(!0),c=ee(""),h=ee(""),p=ee(""),g=le(()=>l.value?(u.value,!!i.value&&!!o.value):!!i.value),m=le(()=>l.value?u.value?"Signing in...":"Creating account...":"Checking account..."),v=()=>{r("appleSignIn")},w=()=>{i.value&&(c.value="",l.value=!0)},_=()=>{g.value&&(c.value="",h.value="",u.value?r("emailSignIn",i.value,o.value):r("emailSignUp",i.value,o.value,a.value||void 0))},C=()=>{u.value=!u.value,h.value="",p.value=""},b=()=>{r("clearError")};return e({resetForm:()=>{i.value="",o.value="",a.value="",l.value=!1,u.value=!0,c.value="",h.value="",p.value=""}}),($,V)=>(K(),ie("div",{class:U(O(n)())},[L("div",{class:U(O(n)("header"))},[L("h1",{class:U(O(n)("title"))},"Welcome to Tiko",2),L("p",{class:U(O(n)("subtitle"))},"Sign in to access your communication apps",2)],2),L("div",{class:U(O(n)("methods"))},[te(Me,{label:"Continue with Apple",icon:"apple",type:"fancy",color:"primary",size:"large",action:v,disabled:$.isLoading,class:U(O(n)("apple-button"))},null,8,["disabled","class"]),L("div",{class:U(O(n)("divider"))},[L("span",{class:U(O(n)("divider-text"))},"or",2)],2),L("form",{class:U(O(n)("form")),onSubmit:Pu(_,["prevent"])},[te(dn,{modelValue:i.value,"onUpdate:modelValue":V[0]||(V[0]=q=>i.value=q),type:"email",label:"Email",placeholder:"Enter your email",error:c.value,disabled:$.isLoading,required:"",class:U(O(n)("email-input"))},null,8,["modelValue","error","disabled","class"]),l.value?(K(),We(dn,{key:0,modelValue:o.value,"onUpdate:modelValue":V[1]||(V[1]=q=>o.value=q),type:"password",label:"Password",placeholder:"Enter your password",error:h.value,disabled:$.isLoading,required:u.value,class:U(O(n)("password-input"))},null,8,["modelValue","error","disabled","required","class"])):_e("",!0),l.value?(K(),ie("div",{key:1,class:U(O(n)("form-actions"))},[te(Me,{label:u.value?"Sign In":"Create Account",type:"fancy",color:"success",size:"large",action:_,disabled:!g.value||$.isLoading,class:U(O(n)("submit-button"))},null,8,["label","disabled","class"]),te(Me,{label:u.value?"Need an account?":"Already have an account?",type:"ghost",color:"secondary",size:"medium",action:C,disabled:$.isLoading,class:U(O(n)("toggle-button"))},null,8,["label","disabled","class"])],2)):(K(),ie("div",{key:2,class:U(O(n)("form-actions"))},[te(dn,{modelValue:a.value,"onUpdate:modelValue":V[2]||(V[2]=q=>a.value=q),type:"text",label:"Full Name (Optional)",placeholder:"Enter your full name",disabled:$.isLoading,class:U(O(n)("name-input"))},null,8,["modelValue","disabled","class"]),te(Me,{label:"Continue with Email",type:"fancy",color:"success",size:"large",action:w,disabled:!i.value||$.isLoading,class:U(O(n)("continue-button"))},null,8,["disabled","class"])],2))],34)],2),$.isLoading?(K(),ie("div",{key:0,class:U(O(n)("loading"))},[L("div",{class:U(O(n)("loading-spinner"))},null,2),L("p",{class:U(O(n)("loading-text"))},Te(m.value),3)],2)):_e("",!0),$.error?(K(),ie("div",{key:1,class:U(O(n)("error"))},[te(ht,{name:"alert-circle",class:U(O(n)("error-icon"))},null,8,["class"]),L("p",{class:U(O(n)("error-message"))},Te($.error),3),te(Me,{label:"Try Again",type:"ghost",color:"error",size:"small",action:b,class:U(O(n)("error-button"))},null,8,["class"])],2)):_e("",!0),p.value?(K(),ie("div",{key:2,class:U(O(n)("success"))},[te(ht,{name:"check-circle",class:U(O(n)("success-icon"))},null,8,["class"]),L("p",{class:U(O(n)("success-message"))},Te(p.value),3)],2)):_e("",!0)],2))}}),Mf=ds(Df,[["__scopeId","data-v-c9b46457"]]),Nf=Bt({__name:"TAuthWrapper",setup(t){const{bemClass:e}=Ys("auth-wrapper"),s=Qa(),r=ee(!0),n=ee(!1),i=ee(null),o=le(()=>s.isAuthenticated),a=async()=>{n.value=!0,i.value=null;try{await s.signInWithApple()}catch(h){i.value=h instanceof Error?h.message:"Apple Sign-In failed"}finally{n.value=!1}},l=async(h,p)=>{n.value=!0,i.value=null;try{await s.signInWithEmail(h,p)}catch(g){i.value=g instanceof Error?g.message:"Sign-in failed"}finally{n.value=!1}},u=async(h,p,g)=>{n.value=!0,i.value=null;try{await s.signUpWithEmail(h,p,g),i.value=null,i.value="Check your email to confirm your account"}catch(m){i.value=m instanceof Error?m.message:"Sign-up failed"}finally{n.value=!1}},c=()=>{i.value=null};return jr(async()=>{try{s.setupAuthListener(),await s.initializeFromStorage()}catch(h){console.error("Failed to initialize auth:",h)}finally{r.value=!1}}),(h,p)=>(K(),ie("div",{class:U(O(e)())},[r.value?(K(),ie("div",{key:0,class:U(O(e)("loading"))},[L("div",{class:U(O(e)("loading-content"))},[L("div",{class:U(O(e)("loading-spinner"))},null,2),L("h2",{class:U(O(e)("loading-title"))},"Loading Tiko...",2),L("p",{class:U(O(e)("loading-subtitle"))},"Preparing your communication apps",2)],2)],2)):o.value?(K(),ie("div",{key:2,class:U(O(e)("app"))},[Qo(h.$slots,"default",{},void 0)],2)):(K(),ie("div",{key:1,class:U(O(e)("login"))},[L("div",{class:U(O(e)("login-background"))},[L("div",{class:U(O(e)("login-content"))},[te(Mf,{"is-loading":n.value,error:i.value,onAppleSignIn:a,onEmailSignIn:l,onEmailSignUp:u,onClearError:c},null,8,["is-loading","error"])],2)],2)],2))],2))}}),Ff=ds(Nf,[["__scopeId","data-v-43b7bd7b"]]),Bf=ti("type",()=>{const t=Xa(),e=ee(""),s=ee(!1),r=ee(!1),n=ee([]),i=ee([]),o=ee(null),a={voice:null,rate:1,pitch:1,volume:1,autoSave:!0,historyLimit:50};let l=null;const u=le(()=>{const R=t.getAppSettings("type");return{...a,...R}}),c=le(()=>e.value.trim().length>0&&!s.value),h=le(()=>n.value.length>0),p=le(()=>i.value.slice().sort((R,pe)=>pe.timestamp-R.timestamp).slice(0,u.value.historyLimit)),g=()=>{r.value=!0;const R=()=>{const pe=speechSynthesis.getVoices();if(n.value=pe,!o.value&&pe.length>0){const ye=pe.find(ne=>ne.lang.startsWith("en"));o.value=ye||pe[0]}r.value=!1};speechSynthesis.getVoices().length>0?R():(speechSynthesis.addEventListener("voiceschanged",R,{once:!0}),setTimeout(R,1e3))},m=R=>{if(s.value){v();return}const pe=R||e.value.trim();if(pe)try{l=new SpeechSynthesisUtterance(pe);const ye=u.value;o.value&&(l.voice=o.value),l.rate=ye.rate,l.pitch=ye.pitch,l.volume=ye.volume,l.onstart=()=>{s.value=!0},l.onend=()=>{s.value=!1,l=null},l.onerror=ne=>{console.error("Speech synthesis error:",ne.error),s.value=!1,l=null},speechSynthesis.speak(l),ye.autoSave&&pe!==e.value&&$(pe)}catch(ye){console.error("Error speaking text:",ye),s.value=!1}},v=()=>{speechSynthesis.speaking&&speechSynthesis.cancel(),s.value=!1,l=null},w=()=>{speechSynthesis.speaking&&!speechSynthesis.paused&&speechSynthesis.pause()},_=()=>{speechSynthesis.paused&&speechSynthesis.resume()},C=R=>{e.value=R},b=()=>{e.value=""},S=R=>{o.value=R,R&&G({voice:R.name})},$=R=>{var ne;const pe={id:crypto.randomUUID(),text:R,timestamp:Date.now(),voice:(ne=o.value)==null?void 0:ne.name};i.value.unshift(pe);const ye=u.value.historyLimit;i.value.length>ye&&(i.value=i.value.slice(0,ye)),oe()},V=R=>{i.value=i.value.filter(pe=>pe.id!==R),oe()},q=()=>{i.value=[],oe()},W=R=>{e.value=R.text,m()},G=async R=>{const ye={...u.value,...R};await t.updateAppSettings("type",ye)},oe=async()=>{await t.updateAppSettings("type",{...u.value,history:i.value})};return{currentText:e,isSpeaking:s,isLoading:r,availableVoices:n,history:i,selectedVoice:o,settings:u,canSpeak:c,hasVoices:h,recentHistory:p,loadVoices:g,speak:m,stop:v,pause:w,resume:_,setText:C,clearText:b,setVoice:S,addToHistory:$,removeFromHistory:V,clearHistory:q,speakFromHistory:W,updateSettings:G,loadState:async()=>{await t.loadAppSettings("type");const R=t.getAppSettings("type");R.history&&Array.isArray(R.history)&&(i.value=R.history),g()},cleanup:()=>{v()}}}),Vf={class:"type-view"},Hf={class:"type-header"},qf={class:"type-main"},Kf={class:"type-input-section"},Wf={class:"type-input-container"},zf=["disabled"],Gf={class:"type-input-actions"},Jf={class:"type-character-count"},Yf={class:"type-controls"},Qf={class:"type-secondary-controls"},Xf={class:"type-voice-section"},Zf=["disabled"],ep={value:"-1",disabled:""},tp=["value"],sp={key:0,class:"type-history"},rp={class:"type-history__list"},np={class:"type-history__text"},ip={class:"type-history__actions"},op={class:"type-history__footer"},ap={key:1,class:"type-settings"},lp={class:"type-settings__panel"},cp={class:"type-settings__group"},up={class:"type-settings__label"},hp={class:"type-settings__group"},dp={class:"type-settings__label"},fp={class:"type-settings__group"},pp={class:"type-settings__label"},gp={class:"type-settings__group"},vp={class:"type-settings__checkbox"},_p={class:"type-settings__actions"},mp=Bt({__name:"TypeView",setup(t){const e=Bf(),s=ee(!1),r=ee(!0),n=ee(-1),i=cs({voice:null,rate:1,pitch:1,volume:1,autoSave:!0,historyLimit:50}),{currentText:o,isSpeaking:a,isLoading:l,availableVoices:u,selectedVoice:c,settings:h,canSpeak:p,hasVoices:g,recentHistory:m}=Bo(e);Nt(h,z=>{Object.assign(i,z)},{immediate:!0}),Nt(c,z=>{if(z){const Y=u.value.findIndex(R=>R.name===z.name);n.value=Y}},{immediate:!0});const v=()=>{a.value?e.stop():e.speak()},w=()=>{e.pause()},_=()=>{e.clearText()},C=()=>{if(n.value>=0){const z=u.value[n.value];e.setVoice(z)}},b=()=>{s.value=!s.value},S=()=>{s.value=!1},$=async()=>{await e.updateSettings(i)},V=z=>{e.speakFromHistory(z)},q=z=>{e.setText(z.text)},W=()=>{console.log("Show full history - not implemented yet")},G=z=>{if(z.ctrlKey||z.metaKey)switch(z.key){case"Enter":z.preventDefault(),p.value&&v();break;case"Escape":z.preventDefault(),a.value&&e.stop();break}},oe=z=>{if(!(z.target&&z.target.tagName==="TEXTAREA"))switch(z.key){case" ":!z.ctrlKey&&!z.metaKey&&(z.preventDefault(),(p.value||a.value)&&v());break;case"Escape":s.value?S():a.value&&e.stop();break}};return jr(async()=>{await e.loadState(),document.addEventListener("keydown",oe)}),$r(()=>{e.cleanup(),document.removeEventListener("keydown",oe)}),(z,Y)=>(K(),ie("div",Vf,[L("header",Hf,[Y[6]||(Y[6]=L("h1",{class:"type-header__title"},"Type & Speak",-1)),te(O(Me),{icon:"settings",type:"ghost",size:"medium",color:"secondary",action:b,"aria-label":"Settings"})]),L("main",qf,[L("div",Kf,[L("div",Wf,[qt(L("textarea",{"onUpdate:modelValue":Y[0]||(Y[0]=R=>ge(o)?o.value=R:null),class:"type-textarea",placeholder:"Type what you want to hear...","aria-label":"Text to speak",disabled:O(a),onKeydown:G},null,40,zf),[[sr,O(o)]]),L("div",Gf,[O(o).trim()?(K(),We(O(Me),{key:0,icon:"x",type:"ghost",size:"small",color:"secondary",action:_,"aria-label":"Clear text"})):_e("",!0),L("span",Jf,Te(O(o).length)+" characters ",1)])])]),L("div",Yf,[te(O(Me),{label:O(a)?"Stop":"Speak",icon:O(a)?"square":"volume-2",type:"fancy",color:O(a)?"error":"primary",action:v,size:"large",disabled:!O(p)&&!O(a),class:"type-speak-button"},null,8,["label","icon","color","disabled"]),L("div",Qf,[O(a)?(K(),We(O(Me),{key:0,label:"Pause",icon:"pause",type:"default",color:"warning",action:w,size:"medium"})):_e("",!0)])]),L("div",Xf,[Y[7]||(Y[7]=L("h3",{class:"type-section-title"},"Voice",-1)),qt(L("select",{"onUpdate:modelValue":Y[1]||(Y[1]=R=>n.value=R),class:"type-voice-select",disabled:O(a)||O(l),onChange:C},[L("option",ep,Te(O(l)?"Loading voices...":"Select a voice"),1),(K(!0),ie($e,null,yi(O(u),(R,pe)=>(K(),ie("option",{key:R.name,value:pe},Te(R.name)+" ("+Te(R.lang)+") ",9,tp))),128))],40,Zf),[[Au,n.value]])])]),r.value&&O(m).length>0?(K(),ie("div",sp,[Y[8]||(Y[8]=L("h3",{class:"type-history__title"},"Recent",-1)),L("div",rp,[(K(!0),ie($e,null,yi(O(m).slice(0,5),R=>(K(),ie("div",{key:R.id,class:"type-history__item"},[L("div",np,Te(R.text.length>50?R.text.substring(0,50)+"...":R.text),1),L("div",ip,[te(O(Me),{icon:"volume-2",type:"ghost",size:"small",color:"primary",action:()=>V(R),"aria-label":"Speak this text"},null,8,["action"]),te(O(Me),{icon:"copy",type:"ghost",size:"small",color:"secondary",action:()=>q(R),"aria-label":"Copy to input"},null,8,["action"])])]))),128))]),L("div",op,[te(O(Me),{label:"Show All History",type:"ghost",size:"small",color:"secondary",action:W})])])):_e("",!0),s.value?(K(),ie("div",ap,[L("div",{class:"type-settings__backdrop",onClick:S}),L("div",lp,[Y[10]||(Y[10]=L("h3",{class:"type-settings__title"},"Voice Settings",-1)),L("div",cp,[L("label",up," Speech Rate: "+Te(i.rate.toFixed(1))+"x ",1),qt(L("input",{"onUpdate:modelValue":Y[2]||(Y[2]=R=>i.rate=R),type:"range",min:"0.1",max:"3",step:"0.1",class:"type-settings__slider",onInput:$},null,544),[[sr,i.rate,void 0,{number:!0}]])]),L("div",hp,[L("label",dp," Pitch: "+Te(i.pitch.toFixed(1)),1),qt(L("input",{"onUpdate:modelValue":Y[3]||(Y[3]=R=>i.pitch=R),type:"range",min:"0",max:"2",step:"0.1",class:"type-settings__slider",onInput:$},null,544),[[sr,i.pitch,void 0,{number:!0}]])]),L("div",fp,[L("label",pp," Volume: "+Te(Math.round(i.volume*100))+"% ",1),qt(L("input",{"onUpdate:modelValue":Y[4]||(Y[4]=R=>i.volume=R),type:"range",min:"0",max:"1",step:"0.1",class:"type-settings__slider",onInput:$},null,544),[[sr,i.volume,void 0,{number:!0}]])]),L("div",gp,[L("label",vp,[qt(L("input",{"onUpdate:modelValue":Y[5]||(Y[5]=R=>i.autoSave=R),type:"checkbox",onChange:$},null,544),[[Tu,i.autoSave]]),Y[9]||(Y[9]=L("span",null,"Save to history automatically",-1))])]),L("div",_p,[te(O(Me),{label:"Close",type:"default",color:"primary",action:S,size:"medium"})])])])):_e("",!0)]))}}),yp=ds(mp,[["__scopeId","data-v-9d6231dd"]]),bp={id:"app"},wp=Bt({__name:"App",setup(t){const e=Xa();return jr(()=>{e.initializeNetworkMonitoring()}),(s,r)=>(K(),ie("div",bp,[te(O(Ff),null,{default:Gn(()=>[te(yp)]),_:1})]))}}),rl=ju(wp);rl.use(Lu());rl.mount("#app");

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function On(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const re={},Gt=[],et=()=>{},tl=()=>!1,yr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xn=t=>t.startsWith("onUpdate:"),Se=Object.assign,Pn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},sl=Object.prototype.hasOwnProperty,ee=(t,e)=>sl.call(t,e),F=Array.isArray,Jt=t=>Ns(t)==="[object Map]",br=t=>Ns(t)==="[object Set]",ii=t=>Ns(t)==="[object Date]",q=t=>typeof t=="function",fe=t=>typeof t=="string",qe=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",ao=t=>(ce(t)||q(t))&&q(t.then)&&q(t.catch),lo=Object.prototype.toString,Ns=t=>lo.call(t),rl=t=>Ns(t).slice(8,-1),co=t=>Ns(t)==="[object Object]",Cn=t=>fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ms=On(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},nl=/-(\w)/g,Ue=wr(t=>t.replace(nl,(e,s)=>s?s.toUpperCase():"")),il=/\B([A-Z])/g,Mt=wr(t=>t.replace(il,"-$1").toLowerCase()),Sr=wr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Vr=wr(t=>t?`on${Sr(t)}`:""),wt=(t,e)=>!Object.is(t,e),nr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},an=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},ol=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let oi;const Tr=()=>oi||(oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bs(t){if(F(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=fe(r)?ul(r):Bs(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(fe(t)||ce(t))return t}const al=/;(?![^(]*\))/g,ll=/:([^]+)/,cl=/\/\*[^]*?\*\//g;function ul(t){const e={};return t.replace(cl,"").split(al).forEach(s=>{if(s){const r=s.split(ll);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function L(t){let e="";if(fe(t))e=t;else if(F(t))for(let s=0;s<t.length;s++){const r=L(t[s]);r&&(e+=r+" ")}else if(ce(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const dl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hl=On(dl);function uo(t){return!!t||t===""}function fl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Er(t[r],e[r]);return s}function Er(t,e){if(t===e)return!0;let s=ii(t),r=ii(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=qe(t),r=qe(e),s||r)return t===e;if(s=F(t),r=F(e),s||r)return s&&r?fl(t,e):!1;if(s=ce(t),r=ce(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Er(t[o],e[o]))return!1}}return String(t)===String(e)}function ho(t,e){return t.findIndex(s=>Er(s,e))}const fo=t=>!!(t&&t.__v_isRef===!0),Be=t=>fe(t)?t:t==null?"":F(t)||ce(t)&&(t.toString===lo||!q(t.toString))?fo(t)?Be(t.value):JSON.stringify(t,po,2):String(t),po=(t,e)=>fo(e)?po(t,e.value):Jt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[qr(r,i)+" =>"]=n,s),{})}:br(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>qr(s))}:qe(e)?qr(e):ce(e)&&!F(e)&&!co(e)?String(e):e,qr=(t,e="")=>{var s;return qe(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let be;class go{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=be,!e&&be&&(this.index=(be.scopes||(be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=be;try{return be=this,e()}finally{be=s}}}on(){++this._on===1&&(this.prevScope=be,be=this)}off(){this._on>0&&--this._on===0&&(be=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function mo(t){return new go(t)}function vo(){return be}function pl(t,e=!1){be&&be.cleanups.push(t)}let le;const Hr=new WeakSet;class _o{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,be&&be.active&&be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Hr.has(this)&&(Hr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ai(this),wo(this);const e=le,s=Fe;le=this,Fe=!0;try{return this.fn()}finally{So(this),le=e,Fe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)jn(e);this.deps=this.depsTail=void 0,ai(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Hr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ln(this)&&this.run()}get dirty(){return ln(this)}}let yo=0,vs,_s;function bo(t,e=!1){if(t.flags|=8,e){t.next=_s,_s=t;return}t.next=vs,vs=t}function In(){yo++}function $n(){if(--yo>0)return;if(_s){let e=_s;for(_s=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;vs;){let e=vs;for(vs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function wo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function So(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),jn(r),gl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function ln(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(To(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function To(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Cs)||(t.globalVersion=Cs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ln(t))))return;t.flags|=2;const e=t.dep,s=le,r=Fe;le=t,Fe=!0;try{wo(t);const n=t.fn(t._value);(e.version===0||wt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{le=s,Fe=r,So(t),t.flags&=-3}}function jn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)jn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function gl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Fe=!0;const Eo=[];function ct(){Eo.push(Fe),Fe=!1}function ut(){const t=Eo.pop();Fe=t===void 0?!0:t}function ai(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=le;le=void 0;try{e()}finally{le=s}}}let Cs=0;class ml{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Rn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!le||!Fe||le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==le)s=this.activeLink=new ml(le,this),le.deps?(s.prevDep=le.depsTail,le.depsTail.nextDep=s,le.depsTail=s):le.deps=le.depsTail=s,ko(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=le.depsTail,s.nextDep=void 0,le.depsTail.nextDep=s,le.depsTail=s,le.deps===s&&(le.deps=r)}return s}trigger(e){this.version++,Cs++,this.notify(e)}notify(e){In();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{$n()}}}function ko(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ko(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const cr=new WeakMap,Lt=Symbol(""),cn=Symbol(""),Is=Symbol("");function we(t,e,s){if(Fe&&le){let r=cr.get(t);r||cr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Rn),n.map=r,n.key=s),n.track()}}function ot(t,e,s,r,n,i){const o=cr.get(t);if(!o){Cs++;return}const a=l=>{l&&l.trigger()};if(In(),e==="clear")o.forEach(a);else{const l=F(t),u=l&&Cn(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,p)=>{(p==="length"||p===Is||!qe(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Is)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Lt)),Jt(t)&&a(o.get(cn)));break;case"delete":l||(a(o.get(Lt)),Jt(t)&&a(o.get(cn)));break;case"set":Jt(t)&&a(o.get(Lt));break}}$n()}function vl(t,e){const s=cr.get(t);return s&&s.get(e)}function Bt(t){const e=X(t);return e===t?e:(we(e,"iterate",Is),Le(t)?e:e.map(_e))}function kr(t){return we(t=X(t),"iterate",Is),t}const _l={__proto__:null,[Symbol.iterator](){return Wr(this,Symbol.iterator,_e)},concat(...t){return Bt(this).concat(...t.map(e=>F(e)?Bt(e):e))},entries(){return Wr(this,"entries",t=>(t[1]=_e(t[1]),t))},every(t,e){return st(this,"every",t,e,void 0,arguments)},filter(t,e){return st(this,"filter",t,e,s=>s.map(_e),arguments)},find(t,e){return st(this,"find",t,e,_e,arguments)},findIndex(t,e){return st(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return st(this,"findLast",t,e,_e,arguments)},findLastIndex(t,e){return st(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return st(this,"forEach",t,e,void 0,arguments)},includes(...t){return zr(this,"includes",t)},indexOf(...t){return zr(this,"indexOf",t)},join(t){return Bt(this).join(t)},lastIndexOf(...t){return zr(this,"lastIndexOf",t)},map(t,e){return st(this,"map",t,e,void 0,arguments)},pop(){return ds(this,"pop")},push(...t){return ds(this,"push",t)},reduce(t,...e){return li(this,"reduce",t,e)},reduceRight(t,...e){return li(this,"reduceRight",t,e)},shift(){return ds(this,"shift")},some(t,e){return st(this,"some",t,e,void 0,arguments)},splice(...t){return ds(this,"splice",t)},toReversed(){return Bt(this).toReversed()},toSorted(t){return Bt(this).toSorted(t)},toSpliced(...t){return Bt(this).toSpliced(...t)},unshift(...t){return ds(this,"unshift",t)},values(){return Wr(this,"values",_e)}};function Wr(t,e,s){const r=kr(t),n=r[e]();return r!==t&&!Le(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const yl=Array.prototype;function st(t,e,s,r,n,i){const o=kr(t),a=o!==t&&!Le(t),l=o[e];if(l!==yl[e]){const d=l.apply(t,i);return a?_e(d):d}let u=s;o!==t&&(a?u=function(d,p){return s.call(this,_e(d),p,t)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function li(t,e,s,r){const n=kr(t);let i=s;return n!==t&&(Le(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,_e(a),l,t)}),n[e](i,...r)}function zr(t,e,s){const r=X(t);we(r,"iterate",Is);const n=r[e](...s);return(n===-1||n===!1)&&Dn(s[0])?(s[0]=X(s[0]),r[e](...s)):n}function ds(t,e,s=[]){ct(),In();const r=X(t)[e].apply(t,s);return $n(),ut(),r}const bl=On("__proto__,__v_isRef,__isVue"),Ao=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qe));function wl(t){qe(t)||(t=String(t));const e=X(this);return we(e,"has",t),e.hasOwnProperty(t)}class Oo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Il:Io:i?Co:Po).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=F(e);if(!n){let l;if(o&&(l=_l[s]))return l;if(s==="hasOwnProperty")return wl}const a=Reflect.get(e,s,he(e)?e:r);return(qe(s)?Ao.has(s):bl(s))||(n||we(e,"get",s),i)?a:he(a)?o&&Cn(s)?a:a.value:ce(a)?n?$o(a):rs(a):a}}class xo extends Oo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Et(i);if(!Le(r)&&!Et(r)&&(i=X(i),r=X(r)),!F(e)&&he(i)&&!he(r))return l?!1:(i.value=r,!0)}const o=F(e)&&Cn(s)?Number(s)<e.length:ee(e,s),a=Reflect.set(e,s,r,he(e)?e:n);return e===X(n)&&(o?wt(r,i)&&ot(e,"set",s,r):ot(e,"add",s,r)),a}deleteProperty(e,s){const r=ee(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&ot(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!qe(s)||!Ao.has(s))&&we(e,"has",s),r}ownKeys(e){return we(e,"iterate",F(e)?"length":Lt),Reflect.ownKeys(e)}}class Sl extends Oo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Tl=new xo,El=new Sl,kl=new xo(!0);const un=t=>t,Ys=t=>Reflect.getPrototypeOf(t);function Al(t,e,s){return function(...r){const n=this.__v_raw,i=X(n),o=Jt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?un:e?ur:_e;return!e&&we(i,"iterate",l?cn:Lt),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Qs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ol(t,e){const s={get(n){const i=this.__v_raw,o=X(i),a=X(n);t||(wt(n,a)&&we(o,"get",n),we(o,"get",a));const{has:l}=Ys(o),u=e?un:t?ur:_e;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&we(X(n),"iterate",Lt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=X(i),a=X(n);return t||(wt(n,a)&&we(o,"has",n),we(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=X(a),u=e?un:t?ur:_e;return!t&&we(l,"iterate",Lt),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return Se(s,t?{add:Qs("add"),set:Qs("set"),delete:Qs("delete"),clear:Qs("clear")}:{add(n){!e&&!Le(n)&&!Et(n)&&(n=X(n));const i=X(this);return Ys(i).has.call(i,n)||(i.add(n),ot(i,"add",n,n)),this},set(n,i){!e&&!Le(i)&&!Et(i)&&(i=X(i));const o=X(this),{has:a,get:l}=Ys(o);let u=a.call(o,n);u||(n=X(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?wt(i,c)&&ot(o,"set",n,i):ot(o,"add",n,i),this},delete(n){const i=X(this),{has:o,get:a}=Ys(i);let l=o.call(i,n);l||(n=X(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ot(i,"delete",n,void 0),u},clear(){const n=X(this),i=n.size!==0,o=n.clear();return i&&ot(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Al(n,t,e)}),s}function Ln(t,e){const s=Ol(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ee(s,n)&&n in r?s:r,n,i)}const xl={get:Ln(!1,!1)},Pl={get:Ln(!1,!0)},Cl={get:Ln(!0,!1)};const Po=new WeakMap,Co=new WeakMap,Io=new WeakMap,Il=new WeakMap;function $l(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jl(t){return t.__v_skip||!Object.isExtensible(t)?0:$l(rl(t))}function rs(t){return Et(t)?t:Un(t,!1,Tl,xl,Po)}function Rl(t){return Un(t,!1,kl,Pl,Co)}function $o(t){return Un(t,!0,El,Cl,Io)}function Un(t,e,s,r,n){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=jl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function St(t){return Et(t)?St(t.__v_raw):!!(t&&t.__v_isReactive)}function Et(t){return!!(t&&t.__v_isReadonly)}function Le(t){return!!(t&&t.__v_isShallow)}function Dn(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function Mn(t){return!ee(t,"__v_skip")&&Object.isExtensible(t)&&an(t,"__v_skip",!0),t}const _e=t=>ce(t)?rs(t):t,ur=t=>ce(t)?$o(t):t;function he(t){return t?t.__v_isRef===!0:!1}function Q(t){return Ll(t,!1)}function Ll(t,e){return he(t)?t:new Ul(t,e)}class Ul{constructor(e,s){this.dep=new Rn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:X(e),this._value=s?e:_e(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Le(e)||Et(e);e=r?e:X(e),wt(e,s)&&(this._rawValue=e,this._value=r?e:_e(e),this.dep.trigger())}}function C(t){return he(t)?t.value:t}const Dl={get:(t,e,s)=>e==="__v_raw"?t:C(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return he(n)&&!he(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function jo(t){return St(t)?t:new Proxy(t,Dl)}function Ro(t){const e=F(t)?new Array(t.length):{};for(const s in t)e[s]=Nl(t,s);return e}class Ml{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return vl(X(this._object),this._key)}}function Nl(t,e,s){const r=t[e];return he(r)?r:new Ml(t,e,s)}class Bl{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Rn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return bo(this,!0),!0}get value(){const e=this.dep.track();return To(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Fl(t,e,s=!1){let r,n;return q(t)?r=t:(r=t.get,n=t.set),new Bl(r,n,s)}const Xs={},dr=new WeakMap;let $t;function Vl(t,e=!1,s=$t){if(s){let r=dr.get(s);r||dr.set(s,r=[]),r.push(t)}}function ql(t,e,s=re){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=S=>n?S:Le(S)||n===!1||n===0?at(S,1):at(S);let c,d,p,g,m=!1,v=!1;if(he(t)?(d=()=>t.value,m=Le(t)):St(t)?(d=()=>u(t),m=!0):F(t)?(v=!0,m=t.some(S=>St(S)||Le(S)),d=()=>t.map(S=>{if(he(S))return S.value;if(St(S))return u(S);if(q(S))return l?l(S,2):S()})):q(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){ct();try{p()}finally{ut()}}const S=$t;$t=c;try{return l?l(t,3,[g]):t(g)}finally{$t=S}}:d=et,e&&n){const S=d,R=n===!0?1/0:n;d=()=>at(S(),R)}const w=vo(),_=()=>{c.stop(),w&&w.active&&Pn(w.effects,c)};if(i&&e){const S=e;e=(...R)=>{S(...R),_()}}let P=v?new Array(t.length).fill(Xs):Xs;const b=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const R=c.run();if(n||m||(v?R.some((H,B)=>wt(H,P[B])):wt(R,P))){p&&p();const H=$t;$t=c;try{const B=[R,P===Xs?void 0:v&&P[0]===Xs?[]:P,g];P=R,l?l(e,3,B):e(...B)}finally{$t=H}}}else c.run()};return a&&a(b),c=new _o(d),c.scheduler=o?()=>o(b,!1):b,g=S=>Vl(S,!1,c),p=c.onStop=()=>{const S=dr.get(c);if(S){if(l)l(S,4);else for(const R of S)R();dr.delete(c)}},e?r?b(!0):P=c.run():o?o(b.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function at(t,e=1/0,s){if(e<=0||!ce(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,he(t))at(t.value,e,s);else if(F(t))for(let r=0;r<t.length;r++)at(t[r],e,s);else if(br(t)||Jt(t))t.forEach(r=>{at(r,e,s)});else if(co(t)){for(const r in t)at(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&at(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fs(t,e,s,r){try{return r?t(...r):t()}catch(n){Ar(n,e,s)}}function tt(t,e,s,r){if(q(t)){const n=Fs(t,e,s,r);return n&&ao(n)&&n.catch(i=>{Ar(i,e,s)}),n}if(F(t)){const n=[];for(let i=0;i<t.length;i++)n.push(tt(t[i],e,s,r));return n}}function Ar(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||re;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){ct(),Fs(i,null,10,[t,l,u]),ut();return}}Hl(t,s,n,r,o)}function Hl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ee=[];let Ye=-1;const Yt=[];let vt=null,zt=0;const Lo=Promise.resolve();let hr=null;function Uo(t){const e=hr||Lo;return t?e.then(this?t.bind(this):t):e}function Wl(t){let e=Ye+1,s=Ee.length;for(;e<s;){const r=e+s>>>1,n=Ee[r],i=$s(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Nn(t){if(!(t.flags&1)){const e=$s(t),s=Ee[Ee.length-1];!s||!(t.flags&2)&&e>=$s(s)?Ee.push(t):Ee.splice(Wl(e),0,t),t.flags|=1,Do()}}function Do(){hr||(hr=Lo.then(No))}function zl(t){F(t)?Yt.push(...t):vt&&t.id===-1?vt.splice(zt+1,0,t):t.flags&1||(Yt.push(t),t.flags|=1),Do()}function ci(t,e,s=Ye+1){for(;s<Ee.length;s++){const r=Ee[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ee.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Mo(t){if(Yt.length){const e=[...new Set(Yt)].sort((s,r)=>$s(s)-$s(r));if(Yt.length=0,vt){vt.push(...e);return}for(vt=e,zt=0;zt<vt.length;zt++){const s=vt[zt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}vt=null,zt=0}}const $s=t=>t.id==null?t.flags&2?-1:1/0:t.id;function No(t){try{for(Ye=0;Ye<Ee.length;Ye++){const e=Ee[Ye];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Fs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ye<Ee.length;Ye++){const e=Ee[Ye];e&&(e.flags&=-2)}Ye=-1,Ee.length=0,Mo(),hr=null,(Ee.length||Yt.length)&&No()}}let pe=null,Bo=null;function fr(t){const e=pe;return pe=t,Bo=t&&t.type.__scopeId||null,e}function Bn(t,e=pe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&bi(-1);const i=fr(e);let o;try{o=t(...n)}finally{fr(i),r._d&&bi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ui(t,e){if(pe===null)return t;const s=Cr(pe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=re]=e[n];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&at(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Pt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ct(),tt(l,s,8,[t.el,a,t,e]),ut())}}const Kl=Symbol("_vte"),Gl=t=>t.__isTeleport;function Fn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function ht(t,e){return q(t)?Se({name:t.name},e,{setup:t}):t}function Fo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ys(t,e,s,r,n=!1){if(F(t)){t.forEach((m,v)=>ys(m,e&&(F(e)?e[v]:e),s,r,n));return}if(Qt(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ys(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Cr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===re?a.refs={}:a.refs,d=a.setupState,p=X(d),g=d===re?()=>!1:m=>ee(p,m);if(u!=null&&u!==l&&(fe(u)?(c[u]=null,g(u)&&(d[u]=null)):he(u)&&(u.value=null)),q(l))Fs(l,a,12,[o,c]);else{const m=fe(l),v=he(l);if(m||v){const w=()=>{if(t.f){const _=m?g(l)?d[l]:c[l]:l.value;n?F(_)&&Pn(_,i):F(_)?_.includes(i)||_.push(i):m?(c[l]=[i],g(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else m?(c[l]=o,g(l)&&(d[l]=o)):v&&(l.value=o,t.k&&(c[t.k]=o))};o?(w.id=-1,Ie(w,s)):w()}}}Tr().requestIdleCallback;Tr().cancelIdleCallback;const Qt=t=>!!t.type.__asyncLoader,Vo=t=>t.type.__isKeepAlive;function Jl(t,e){qo(t,"a",e)}function Yl(t,e){qo(t,"da",e)}function qo(t,e,s=me){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Or(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Vo(n.parent.vnode)&&Ql(r,e,s,n),n=n.parent}}function Ql(t,e,s,r){const n=Or(e,t,r,!0);Rs(()=>{Pn(r[e],n)},s)}function Or(t,e,s=me,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ct();const a=Vs(s),l=tt(e,s,t,o);return a(),ut(),l});return r?n.unshift(i):n.push(i),i}}const ft=t=>(e,s=me)=>{(!Us||t==="sp")&&Or(t,(...r)=>e(...r),s)},Xl=ft("bm"),js=ft("m"),Zl=ft("bu"),ec=ft("u"),tc=ft("bum"),Rs=ft("um"),sc=ft("sp"),rc=ft("rtg"),nc=ft("rtc");function ic(t,e=me){Or("ec",t,e)}const oc="components",Ho=Symbol.for("v-ndc");function ac(t){return fe(t)?lc(oc,t,!1)||t:t||Ho}function lc(t,e,s=!0,r=!1){const n=pe||me;if(n){const i=n.type;{const a=Zc(i,!1);if(a&&(a===e||a===Ue(e)||a===Sr(Ue(e))))return i}const o=di(n[t]||i[t],e)||di(n.appContext[t],e);return!o&&r?i:o}}function di(t,e){return t&&(t[e]||t[Ue(e)]||t[Sr(Ue(e))])}function cc(t,e,s,r){let n;const i=s,o=F(t);if(o||fe(t)){const a=o&&St(t);let l=!1,u=!1;a&&(l=!Le(t),u=Et(t),t=kr(t)),n=new Array(t.length);for(let c=0,d=t.length;c<d;c++)n[c]=e(l?u?ur(_e(t[c])):_e(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ce(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}function Wo(t,e,s={},r,n){if(pe.ce||pe.parent&&Qt(pe.parent)&&pe.parent.ce)return z(),Ve($e,null,[J("slot",s,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),z();const o=i&&zo(i(s)),a=s.key||o&&o.key,l=Ve($e,{key:(a&&!qe(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function zo(t){return t.some(e=>Hn(e)?!(e.type===dt||e.type===$e&&!zo(e.children)):!0)?t:null}const dn=t=>t?ha(t)?Cr(t):dn(t.parent):null,bs=Se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>dn(t.parent),$root:t=>dn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Go(t),$forceUpdate:t=>t.f||(t.f=()=>{Nn(t.update)}),$nextTick:t=>t.n||(t.n=Uo.bind(t.proxy)),$watch:t=>Rc.bind(t)}),Kr=(t,e)=>t!==re&&!t.__isScriptSetup&&ee(t,e),uc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Kr(r,e))return o[e]=1,r[e];if(n!==re&&ee(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&ee(u,e))return o[e]=3,i[e];if(s!==re&&ee(s,e))return o[e]=4,s[e];hn&&(o[e]=0)}}const c=bs[e];let d,p;if(c)return e==="$attrs"&&we(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==re&&ee(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,ee(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Kr(n,e)?(n[e]=s,!0):r!==re&&ee(r,e)?(r[e]=s,!0):ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==re&&ee(t,o)||Kr(e,o)||(a=i[0])&&ee(a,o)||ee(r,o)||ee(bs,o)||ee(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ee(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function dc(){return hc().slots}function hc(){const t=Jc();return t.setupContext||(t.setupContext=pa(t))}function hi(t){return F(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let hn=!0;function fc(t){const e=Go(t),s=t.proxy,r=t.ctx;hn=!1,e.beforeCreate&&fi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:g,updated:m,activated:v,deactivated:w,beforeDestroy:_,beforeUnmount:P,destroyed:b,unmounted:S,render:R,renderTracked:H,renderTriggered:B,errorCaptured:N,serverPrefetch:j,expose:Z,inheritAttrs:ue,components:He,directives:pt,filters:as}=e;if(u&&pc(u,r,null),o)for(const G in o){const ie=o[G];q(ie)&&(r[G]=ie.bind(s))}if(n){const G=n.call(s,s);ce(G)&&(t.data=rs(G))}if(hn=!0,i)for(const G in i){const ie=i[G],Ot=q(ie)?ie.bind(s,s):q(ie.get)?ie.get.bind(s,s):et,Gs=!q(ie)&&q(ie.set)?ie.set.bind(s):et,xt=se({get:Ot,set:Gs});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>xt.value,set:We=>xt.value=We})}if(a)for(const G in a)Ko(a[G],r,s,G);if(l){const G=q(l)?l.call(s):l;Reflect.ownKeys(G).forEach(ie=>{bc(ie,G[ie])})}c&&fi(c,t,"c");function de(G,ie){F(ie)?ie.forEach(Ot=>G(Ot.bind(s))):ie&&G(ie.bind(s))}if(de(Xl,d),de(js,p),de(Zl,g),de(ec,m),de(Jl,v),de(Yl,w),de(ic,N),de(nc,H),de(rc,B),de(tc,P),de(Rs,S),de(sc,j),F(Z))if(Z.length){const G=t.exposed||(t.exposed={});Z.forEach(ie=>{Object.defineProperty(G,ie,{get:()=>s[ie],set:Ot=>s[ie]=Ot})})}else t.exposed||(t.exposed={});R&&t.render===et&&(t.render=R),ue!=null&&(t.inheritAttrs=ue),He&&(t.components=He),pt&&(t.directives=pt),j&&Fo(t)}function pc(t,e,s=et){F(t)&&(t=fn(t));for(const r in t){const n=t[r];let i;ce(n)?"default"in n?i=ws(n.from||r,n.default,!0):i=ws(n.from||r):i=ws(n),he(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function fi(t,e,s){tt(F(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ko(t,e,s,r){let n=r.includes(".")?aa(s,r):()=>s[r];if(fe(t)){const i=e[t];q(i)&&Dt(n,i)}else if(q(t))Dt(n,t.bind(s));else if(ce(t))if(F(t))t.forEach(i=>Ko(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&Dt(n,i,t)}}function Go(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>pr(l,u,o,!0)),pr(l,e,o)),ce(e)&&i.set(e,l),l}function pr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&pr(t,i,s,!0),n&&n.forEach(o=>pr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=gc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gc={data:pi,props:gi,emits:gi,methods:ps,computed:ps,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:ps,directives:ps,watch:vc,provide:pi,inject:mc};function pi(t,e){return e?t?function(){return Se(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function mc(t,e){return ps(fn(t),fn(e))}function fn(t){if(F(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Te(t,e){return t?[...new Set([].concat(t,e))]:e}function ps(t,e){return t?Se(Object.create(null),t,e):e}function gi(t,e){return t?F(t)&&F(e)?[...new Set([...t,...e])]:Se(Object.create(null),hi(t),hi(e??{})):e}function vc(t,e){if(!t)return e;if(!e)return t;const s=Se(Object.create(null),t);for(const r in e)s[r]=Te(t[r],e[r]);return s}function Jo(){return{app:null,config:{isNativeTag:tl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _c=0;function yc(t,e){return function(r,n=null){q(r)||(r=Se({},r)),n!=null&&!ce(n)&&(n=null);const i=Jo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:_c++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:tu,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&q(c.install)?(o.add(c),c.install(u,...d)):q(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,p){if(!l){const g=u._ceVNode||J(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Cr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(tt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Ut;Ut=u;try{return c()}finally{Ut=d}}};return u}}let Ut=null;function bc(t,e){if(me){let s=me.provides;const r=me.parent&&me.parent.provides;r===s&&(s=me.provides=Object.create(r)),s[t]=e}}function ws(t,e,s=!1){const r=me||pe;if(r||Ut){let n=Ut?Ut._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}function wc(){return!!(me||pe||Ut)}const Yo={},Qo=()=>Object.create(Yo),Xo=t=>Object.getPrototypeOf(t)===Yo;function Sc(t,e,s,r=!1){const n={},i=Qo();t.propsDefaults=Object.create(null),Zo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Rl(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Tc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=X(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(xr(t.emitsOptions,p))continue;const g=e[p];if(l)if(ee(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const m=Ue(p);n[m]=pn(l,a,m,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Zo(t,e,n,i)&&(u=!0);let c;for(const d in a)(!e||!ee(e,d)&&((c=Mt(d))===d||!ee(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=pn(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!ee(e,d))&&(delete i[d],u=!0)}u&&ot(t.attrs,"set","")}function Zo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ms(l))continue;const u=e[l];let c;n&&ee(n,c=Ue(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:xr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=X(s),u=a||re;for(let c=0;c<i.length;c++){const d=i[c];s[d]=pn(n,l,d,u[d],t,!ee(u,d))}}return o}function pn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ee(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Vs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Mt(s))&&(r=!0))}return r}const Ec=new WeakMap;function ea(t,e,s=!1){const r=s?Ec:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const c=d=>{l=!0;const[p,g]=ea(d,e,!0);Se(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ce(t)&&r.set(t,Gt),Gt;if(F(i))for(let c=0;c<i.length;c++){const d=Ue(i[c]);mi(d)&&(o[d]=re)}else if(i)for(const c in i){const d=Ue(c);if(mi(d)){const p=i[c],g=o[d]=F(p)||q(p)?{type:p}:Se({},p),m=g.type;let v=!1,w=!0;if(F(m))for(let _=0;_<m.length;++_){const P=m[_],b=q(P)&&P.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(w=!1)}else v=q(m)&&m.name==="Boolean";g[0]=v,g[1]=w,(v||ee(g,"default"))&&a.push(d)}}const u=[o,a];return ce(t)&&r.set(t,u),u}function mi(t){return t[0]!=="$"&&!ms(t)}const Vn=t=>t[0]==="_"||t==="$stable",qn=t=>F(t)?t.map(Xe):[Xe(t)],kc=(t,e,s)=>{if(e._n)return e;const r=Bn((...n)=>qn(e(...n)),s);return r._c=!1,r},ta=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Vn(n))continue;const i=t[n];if(q(i))e[n]=kc(n,i,r);else if(i!=null){const o=qn(i);e[n]=()=>o}}},sa=(t,e)=>{const s=qn(e);t.slots.default=()=>s},ra=(t,e,s)=>{for(const r in e)(s||!Vn(r))&&(t[r]=e[r])},Ac=(t,e,s)=>{const r=t.slots=Qo();if(t.vnode.shapeFlag&32){const n=e.__;n&&an(r,"__",n,!0);const i=e._;i?(ra(r,e,s),s&&an(r,"_",i,!0)):ta(e,r)}else e&&sa(t,e)},Oc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=re;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ra(n,e,s):(i=!e.$stable,ta(e,n)),o=e}else e&&(sa(t,e),o={default:1});if(i)for(const a in n)!Vn(a)&&o[a]==null&&delete n[a]},Ie=Fc;function xc(t){return Pc(t)}function Pc(t,e){const s=Tr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:g=et,insertStaticContent:m}=t,v=(h,f,y,k=null,T=null,E=null,I=void 0,x=null,O=!!f.dynamicChildren)=>{if(h===f)return;h&&!hs(h,f)&&(k=Js(h),We(h,T,E,!0),h=null),f.patchFlag===-2&&(O=!1,f.dynamicChildren=null);const{type:A,ref:M,shapeFlag:$}=f;switch(A){case Pr:w(h,f,y,k);break;case dt:_(h,f,y,k);break;case Jr:h==null&&P(f,y,k,I);break;case $e:He(h,f,y,k,T,E,I,x,O);break;default:$&1?R(h,f,y,k,T,E,I,x,O):$&6?pt(h,f,y,k,T,E,I,x,O):($&64||$&128)&&A.process(h,f,y,k,T,E,I,x,O,cs)}M!=null&&T?ys(M,h&&h.ref,E,f||h,!f):M==null&&h&&h.ref!=null&&ys(h.ref,null,E,h,!0)},w=(h,f,y,k)=>{if(h==null)r(f.el=a(f.children),y,k);else{const T=f.el=h.el;f.children!==h.children&&u(T,f.children)}},_=(h,f,y,k)=>{h==null?r(f.el=l(f.children||""),y,k):f.el=h.el},P=(h,f,y,k)=>{[h.el,h.anchor]=m(h.children,f,y,k,h.el,h.anchor)},b=({el:h,anchor:f},y,k)=>{let T;for(;h&&h!==f;)T=p(h),r(h,y,k),h=T;r(f,y,k)},S=({el:h,anchor:f})=>{let y;for(;h&&h!==f;)y=p(h),n(h),h=y;n(f)},R=(h,f,y,k,T,E,I,x,O)=>{f.type==="svg"?I="svg":f.type==="math"&&(I="mathml"),h==null?H(f,y,k,T,E,I,x,O):j(h,f,T,E,I,x,O)},H=(h,f,y,k,T,E,I,x)=>{let O,A;const{props:M,shapeFlag:$,transition:U,dirs:V}=h;if(O=h.el=o(h.type,E,M&&M.is,M),$&8?c(O,h.children):$&16&&N(h.children,O,null,k,T,Gr(h,E),I,x),V&&Pt(h,null,k,"created"),B(O,h,h.scopeId,I,k),M){for(const oe in M)oe!=="value"&&!ms(oe)&&i(O,oe,null,M[oe],E,k);"value"in M&&i(O,"value",null,M.value,E),(A=M.onVnodeBeforeMount)&&Je(A,k,h)}V&&Pt(h,null,k,"beforeMount");const Y=Cc(T,U);Y&&U.beforeEnter(O),r(O,f,y),((A=M&&M.onVnodeMounted)||Y||V)&&Ie(()=>{A&&Je(A,k,h),Y&&U.enter(O),V&&Pt(h,null,k,"mounted")},T)},B=(h,f,y,k,T)=>{if(y&&g(h,y),k)for(let E=0;E<k.length;E++)g(h,k[E]);if(T){let E=T.subTree;if(f===E||ca(E.type)&&(E.ssContent===f||E.ssFallback===f)){const I=T.vnode;B(h,I,I.scopeId,I.slotScopeIds,T.parent)}}},N=(h,f,y,k,T,E,I,x,O=0)=>{for(let A=O;A<h.length;A++){const M=h[A]=x?_t(h[A]):Xe(h[A]);v(null,M,f,y,k,T,E,I,x)}},j=(h,f,y,k,T,E,I)=>{const x=f.el=h.el;let{patchFlag:O,dynamicChildren:A,dirs:M}=f;O|=h.patchFlag&16;const $=h.props||re,U=f.props||re;let V;if(y&&Ct(y,!1),(V=U.onVnodeBeforeUpdate)&&Je(V,y,f,h),M&&Pt(f,h,y,"beforeUpdate"),y&&Ct(y,!0),($.innerHTML&&U.innerHTML==null||$.textContent&&U.textContent==null)&&c(x,""),A?Z(h.dynamicChildren,A,x,y,k,Gr(f,T),E):I||ie(h,f,x,null,y,k,Gr(f,T),E,!1),O>0){if(O&16)ue(x,$,U,y,T);else if(O&2&&$.class!==U.class&&i(x,"class",null,U.class,T),O&4&&i(x,"style",$.style,U.style,T),O&8){const Y=f.dynamicProps;for(let oe=0;oe<Y.length;oe++){const te=Y[oe],ke=$[te],Ae=U[te];(Ae!==ke||te==="value")&&i(x,te,ke,Ae,T,y)}}O&1&&h.children!==f.children&&c(x,f.children)}else!I&&A==null&&ue(x,$,U,y,T);((V=U.onVnodeUpdated)||M)&&Ie(()=>{V&&Je(V,y,f,h),M&&Pt(f,h,y,"updated")},k)},Z=(h,f,y,k,T,E,I)=>{for(let x=0;x<f.length;x++){const O=h[x],A=f[x],M=O.el&&(O.type===$e||!hs(O,A)||O.shapeFlag&198)?d(O.el):y;v(O,A,M,null,k,T,E,I,!0)}},ue=(h,f,y,k,T)=>{if(f!==y){if(f!==re)for(const E in f)!ms(E)&&!(E in y)&&i(h,E,f[E],null,T,k);for(const E in y){if(ms(E))continue;const I=y[E],x=f[E];I!==x&&E!=="value"&&i(h,E,x,I,T,k)}"value"in y&&i(h,"value",f.value,y.value,T)}},He=(h,f,y,k,T,E,I,x,O)=>{const A=f.el=h?h.el:a(""),M=f.anchor=h?h.anchor:a("");let{patchFlag:$,dynamicChildren:U,slotScopeIds:V}=f;V&&(x=x?x.concat(V):V),h==null?(r(A,y,k),r(M,y,k),N(f.children||[],y,M,T,E,I,x,O)):$>0&&$&64&&U&&h.dynamicChildren?(Z(h.dynamicChildren,U,y,T,E,I,x),(f.key!=null||T&&f===T.subTree)&&na(h,f,!0)):ie(h,f,y,M,T,E,I,x,O)},pt=(h,f,y,k,T,E,I,x,O)=>{f.slotScopeIds=x,h==null?f.shapeFlag&512?T.ctx.activate(f,y,k,I,O):as(f,y,k,T,E,I,O):Ks(h,f,O)},as=(h,f,y,k,T,E,I)=>{const x=h.component=Gc(h,k,T);if(Vo(h)&&(x.ctx.renderer=cs),Yc(x,!1,I),x.asyncDep){if(T&&T.registerDep(x,de,I),!h.el){const O=x.subTree=J(dt);_(null,O,f,y)}}else de(x,h,f,y,T,E,I)},Ks=(h,f,y)=>{const k=f.component=h.component;if(Nc(h,f,y))if(k.asyncDep&&!k.asyncResolved){G(k,f,y);return}else k.next=f,k.update();else f.el=h.el,k.vnode=f},de=(h,f,y,k,T,E,I)=>{const x=()=>{if(h.isMounted){let{next:$,bu:U,u:V,parent:Y,vnode:oe}=h;{const Ke=ia(h);if(Ke){$&&($.el=oe.el,G(h,$,I)),Ke.asyncDep.then(()=>{h.isUnmounted||x()});return}}let te=$,ke;Ct(h,!1),$?($.el=oe.el,G(h,$,I)):$=oe,U&&nr(U),(ke=$.props&&$.props.onVnodeBeforeUpdate)&&Je(ke,Y,$,oe),Ct(h,!0);const Ae=_i(h),ze=h.subTree;h.subTree=Ae,v(ze,Ae,d(ze.el),Js(ze),h,T,E),$.el=Ae.el,te===null&&Bc(h,Ae.el),V&&Ie(V,T),(ke=$.props&&$.props.onVnodeUpdated)&&Ie(()=>Je(ke,Y,$,oe),T)}else{let $;const{el:U,props:V}=f,{bm:Y,m:oe,parent:te,root:ke,type:Ae}=h,ze=Qt(f);Ct(h,!1),Y&&nr(Y),!ze&&($=V&&V.onVnodeBeforeMount)&&Je($,te,f),Ct(h,!0);{ke.ce&&ke.ce._def.shadowRoot!==!1&&ke.ce._injectChildStyle(Ae);const Ke=h.subTree=_i(h);v(null,Ke,y,k,h,T,E),f.el=Ke.el}if(oe&&Ie(oe,T),!ze&&($=V&&V.onVnodeMounted)){const Ke=f;Ie(()=>Je($,te,Ke),T)}(f.shapeFlag&256||te&&Qt(te.vnode)&&te.vnode.shapeFlag&256)&&h.a&&Ie(h.a,T),h.isMounted=!0,f=y=k=null}};h.scope.on();const O=h.effect=new _o(x);h.scope.off();const A=h.update=O.run.bind(O),M=h.job=O.runIfDirty.bind(O);M.i=h,M.id=h.uid,O.scheduler=()=>Nn(M),Ct(h,!0),A()},G=(h,f,y)=>{f.component=h;const k=h.vnode.props;h.vnode=f,h.next=null,Tc(h,f.props,k,y),Oc(h,f.children,y),ct(),ci(h),ut()},ie=(h,f,y,k,T,E,I,x,O=!1)=>{const A=h&&h.children,M=h?h.shapeFlag:0,$=f.children,{patchFlag:U,shapeFlag:V}=f;if(U>0){if(U&128){Gs(A,$,y,k,T,E,I,x,O);return}else if(U&256){Ot(A,$,y,k,T,E,I,x,O);return}}V&8?(M&16&&ls(A,T,E),$!==A&&c(y,$)):M&16?V&16?Gs(A,$,y,k,T,E,I,x,O):ls(A,T,E,!0):(M&8&&c(y,""),V&16&&N($,y,k,T,E,I,x,O))},Ot=(h,f,y,k,T,E,I,x,O)=>{h=h||Gt,f=f||Gt;const A=h.length,M=f.length,$=Math.min(A,M);let U;for(U=0;U<$;U++){const V=f[U]=O?_t(f[U]):Xe(f[U]);v(h[U],V,y,null,T,E,I,x,O)}A>M?ls(h,T,E,!0,!1,$):N(f,y,k,T,E,I,x,O,$)},Gs=(h,f,y,k,T,E,I,x,O)=>{let A=0;const M=f.length;let $=h.length-1,U=M-1;for(;A<=$&&A<=U;){const V=h[A],Y=f[A]=O?_t(f[A]):Xe(f[A]);if(hs(V,Y))v(V,Y,y,null,T,E,I,x,O);else break;A++}for(;A<=$&&A<=U;){const V=h[$],Y=f[U]=O?_t(f[U]):Xe(f[U]);if(hs(V,Y))v(V,Y,y,null,T,E,I,x,O);else break;$--,U--}if(A>$){if(A<=U){const V=U+1,Y=V<M?f[V].el:k;for(;A<=U;)v(null,f[A]=O?_t(f[A]):Xe(f[A]),y,Y,T,E,I,x,O),A++}}else if(A>U)for(;A<=$;)We(h[A],T,E,!0),A++;else{const V=A,Y=A,oe=new Map;for(A=Y;A<=U;A++){const Ce=f[A]=O?_t(f[A]):Xe(f[A]);Ce.key!=null&&oe.set(Ce.key,A)}let te,ke=0;const Ae=U-Y+1;let ze=!1,Ke=0;const us=new Array(Ae);for(A=0;A<Ae;A++)us[A]=0;for(A=V;A<=$;A++){const Ce=h[A];if(ke>=Ae){We(Ce,T,E,!0);continue}let Ge;if(Ce.key!=null)Ge=oe.get(Ce.key);else for(te=Y;te<=U;te++)if(us[te-Y]===0&&hs(Ce,f[te])){Ge=te;break}Ge===void 0?We(Ce,T,E,!0):(us[Ge-Y]=A+1,Ge>=Ke?Ke=Ge:ze=!0,v(Ce,f[Ge],y,null,T,E,I,x,O),ke++)}const ri=ze?Ic(us):Gt;for(te=ri.length-1,A=Ae-1;A>=0;A--){const Ce=Y+A,Ge=f[Ce],ni=Ce+1<M?f[Ce+1].el:k;us[A]===0?v(null,Ge,y,ni,T,E,I,x,O):ze&&(te<0||A!==ri[te]?xt(Ge,y,ni,2):te--)}}},xt=(h,f,y,k,T=null)=>{const{el:E,type:I,transition:x,children:O,shapeFlag:A}=h;if(A&6){xt(h.component.subTree,f,y,k);return}if(A&128){h.suspense.move(f,y,k);return}if(A&64){I.move(h,f,y,cs);return}if(I===$e){r(E,f,y);for(let $=0;$<O.length;$++)xt(O[$],f,y,k);r(h.anchor,f,y);return}if(I===Jr){b(h,f,y);return}if(k!==2&&A&1&&x)if(k===0)x.beforeEnter(E),r(E,f,y),Ie(()=>x.enter(E),T);else{const{leave:$,delayLeave:U,afterLeave:V}=x,Y=()=>{h.ctx.isUnmounted?n(E):r(E,f,y)},oe=()=>{$(E,()=>{Y(),V&&V()})};U?U(E,Y,oe):oe()}else r(E,f,y)},We=(h,f,y,k=!1,T=!1)=>{const{type:E,props:I,ref:x,children:O,dynamicChildren:A,shapeFlag:M,patchFlag:$,dirs:U,cacheIndex:V}=h;if($===-2&&(T=!1),x!=null&&(ct(),ys(x,null,y,h,!0),ut()),V!=null&&(f.renderCache[V]=void 0),M&256){f.ctx.deactivate(h);return}const Y=M&1&&U,oe=!Qt(h);let te;if(oe&&(te=I&&I.onVnodeBeforeUnmount)&&Je(te,f,h),M&6)el(h.component,y,k);else{if(M&128){h.suspense.unmount(y,k);return}Y&&Pt(h,null,f,"beforeUnmount"),M&64?h.type.remove(h,f,y,cs,k):A&&!A.hasOnce&&(E!==$e||$>0&&$&64)?ls(A,f,y,!1,!0):(E===$e&&$&384||!T&&M&16)&&ls(O,f,y),k&&ti(h)}(oe&&(te=I&&I.onVnodeUnmounted)||Y)&&Ie(()=>{te&&Je(te,f,h),Y&&Pt(h,null,f,"unmounted")},y)},ti=h=>{const{type:f,el:y,anchor:k,transition:T}=h;if(f===$e){Za(y,k);return}if(f===Jr){S(h);return}const E=()=>{n(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(h.shapeFlag&1&&T&&!T.persisted){const{leave:I,delayLeave:x}=T,O=()=>I(y,E);x?x(h.el,E,O):O()}else E()},Za=(h,f)=>{let y;for(;h!==f;)y=p(h),n(h),h=y;n(f)},el=(h,f,y)=>{const{bum:k,scope:T,job:E,subTree:I,um:x,m:O,a:A,parent:M,slots:{__:$}}=h;vi(O),vi(A),k&&nr(k),M&&F($)&&$.forEach(U=>{M.renderCache[U]=void 0}),T.stop(),E&&(E.flags|=8,We(I,h,f,y)),x&&Ie(x,f),Ie(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ls=(h,f,y,k=!1,T=!1,E=0)=>{for(let I=E;I<h.length;I++)We(h[I],f,y,k,T)},Js=h=>{if(h.shapeFlag&6)return Js(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),y=f&&f[Kl];return y?p(y):f};let Fr=!1;const si=(h,f,y)=>{h==null?f._vnode&&We(f._vnode,null,null,!0):v(f._vnode||null,h,f,null,null,null,y),f._vnode=h,Fr||(Fr=!0,ci(),Mo(),Fr=!1)},cs={p:v,um:We,m:xt,r:ti,mt:as,mc:N,pc:ie,pbc:Z,n:Js,o:t};return{render:si,hydrate:void 0,createApp:yc(si)}}function Gr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ct({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Cc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function na(t,e,s=!1){const r=t.children,n=e.children;if(F(r)&&F(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=_t(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&na(o,a)),a.type===Pr&&(a.el=o.el),a.type===dt&&!a.el&&(a.el=o.el)}}function Ic(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function ia(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ia(e)}function vi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const $c=Symbol.for("v-scx"),jc=()=>ws($c);function Dt(t,e,s){return oa(t,e,s)}function oa(t,e,s=re){const{immediate:r,deep:n,flush:i,once:o}=s,a=Se({},s),l=e&&r||!e&&i!=="post";let u;if(Us){if(i==="sync"){const g=jc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=et,g.resume=et,g.pause=et,g}}const c=me;a.call=(g,m,v)=>tt(g,c,m,v);let d=!1;i==="post"?a.scheduler=g=>{Ie(g,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,m)=>{m?g():Nn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=ql(t,e,a);return Us&&(u?u.push(p):l&&p()),p}function Rc(t,e,s){const r=this.proxy,n=fe(t)?t.includes(".")?aa(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=Vs(this),a=oa(n,i.bind(r),s);return o(),a}function aa(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Lc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ue(e)}Modifiers`]||t[`${Mt(e)}Modifiers`];function Uc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||re;let n=s;const i=e.startsWith("update:"),o=i&&Lc(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>fe(c)?c.trim():c)),o.number&&(n=s.map(ol)));let a,l=r[a=Vr(e)]||r[a=Vr(Ue(e))];!l&&i&&(l=r[a=Vr(Mt(e))]),l&&tt(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,tt(u,t,6,n)}}function la(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=u=>{const c=la(u,e,!0);c&&(a=!0,Se(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ce(t)&&r.set(t,null),null):(F(i)?i.forEach(l=>o[l]=null):Se(o,i),ce(t)&&r.set(t,o),o)}function xr(t,e){return!t||!yr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(t,e[0].toLowerCase()+e.slice(1))||ee(t,Mt(e))||ee(t,e))}function _i(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:g,ctx:m,inheritAttrs:v}=t,w=fr(t);let _,P;try{if(s.shapeFlag&4){const S=n||r,R=S;_=Xe(u.call(R,S,c,d,g,p,m)),P=a}else{const S=e;_=Xe(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),P=e.props?a:Dc(a)}}catch(S){Ss.length=0,Ar(S,t,1),_=J(dt)}let b=_;if(P&&v!==!1){const S=Object.keys(P),{shapeFlag:R}=b;S.length&&R&7&&(i&&S.some(xn)&&(P=Mc(P,i)),b=Zt(b,P,!1,!0))}return s.dirs&&(b=Zt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Fn(b,s.transition),_=b,fr(w),_}const Dc=t=>{let e;for(const s in t)(s==="class"||s==="style"||yr(s))&&((e||(e={}))[s]=t[s]);return e},Mc=(t,e)=>{const s={};for(const r in t)(!xn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Nc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?yi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==r[p]&&!xr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?yi(r,o,u):!0:!!o;return!1}function yi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!xr(s,i))return!0}return!1}function Bc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const ca=t=>t.__isSuspense;function Fc(t,e){e&&e.pendingBranch?F(t)?e.effects.push(...t):e.effects.push(t):zl(t)}const $e=Symbol.for("v-fgt"),Pr=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),Jr=Symbol.for("v-stc"),Ss=[];let Re=null;function z(t=!1){Ss.push(Re=t?null:[])}function Vc(){Ss.pop(),Re=Ss[Ss.length-1]||null}let Ls=1;function bi(t,e=!1){Ls+=t,t<0&&Re&&e&&(Re.hasOnce=!0)}function ua(t){return t.dynamicChildren=Ls>0?Re||Gt:null,Vc(),Ls>0&&Re&&Re.push(t),t}function ne(t,e,s,r,n,i){return ua(D(t,e,s,r,n,i,!0))}function Ve(t,e,s,r,n){return ua(J(t,e,s,r,n,!0))}function Hn(t){return t?t.__v_isVNode===!0:!1}function hs(t,e){return t.type===e.type&&t.key===e.key}const da=({key:t})=>t??null,ir=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?fe(t)||he(t)||q(t)?{i:pe,r:t,k:e,f:!!s}:t:null);function D(t,e=null,s=null,r=0,n=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&da(e),ref:e&&ir(e),scopeId:Bo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:pe};return a?(zn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=fe(s)?8:16),Ls>0&&!o&&Re&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Re.push(l),l}const J=qc;function qc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Ho)&&(t=dt),Hn(t)){const a=Zt(t,e,!0);return s&&zn(a,s),Ls>0&&!i&&Re&&(a.shapeFlag&6?Re[Re.indexOf(t)]=a:Re.push(a)),a.patchFlag=-2,a}if(eu(t)&&(t=t.__vccOpts),e){e=Hc(e);let{class:a,style:l}=e;a&&!fe(a)&&(e.class=L(a)),ce(l)&&(Dn(l)&&!F(l)&&(l=Se({},l)),e.style=Bs(l))}const o=fe(t)?1:ca(t)?128:Gl(t)?64:ce(t)?4:q(t)?2:0;return D(t,e,s,r,n,o,i,!0)}function Hc(t){return t?Dn(t)||Xo(t)?Se({},t):t:null}function Zt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Wc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&da(u),ref:e&&e.ref?s&&i?F(i)?i.concat(ir(e)):[i,ir(e)]:ir(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zt(t.ssContent),ssFallback:t.ssFallback&&Zt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Fn(c,l.clone(c)),c}function Wn(t=" ",e=0){return J(Pr,null,t,e)}function ve(t="",e=!1){return e?(z(),Ve(dt,null,t)):J(dt,null,t)}function Xe(t){return t==null||typeof t=="boolean"?J(dt):F(t)?J($e,null,t.slice()):Hn(t)?_t(t):J(Pr,null,String(t))}function _t(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zt(t)}function zn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(F(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),zn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Xo(e)?e._ctx=pe:n===3&&pe&&(pe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:pe},s=32):(e=String(e),r&64?(s=16,e=[Wn(e)]):s=8);t.children=e,t.shapeFlag|=s}function Wc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=L([e.class,r.class]));else if(n==="style")e.style=Bs([e.style,r.style]);else if(yr(n)){const i=e[n],o=r[n];o&&i!==o&&!(F(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Je(t,e,s,r=null){tt(t,e,7,[s,r])}const zc=Jo();let Kc=0;function Gc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||zc,i={uid:Kc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new go(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ea(r,n),emitsOptions:la(r,n),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Uc.bind(null,i),t.ce&&t.ce(i),i}let me=null;const Jc=()=>me||pe;let gr,gn;{const t=Tr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};gr=e("__VUE_INSTANCE_SETTERS__",s=>me=s),gn=e("__VUE_SSR_SETTERS__",s=>Us=s)}const Vs=t=>{const e=me;return gr(t),t.scope.on(),()=>{t.scope.off(),gr(e)}},wi=()=>{me&&me.scope.off(),gr(null)};function ha(t){return t.vnode.shapeFlag&4}let Us=!1;function Yc(t,e=!1,s=!1){e&&gn(e);const{props:r,children:n}=t.vnode,i=ha(t);Sc(t,r,i,e),Ac(t,n,s||e);const o=i?Qc(t,e):void 0;return e&&gn(!1),o}function Qc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uc);const{setup:r}=s;if(r){ct();const n=t.setupContext=r.length>1?pa(t):null,i=Vs(t),o=Fs(r,t,0,[t.props,n]),a=ao(o);if(ut(),i(),(a||t.sp)&&!Qt(t)&&Fo(t),a){if(o.then(wi,wi),e)return o.then(l=>{Si(t,l)}).catch(l=>{Ar(l,t,0)});t.asyncDep=o}else Si(t,o)}else fa(t)}function Si(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=jo(e)),fa(t)}function fa(t,e,s){const r=t.type;t.render||(t.render=r.render||et);{const n=Vs(t);ct();try{fc(t)}finally{ut(),n()}}}const Xc={get(t,e){return we(t,"get",""),t[e]}};function pa(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Xc),slots:t.slots,emit:t.emit,expose:e}}function Cr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jo(Mn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in bs)return bs[s](t)},has(e,s){return s in e||s in bs}})):t.proxy}function Zc(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function eu(t){return q(t)&&"__vccOpts"in t}const se=(t,e)=>Fl(t,e,Us),tu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mn;const Ti=typeof window<"u"&&window.trustedTypes;if(Ti)try{mn=Ti.createPolicy("vue",{createHTML:t=>t})}catch{}const ga=mn?t=>mn.createHTML(t):t=>t,su="http://www.w3.org/2000/svg",ru="http://www.w3.org/1998/Math/MathML",nt=typeof document<"u"?document:null,Ei=nt&&nt.createElement("template"),nu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?nt.createElementNS(su,t):e==="mathml"?nt.createElementNS(ru,t):s?nt.createElement(t,{is:s}):nt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>nt.createTextNode(t),createComment:t=>nt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Ei.innerHTML=ga(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ei.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},iu=Symbol("_vtc");function ou(t,e,s){const r=t[iu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ki=Symbol("_vod"),au=Symbol("_vsh"),lu=Symbol(""),cu=/(^|;)\s*display\s*:/;function uu(t,e,s){const r=t.style,n=fe(s);let i=!1;if(s&&!n){if(e)if(fe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&or(r,a,"")}else for(const o in e)s[o]==null&&or(r,o,"");for(const o in s)o==="display"&&(i=!0),or(r,o,s[o])}else if(n){if(e!==s){const o=r[lu];o&&(s+=";"+o),r.cssText=s,i=cu.test(s)}}else e&&t.removeAttribute("style");ki in t&&(t[ki]=i?r.display:"",t[au]&&(r.display="none"))}const Ai=/\s*!important$/;function or(t,e,s){if(F(s))s.forEach(r=>or(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=du(t,e);Ai.test(s)?t.setProperty(Mt(r),s.replace(Ai,""),"important"):t[r]=s}}const Oi=["Webkit","Moz","ms"],Yr={};function du(t,e){const s=Yr[e];if(s)return s;let r=Ue(e);if(r!=="filter"&&r in t)return Yr[e]=r;r=Sr(r);for(let n=0;n<Oi.length;n++){const i=Oi[n]+r;if(i in t)return Yr[e]=i}return e}const xi="http://www.w3.org/1999/xlink";function Pi(t,e,s,r,n,i=hl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(xi,e.slice(6,e.length)):t.setAttributeNS(xi,e,s):s==null||i&&!uo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":qe(s)?String(s):s)}function Ci(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?ga(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=uo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function ma(t,e,s,r){t.addEventListener(e,s,r)}function hu(t,e,s,r){t.removeEventListener(e,s,r)}const Ii=Symbol("_vei");function fu(t,e,s,r,n=null){const i=t[Ii]||(t[Ii]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=pu(e);if(r){const u=i[e]=vu(r,n);ma(t,a,u,l)}else o&&(hu(t,a,o,l),i[e]=void 0)}}const $i=/(?:Once|Passive|Capture)$/;function pu(t){let e;if($i.test(t)){e={};let r;for(;r=t.match($i);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mt(t.slice(2)),e]}let Qr=0;const gu=Promise.resolve(),mu=()=>Qr||(gu.then(()=>Qr=0),Qr=Date.now());function vu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;tt(_u(r,s.value),e,5,[r])};return s.value=t,s.attached=mu(),s}function _u(t,e){if(F(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ji=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?ou(t,r,o):e==="style"?uu(t,s,r):yr(e)?xn(e)||fu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bu(t,e,r,o))?(Ci(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Pi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!fe(r))?Ci(t,Ue(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Pi(t,e,r,o))};function bu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ji(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ji(e)&&fe(s)?!1:e in t}const Ri=t=>{const e=t.props["onUpdate:modelValue"]||!1;return F(e)?s=>nr(e,s):e},Xr=Symbol("_assign"),Li={deep:!0,created(t,e,s){t[Xr]=Ri(s),ma(t,"change",()=>{const r=t._modelValue,n=wu(t),i=t.checked,o=t[Xr];if(F(r)){const a=ho(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(br(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(va(t,i))})},mounted:Ui,beforeUpdate(t,e,s){t[Xr]=Ri(s),Ui(t,e,s)}};function Ui(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(F(e))n=ho(e,r.props.value)>-1;else if(br(e))n=e.has(r.props.value);else{if(e===s)return;n=Er(e,va(t,!0))}t.checked!==n&&(t.checked=n)}function wu(t){return"_value"in t?t._value:t.value}function va(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Su=["ctrl","shift","alt","meta"],Tu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Su.some(s=>t[`${s}Key`]&&!e.includes(s))},Eu=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Tu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},ku=Se({patchProp:yu},nu);let Di;function Au(){return Di||(Di=xc(ku))}const Ou=(...t)=>{const e=Au().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Pu(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,xu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function xu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Pu(t){return fe(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _a;const Ir=t=>_a=t,ya=Symbol();function vn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ts;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ts||(Ts={}));function Cu(){const t=mo(!0),e=t.run(()=>Q({}));let s=[],r=[];const n=Mn({install(i){Ir(n),n._a=i,i.provide(ya,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const ba=()=>{};function Mi(t,e,s,r=ba){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&vo()&&pl(n),n}function Ft(t,...e){t.slice().forEach(s=>{s(...e)})}const Iu=t=>t(),Ni=Symbol(),Zr=Symbol();function _n(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];vn(n)&&vn(r)&&t.hasOwnProperty(s)&&!he(r)&&!St(r)?t[s]=_n(n,r):t[s]=r}return t}const $u=Symbol();function ju(t){return!vn(t)||!t.hasOwnProperty($u)}const{assign:gt}=Object;function Ru(t){return!!(he(t)&&t.effect)}function Lu(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Ro(s.state.value[t]);return gt(c,i,Object.keys(o||{}).reduce((d,p)=>(d[p]=Mn(se(()=>{Ir(s);const g=s._s.get(t);return o[p].call(g,g)})),d),{}))}return l=wa(t,u,e,s,r,!0),l}function wa(t,e,s={},r,n,i){let o;const a=gt({actions:{}},s),l={deep:!0};let u,c,d=[],p=[],g;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),Q({});let v;function w(N){let j;u=c=!1,typeof N=="function"?(N(r.state.value[t]),j={type:Ts.patchFunction,storeId:t,events:g}):(_n(r.state.value[t],N),j={type:Ts.patchObject,payload:N,storeId:t,events:g});const Z=v=Symbol();Uo().then(()=>{v===Z&&(u=!0)}),c=!0,Ft(d,j,r.state.value[t])}const _=i?function(){const{state:j}=s,Z=j?j():{};this.$patch(ue=>{gt(ue,Z)})}:ba;function P(){o.stop(),d=[],p=[],r._s.delete(t)}const b=(N,j="")=>{if(Ni in N)return N[Zr]=j,N;const Z=function(){Ir(r);const ue=Array.from(arguments),He=[],pt=[];function as(G){He.push(G)}function Ks(G){pt.push(G)}Ft(p,{args:ue,name:Z[Zr],store:R,after:as,onError:Ks});let de;try{de=N.apply(this&&this.$id===t?this:R,ue)}catch(G){throw Ft(pt,G),G}return de instanceof Promise?de.then(G=>(Ft(He,G),G)).catch(G=>(Ft(pt,G),Promise.reject(G))):(Ft(He,de),de)};return Z[Ni]=!0,Z[Zr]=j,Z},S={_p:r,$id:t,$onAction:Mi.bind(null,p),$patch:w,$reset:_,$subscribe(N,j={}){const Z=Mi(d,N,j.detached,()=>ue()),ue=o.run(()=>Dt(()=>r.state.value[t],He=>{(j.flush==="sync"?c:u)&&N({storeId:t,type:Ts.direct,events:g},He)},gt({},l,j)));return Z},$dispose:P},R=rs(S);r._s.set(t,R);const B=(r._a&&r._a.runWithContext||Iu)(()=>r._e.run(()=>(o=mo()).run(()=>e({action:b}))));for(const N in B){const j=B[N];if(he(j)&&!Ru(j)||St(j))i||(m&&ju(j)&&(he(j)?j.value=m[N]:_n(j,m[N])),r.state.value[t][N]=j);else if(typeof j=="function"){const Z=b(j,N);B[N]=Z,a.actions[N]=j}}return gt(R,B),gt(X(R),B),Object.defineProperty(R,"$state",{get:()=>r.state.value[t],set:N=>{w(j=>{gt(j,N)})}}),r._p.forEach(N=>{gt(R,o.run(()=>N({store:R,app:r._a,pinia:r,options:a})))}),m&&i&&s.hydrate&&s.hydrate(R.$state,m),u=!0,c=!0,R}/*! #__NO_SIDE_EFFECTS__ */function Kn(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=wc();return a=a||(u?ws(ya,null):null),a&&Ir(a),a=_a,a._s.has(r)||(i?wa(r,e,n,a):Lu(r,n,a)),a._s.get(r)}return o.$id=r,o}const Uu="modulepreload",Du=function(t){return"/"+t},Bi={},qs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Du(l),l in Bi)return;Bi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Uu,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Mu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>ns);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Gn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Nu extends Gn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fi extends Gn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vi extends Gn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yn||(yn={}));var Bu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Fu{constructor(e,{headers:s={},customFetch:r,region:n=yn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Mu(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Bu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(v=>{throw new Nu(v)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new Fi(d);if(!d.ok)throw new Vi(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield d.json():g==="application/octet-stream"?m=yield d.blob():g==="text/event-stream"?m=d:g==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof Vi||n instanceof Fi?n.context:void 0}}})}}var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var xe={},Jn={},$r={},Hs={},jr={},Rr={},qu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},es=qu();const Hu=es.fetch,Sa=es.fetch.bind(es),Ta=es.Headers,Wu=es.Request,zu=es.Response,ns=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ta,Request:Wu,Response:zu,default:Sa,fetch:Hu},Symbol.toStringTag,{value:"Module"})),Ku=Vu(ns);var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});let Gu=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Lr.default=Gu;var Ea=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rr,"__esModule",{value:!0});const Ju=Ea(Ku),Yu=Ea(Lr);let Qu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ju.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&v===""?(p=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new Yu.default(u)}return{error:u,data:c,count:d,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Rr.default=Qu;var Xu=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jr,"__esModule",{value:!0});const Zu=Xu(Rr);let ed=class extends Zu.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jr.default=ed;var td=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});const sd=td(jr);let rd=class extends sd.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Hs.default=rd;var nd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($r,"__esModule",{value:!0});const fs=nd(Hs);let id=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$r.default=id;var Ur={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.version=void 0;Dr.version="0.0.0-automated";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.DEFAULT_HEADERS=void 0;const od=Dr;Ur.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${od.version}`};var ka=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jn,"__esModule",{value:!0});const ad=ka($r),ld=ka(Hs),cd=Ur;let ud=class Aa{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},cd.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new ad.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Aa(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ld.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jn.default=ud;var is=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const Oa=is(Jn);xe.PostgrestClient=Oa.default;const xa=is($r);xe.PostgrestQueryBuilder=xa.default;const Pa=is(Hs);xe.PostgrestFilterBuilder=Pa.default;const Ca=is(jr);xe.PostgrestTransformBuilder=Ca.default;const Ia=is(Rr);xe.PostgrestBuilder=Ia.default;const $a=is(Lr);xe.PostgrestError=$a.default;var dd=xe.default={PostgrestClient:Oa.default,PostgrestQueryBuilder:xa.default,PostgrestFilterBuilder:Pa.default,PostgrestTransformBuilder:Ca.default,PostgrestBuilder:Ia.default,PostgrestError:$a.default};const{PostgrestClient:hd,PostgrestQueryBuilder:bp,PostgrestFilterBuilder:wp,PostgrestTransformBuilder:Sp,PostgrestBuilder:Tp,PostgrestError:Ep}=dd;function fd(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const pd=fd(),gd="2.11.15",md=`realtime-js/${gd}`,vd="1.0.0",ja=1e4,_d=1e3;var Es;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Es||(Es={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var Ne;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ne||(Ne={}));var bn;(function(t){t.websocket="websocket"})(bn||(bn={}));var Rt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rt||(Rt={}));class yd{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ra{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const qi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=bd(o,t,e,n),i),{})},bd=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?La(i,o):wn(o)},La=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Ed(e,s)}switch(t){case ae.bool:return wd(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Sd(e);case ae.json:case ae.jsonb:return Td(e);case ae.timestamp:return kd(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return wn(e);default:return wn(e)}},wn=t=>t,wd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Td=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ed=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>La(e,a))}return t},kd=t=>typeof t=="string"?t.replace(" ","T"):t,Ua=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class en{constructor(e,s,r={},n=ja){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hi||(Hi={}));class ks{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ks.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ks.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ks.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const p=c.map(w=>w.presence_ref),g=d.map(w=>w.presence_ref),m=c.filter(w=>g.indexOf(w.presence_ref)<0),v=d.filter(w=>p.indexOf(w.presence_ref)<0);m.length>0&&(a[u]=m),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),p=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wi||(Wi={}));var zi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zi||(zi={}));var it;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class Yn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new en(this,Ne.join,this.params,this.timeout),this.rejoinTimer=new Ra(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ne.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ks(this),this.broadcastEndpointURL=Ua(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(it.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(it.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(it.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,m=[];for(let v=0;v<g;v++){const w=p[v],{filter:{event:_,schema:P,table:b,filter:S}}=w,R=c&&c[v];if(R&&R.event===_&&R.schema===P&&R.table===b&&R.filter===S)m.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(it.SUBSCRIBED);return}}).receive("error",c=>{this.state=ye.errored,e==null||e(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ne.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new en(this,Ne.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new en(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ne;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var m,v,w;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,v,w,_,P,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const S=g.id,R=(m=g.filter)===null||m===void 0?void 0:m.event;return S&&((v=s.ids)===null||v===void 0?void 0:v.includes(S))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(P=(_=g==null?void 0:g.filter)===null||_===void 0?void 0:_.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return S==="*"||S===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:v,table:w,commit_timestamp:_,type:P,errors:b}=m;p=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:_,eventType:P,new:{},old:{},errors:b}),this._getPayloadRecords(m))}g.callback(p,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Yn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ne.close,{},e)}_onError(e){this._on(Ne.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=qi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=qi(e.columns,e.old_record)),s}}const Ki=()=>{},Ad=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Od{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ja,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ki,this.ref=0,this.logger=Ki,this.conn=null,this.sendBuffer=[],this.serializer=new yd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>ns);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${bn.websocket}`,this.httpEndpoint=Ua(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ra(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=pd),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vd}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Rt.Connecting;case Es.open:return Rt.Open;case Es.closing:return Rt.Closing;default:return Rt.Closed}}isConnected(){return this.connectionState()===Rt.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Yn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:md};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Ne.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(_d,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ne.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Ad],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Qn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xd extends Qn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sn extends Qn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Pd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Da=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>ns);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Cd=()=>Pd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>ns),void 0)).Response:Response}),Tn=t=>{if(Array.isArray(t))return t.map(s=>Tn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Tn(r)}),e};var Nt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Id=(t,e,s)=>Nt(void 0,void 0,void 0,function*(){const r=yield Cd();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new xd(tn(n),t.status||500))}).catch(n=>{e(new Sn(tn(n),n))}):e(new Sn(tn(t),t))}),$d=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ws(t,e,s,r,n,i){return Nt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,$d(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Id(l,a,r))})})}function mr(t,e,s,r){return Nt(this,void 0,void 0,function*(){return Ws(t,"GET",e,s,r)})}function yt(t,e,s,r,n){return Nt(this,void 0,void 0,function*(){return Ws(t,"POST",e,r,n,s)})}function jd(t,e,s,r,n){return Nt(this,void 0,void 0,function*(){return Ws(t,"PUT",e,r,n,s)})}function Rd(t,e,s,r){return Nt(this,void 0,void 0,function*(){return Ws(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ma(t,e,s,r,n){return Nt(this,void 0,void 0,function*(){return Ws(t,"DELETE",e,r,n,s)})}var Oe=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ld={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ud{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Da(n)}uploadOrUpdate(e,s,r,n){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gi),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Gi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Qn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(e,s,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Oe(this,void 0,void 0,function*(){try{const n=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}download(e,s){return Oe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield mr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(e){return Oe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield mr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Tn(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(e){return Oe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Rd(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof Sn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}list(e,s,r){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ld),s),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Dd="2.7.1",Md={"X-Client-Info":`storage-js/${Dd}`};var Vt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Nd{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Md),s),this.fetch=Da(r)}listBuckets(){return Vt(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Vt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Vt(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}}class Bd extends Nd{constructor(e,s={},r){super(e,s,r)}from(e){return new Ud(this.url,this.headers,e,this.fetch)}}const Fd="2.50.3";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const Vd={"X-Client-Info":`supabase-js-${gs}/${Fd}`},qd={headers:Vd},Hd={schema:"public"},Wd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zd={};var Kd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Gd=t=>{let e;return t?e=t:typeof fetch>"u"?e=Sa:e=fetch,(...s)=>e(...s)},Jd=()=>typeof Headers>"u"?Ta:Headers,Yd=(t,e,s)=>{const r=Gd(s),n=Jd();return(i,o)=>Kd(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Qd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Xd(t){return t.endsWith("/")?t:t+"/"}function Zd(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Qd(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Na="2.70.0",Kt=30*1e3,En=3,sn=En*Kt,eh="http://localhost:9999",th="supabase.auth.token",sh={"X-Client-Info":`gotrue-js/${Na}`},kn="X-Supabase-Api-Version",Ba={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nh=6e5;class Xn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ih extends Xn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function oh(t){return W(t)&&t.name==="AuthApiError"}class Fa extends Xn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class kt extends Xn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class mt extends kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ah(t){return W(t)&&t.name==="AuthSessionMissingError"}class Zs extends kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class er extends kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tr extends kt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lh(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ji extends kt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class An extends kt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function rn(t){return W(t)&&t.name==="AuthRetryableFetchError"}class Yi extends kt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class As extends kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qi=` 	
\r=`.split(""),ch=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qi.length;e+=1)t[Qi[e].charCodeAt(0)]=-2;for(let e=0;e<vr.length;e+=1)t[vr[e].charCodeAt(0)]=e;return t})();function Xi(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(vr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(vr[r]),e.queuedBits-=6}}function Va(t,e,s){const r=ch[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{hh(o,r,s)};for(let o=0;o<t.length;o+=1)Va(t.charCodeAt(o),n,i);return e.join("")}function uh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}uh(r,e)}}function hh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function fh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Va(t.charCodeAt(n),s,r);return new Uint8Array(e)}function ph(t){const e=[];return dh(t,s=>e.push(s)),new Uint8Array(e)}function gh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Xi(n,s,r)),Xi(null,s,r),e.join("")}function mh(t){return Math.round(Date.now()/1e3)+t}function vh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},Os=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function _h(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const qa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>ns);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},yh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ha=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},sr=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},rr=async(t,e)=>{await t.removeItem(e)};class Mr{constructor(){this.promise=new Mr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Mr.promiseConstructor=Promise;function nn(t){const e=t.split(".");if(e.length!==3)throw new As("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!rh.test(e[r]))throw new As("JWT not in base64url format");return{header:JSON.parse(Zi(e[0])),payload:JSON.parse(Zi(e[1])),signature:fh(e[2]),raw:{header:e[0],payload:e[1]}}}async function bh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Sh(t){return("0"+t.toString(16)).substr(-2)}function Th(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Sh).join("")}async function Eh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function kh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Eh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qt(t,e,s=!1){const r=Th();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ha(t,`${e}-code-verifier`,n);const i=await kh(r);return[i,r===i?"plain":"s256"]}const Ah=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oh(t){const e=t.headers.get(kn);if(!e||!e.match(Ah))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ph(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ch=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ht(t){if(!Ch.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Ih=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$h=[502,503,504];async function eo(t){var e;if(!yh(t))throw new An(jt(t),0);if($h.includes(t.status))throw new An(jt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Fa(jt(i),i)}let r;const n=Oh(t);if(n&&n.getTime()>=Ba["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Yi(jt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yi(jt(s),t.status,s.weak_password.reasons);throw new ih(jt(s),t.status||500,r)}const jh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function K(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[kn]||(i[kn]=Ba["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Rh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Rh(t,e,s,r,n,i){const o=jh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new An(jt(l),0)}if(a.ok||await eo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await eo(l)}}function rt(t){var e;let s=null;Mh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=mh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function to(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lh(t){return{data:t,error:null}}function Uh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Ih(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Dh(t){return t}function Mh(t){return t.access_token&&t.refresh_token&&t.expires_in}const on=["global","local","others"];var Nh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Bh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=qa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=on[0]){if(on.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${on.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:bt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Nh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Uh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Dh});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ht(e);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ht(e);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:bt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Ht(e);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:bt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ht(e.userId);try{const{data:s,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ht(e.userId),Ht(e.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}}const Fh={getItem:t=>Os()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Os()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Os()&&globalThis.localStorage.removeItem(t)}};function so(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Vh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wt={debug:!!(globalThis&&Os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qh extends Wa{}async function Hh(t,e,s){Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Vh();const Wh={url:eh,storageKey:th,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ro(t,e,s){return await s()}class Ds{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Wh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Bh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=qa(n.fetch),this.lock=n.lock||ro,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Hh:this.lock=ro,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Os()?this.storage=Fh:(this.memoryStorage={},this.storage=so(this.memoryStorage)):(this.memoryStorage={},this.storage=so(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Na}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=_h(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return W(s)?{error:s}:{error:new Fa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:rt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:d,options:p}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await qt(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:m},xform:rt})}else if("phone"in e){const{phone:c,password:d,options:p}=e;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:rt})}else throw new er("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:to})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:to})}else throw new er("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,d,p,g;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:w,wallet:_,statement:P,options:b}=e;let S;if(Me())if(typeof _=="object")S=_;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))S=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const R=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const H=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),P?{statement:P}:null));let B;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")B=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)B=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)m=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),v=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${R.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(n=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const H=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=H}}try{const{data:w,error:_}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:gh(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:rt});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Zs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(W(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const s=await sr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rt});if(await rr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:rt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qt(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new er("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:rt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qt(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Lh})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new mt;const{error:n}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await K(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await K(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new er("You must provide either an email or phone number and a type")}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<sn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:bt})})}catch(s){if(W(s))return ah(s)&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new mt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await qt(this.storage,this.storageKey));const{data:u,error:c}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=nn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(W(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new tr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ji("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ji("No code detected.");const{data:P,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new tr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const g=p-c;g*1e3<=Kt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=p-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,c);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const _={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(W(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(oh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=vh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await qt(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await wh(async n=>(n>0&&await bh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&rn(i)&&Date.now()+o-r<Kt})}catch(r){if(this._debug(s,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await sr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<sn;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${sn}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),rn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Mr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),W(i)){const o={session:null,error:i};return rn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ha(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await rr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Kt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Kt}ms, refresh threshold is ${En} ticks`),n<=En&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+nh>Date.now()))return r;const{data:n,error:i}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new As("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new As("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=nn(r);if(xh(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Ph(n.alg),c=await this.fetchJwk(n.kid,s),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,ph(`${a}.${l}`)))throw new As("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}Ds.nextInstanceID=0;const zh=Ds;class Kh extends zh{constructor(e){super(e)}}var Gh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Jh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Xd(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Hd,realtime:zd,auth:Object.assign(Object.assign({},Wd),{storageKey:u}),global:qd},d=Zd(r??{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Yd(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new hd(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Fu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bd(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Gh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kh({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Od(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yh=(t,e,s)=>new Jh(t,e,s),Xt={},Qh=(Xt==null?void 0:Xt.VITE_SUPABASE_URL)||"https://placeholder.supabase.co",Xh=(Xt==null?void 0:Xt.VITE_SUPABASE_ANON_KEY)||"placeholder-key",Qe=Yh(Qh,Xh,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),za=Kn("auth",()=>{const t=Q(null),e=Q(null),s=Q(!1),r=Q(null),n=se(()=>!!t.value&&!!e.value),i=se(()=>{var m,v;return((v=(m=t.value)==null?void 0:m.user_metadata)==null?void 0:v.language)||"en"}),o=async(m,v)=>{s.value=!0,r.value=null;try{const{data:w,error:_}=await Qe.auth.signInWithPassword({email:m,password:v});if(_)throw _;t.value=w.user,e.value=w.session}catch(w){throw r.value=w instanceof Error?w.message:"Authentication failed",w}finally{s.value=!1}},a=async(m,v,w)=>{s.value=!0,r.value=null;try{const{data:_,error:P}=await Qe.auth.signUp({email:m,password:v,options:{data:{full_name:w,language:"en"}}});if(P)throw P;return _}catch(_){throw r.value=_ instanceof Error?_.message:"Sign up failed",_}finally{s.value=!1}},l=async()=>{s.value=!0,r.value=null;try{const{data:m,error:v}=await Qe.auth.signInWithOAuth({provider:"apple",options:{redirectTo:window.location.origin}});if(v)throw v;return m}catch(m){throw r.value=m instanceof Error?m.message:"Apple Sign-In failed",m}finally{s.value=!1}},u=async()=>{try{const{error:m}=await Qe.auth.signOut();m&&console.warn("Logout error:",m)}catch(m){console.warn("Logout failed:",m)}finally{t.value=null,e.value=null}},c=async()=>{try{const{data:{session:m},error:v}=await Qe.auth.getSession();if(v){console.error("Error getting session:",v);return}m&&(t.value=m.user,e.value=m)}catch(m){console.error("Failed to initialize auth:",m)}},d=()=>{Qe.auth.onAuthStateChange((m,v)=>{m==="SIGNED_IN"&&v?(t.value=v.user,e.value=v):m==="SIGNED_OUT"&&(t.value=null,e.value=null)})},p=async m=>{if(t.value)try{const{data:v,error:w}=await Qe.auth.updateUser({data:m});if(w)throw w;v.user&&(t.value=v.user)}catch(v){throw r.value=v instanceof Error?v.message:"Failed to update user",v}};return{user:t,session:e,isLoading:s,error:r,isAuthenticated:n,currentLanguage:i,signInWithEmail:o,signUpWithEmail:a,signInWithApple:l,logout:u,initializeFromStorage:c,setupAuthListener:d,updateUserMetadata:p,updateLanguage:async m=>{await p({language:m})}}}),Ka=Kn("app",()=>{const t=za(),e=Q({}),s=Q(!navigator.onLine),r=Q([]),n=Q(null),i=se(()=>r.value.length>0),o=se(()=>!s.value),a=v=>{var w;return((w=e.value[v])==null?void 0:w.settings)||{}},l=async(v,w)=>{var S;const _=`${v}_settings`,P=(S=t.user)==null?void 0:S.id;if(!P){console.warn("No user ID available for settings update");return}e.value[v]={id:_,userId:P,appName:v,settings:w,createdAt:new Date,updatedAt:new Date};const b={id:crypto.randomUUID(),type:"UPDATE_APP_SETTINGS",payload:{appName:v,settings:w},timestamp:new Date,synced:!1};r.value.push(b),o.value&&await u()},u=async()=>{if(!o.value||r.value.length===0)return;const v=r.value.filter(w=>!w.synced);for(const w of v)try{await c(w),w.synced=!0}catch(_){console.error("Failed to sync action:",w,_);break}r.value=r.value.filter(w=>!w.synced),n.value=new Date},c=async v=>{var _;const w=(_=t.user)==null?void 0:_.id;if(!w)throw new Error("No user ID available for sync");switch(v.type){case"UPDATE_APP_SETTINGS":const{appName:P,settings:b}=v.payload,{error:S}=await Qe.from("user_settings").upsert({user_id:w,app_name:P,settings:b,updated_at:new Date().toISOString()},{onConflict:"user_id,app_name"});if(S)throw S;break;default:console.warn("Unknown sync action type:",v.type)}};return{appSettings:e,isOffline:s,syncQueue:r,lastSync:n,hasPendingSync:i,isOnline:o,getAppSettings:a,updateAppSettings:l,syncPendingActions:u,loadAppSettings:async v=>{var _;const w=(_=t.user)==null?void 0:_.id;if(!w){console.warn("No user ID available for loading settings");return}try{const{data:P,error:b}=await Qe.from("user_settings").select("*").eq("user_id",w).eq("app_name",v).single();if(b&&b.code!=="PGRST116")throw b;P&&(e.value[v]={id:P.id,userId:P.user_id,appName:P.app_name,settings:P.settings,createdAt:new Date(P.created_at),updatedAt:new Date(P.updated_at)})}catch(P){console.error("Failed to load app settings:",P)}},loadAllAppSettings:async()=>{var w;const v=(w=t.user)==null?void 0:w.id;if(!v){console.warn("No user ID available for loading all settings");return}try{const{data:_,error:P}=await Qe.from("user_settings").select("*").eq("user_id",v);if(P)throw P;if(_){const b={};_.forEach(S=>{b[S.app_name]={id:S.id,userId:S.user_id,appName:S.app_name,settings:S.settings,createdAt:new Date(S.created_at),updatedAt:new Date(S.updated_at)}}),e.value=b}}catch(_){console.error("Failed to load all app settings:",_)}},clearAppData:()=>{e.value={},r.value=[],n.value=null},initializeNetworkMonitoring:()=>{const v=()=>{s.value=!navigator.onLine,navigator.onLine&&r.value.length>0&&u()};return window.addEventListener("online",v),window.addEventListener("offline",v),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",v)}}}});var Zh=Object.defineProperty,ef=Object.defineProperties,tf=Object.getOwnPropertyDescriptors,no=Object.getOwnPropertySymbols,sf=Object.prototype.hasOwnProperty,rf=Object.prototype.propertyIsEnumerable,io=(t,e,s)=>e in t?Zh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Tt=(t,e)=>{for(var s in e||(e={}))sf.call(e,s)&&io(t,s,e[s]);if(no)for(var s of no(e))rf.call(e,s)&&io(t,s,e[s]);return t},zs=(t,e)=>ef(t,tf(e)),nf=t=>t===""?"":t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/([\d])([a-zA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),of=t=>!isNaN(t)&&typeof t=="number",Zn=t=>typeof t=="object"&&!Array.isArray(t),ts=t=>typeof t=="object"&&Array.isArray(t)&&!Zn(t),Nr=t=>{if(!Array.isArray(t)||t.length===0)return!1;for(let e=0;e<t.length;e++)if(typeof t[e]!="string")return!1;return!0},Pe=t=>typeof t=="string",Ga=t=>t==null,Ms=t=>Nr(t)?t:Pe(t)?[t]:[],Ja=t=>{const e=t.map(s=>s&&typeof s=="string"&&s.includes(" ")?Ja(s.split(" ")):(s&&typeof s=="string"?s.trim():null)||"").flat().filter(s=>s!=="");return[...new Set(e)]},af=t=>t==null?!0:t!==void 0?!!t:!1,lf=t=>typeof t=="boolean",Br={ARRAY:"array"},lt={STRING:"string",ARRAY:"array",OBJECT:"object",NONE:"none",FALSE:"false"},cf=t=>Pe(t)?t:"",uf=t=>Pe(t)||Nr(t)?t:"",_r=t=>{if(!Zn(t)||ts(t)||Pe(t)||Ga(t))return!1;const e=["b","block","e","element","m","modifier","s","show"];return![...new Set(Object.keys(t).find(r=>!e.includes(r)))].length},df=t=>!!(ts(t)&&Pe(t[0])&&(Nr(t[1])||Pe(t[1]))),hf=t=>!Pe(t)&&t[2]!==void 0&&!t[2],ff=(t,e,s={})=>{const r=[];return ss(t,cf(e[0]),uf(e[1]),zs(Tt({},s),{return:Br.ARRAY})).forEach(i=>{r.push(i)}),r},oo=(t,e,s={})=>{const r={block:t,element:"",modifier:""};if(e.includes(":")){const[n,i]=e.split(":");r.element=n,r.modifier=i}else r.element=e;return ss(r.block,r.element,r.modifier,zs(Tt({},s),{return:Br.ARRAY}))},pf=(t,e,s={})=>{if(e.show!==void 0&&!e.show||e.s!==void 0&&!e.s)return[];const r=(e==null?void 0:e.block)||e.b||t,n={element:e.element||e.e||"",modifier:e.modifier||e.m||""};return ss(r,n.element,n.modifier,zs(Tt({},s),{return:Br.ARRAY}))},gf=t=>Ga(t)?lt.NONE:Pe(t)?lt.STRING:(ts(t)&&t.length<2||df(t))&&!hf(t)?lt.ARRAY:_r(t)?lt.OBJECT:lt.FALSE,mf=(t,e={})=>(...r)=>{const n=Pe(t)?[t]:t;let i=[];return n.forEach(o=>{(r.length==0||r[0]==null||r[0]=="")&&i.push(...ss(o,"","",{return:Br.ARRAY})),r.forEach((a,l)=>{switch(gf(a)){case lt.NONE:i.push(...oo(o,"",e));break;case lt.STRING:i.push(...oo(o,a,e));break;case lt.ARRAY:i.push(...ff(o,a,e));break;case lt.OBJECT:i.push(...pf(o,a,e));break}})}),ei({classes:Ja(i),settings:e})},xs={ARRAY:"array",STRING:"string",AUTO:"auto"},Ya=(t,e,s)=>{const r=(t==null?void 0:t.show)!==void 0?t==null?void 0:t.show:lf(s.show)?s.show:!0;let n={element:s.element,modifier:s.modifier,show:r};if((Pe(t)||Nr(t))&&Pe(e))n={element:t,modifier:e,show:r};else if(_r(t)){const i=t;n={element:i.element,modifier:i.modifier,show:r}}return n},Qa=t=>{let e=Tt({modifier:"--",element:"__"},t.prefix);return zs(Tt({toKebabCase:!0,return:xs.AUTO,includeBaseClass:!1},t),{prefix:e})},ei=t=>{const e=Array.from(new Set(t.classes.filter(s=>s!=="")));switch(t.settings.return){case xs.STRING:return e.join(" ");case xs.ARRAY:return e;default:case xs.AUTO:return e.length==1?e[0]:e}},ar=(t,e)=>(e.toKebabCase&&(t=nf(t)),t),vf=t=>t.element==null||t.element==""||t.element.length==0?ar(t.block,t.settings):Ms(t.element).map(e=>{var s;return`${ar(t.block,t.settings)}${(s=t.settings.prefix)==null?void 0:s.element}${ar(e,t.settings)}`}).join(" "),lr=t=>{var e;return t.modifier==null||t.modifier==""?t.elementClass:`${t.elementClass}${(e=t.settings.prefix)==null?void 0:e.modifier}${ar(t.modifier,t.settings)}`},_f=t=>{const e=[];return t.modifier.forEach(s=>{e.push(lr({elementClass:t.elementClass,modifier:s,settings:t.settings}))}),e},yf=t=>{const e=[];return Object.keys(t.modifier).forEach(s=>{const r=!!t.modifier[s];if(!s.includes("|"))e.push(lr({elementClass:t.elementClass,modifier:r?s:null,settings:t.settings}));else if(of(t.modifier[s])){const n=t.modifier[s],o=s.split("|")[n]||"";e.push(lr({elementClass:t.elementClass,modifier:o,settings:t.settings}))}else{const n=s.split("|")[0],i=s.split("|")[1];e.push(lr({elementClass:t.elementClass,modifier:r?n:i,settings:t.settings}))}}),e},ss=(t,e="",s="",r)=>{if(t=="")return[];const{modifier:n}=Ya(e,s,{element:e,modifier:s}),i=Qa(r),o=[];return Ms(e).forEach(a=>{const l=vf({block:t,element:a,settings:i});switch(i.includeBaseClass&&o.push(l),!0){case Pe(n):case ts(n):o.push(..._f({elementClass:l,modifier:Ms(n),settings:i}));break;case Zn(n):o.push(...yf({elementClass:l,modifier:n,settings:i}));break;default:o.push(l)}}),ei({classes:o,settings:i})},bf=(t,e={})=>{const s=(n="",i="",o=e)=>{const a=Qa(Tt(Tt({},e),o));if(Pe(n)&&ts(n)&&n!==null&&!af(n==null?void 0:n.show))return"";let l=[];const{element:u,modifier:c,show:d}=Ya(n,i,{element:_r(n)?n.element:n,modifier:_r(n)?n.modifier:i});switch(!0){case Pe(t):l=ss(t,u,c,zs(Tt({},a),{return:xs.ARRAY}));break;case ts(t):l=Ms(t).flatMap(p=>Ms(n).map(g=>ss(p,g,i,a)).flat()).flat();break}return d?ei({classes:l,settings:a}):""},r=s;return r.bemm=s,r.classes=mf(t,e),r};const os=t=>{const e=bf(t);return{bem:(n,i)=>{if(!n&&!i)return e();if(n&&!i)return e(n);if(typeof i=="string")return e(n,i);if(Array.isArray(i)){const o=n?e(n):e(),a=i.map(l=>e(n,l));return[o,...a].join(" ")}return e(n)},bemClass:(n,i)=>{if(!i)return n?e(n):e();const o={};return Object.entries(i).forEach(([a,l])=>{o[a]=l}),e(n,o)},bemm:e}},wf=["aria-label","aria-hidden","innerHTML"],Sf=ht({__name:"TIcon",props:{name:{},size:{default:"medium"},color:{},ariaLabel:{},ariaHidden:{type:Boolean,default:!0}},setup(t){const e=async l=>`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
    <text x="12" y="16" text-anchor="middle" font-size="12" fill="currentColor">${l.charAt(0).toUpperCase()}</text>
  </svg>`,s=t,{bemClass:r}=os("icon"),n=Q("");Dt(()=>s.name,async l=>{try{const u=await e(l);n.value=u||""}catch(u){console.warn(`Failed to load icon: ${l}`,u),n.value=""}},{immediate:!0});const o=se(()=>{const l=typeof s.size=="string"&&["small","medium","large"].includes(s.size)?s.size:"custom";return r(void 0,{[l]:!0})}),a=se(()=>{const l={};return typeof s.size=="string"&&!["small","medium","large"].includes(s.size)&&(l.fontSize=s.size,l.width=s.size,l.height=s.size),s.color&&(l.color=s.color),l});return(l,u)=>(z(),ne("span",{class:L(o.value),style:Bs(a.value),role:"img","aria-label":l.ariaLabel,"aria-hidden":l.ariaHidden,innerHTML:n.value},null,14,wf))}}),At=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Ze=At(Sf,[["__scopeId","data-v-3714a172"]]),Tf={key:1,class:"button__label"},Ef={key:3,class:"button__spinner","aria-hidden":"true"},kf=ht({__name:"TButton",props:{action:{},onLongPress:{},longPressTime:{default:500},type:{default:"default"},size:{default:"medium"},color:{default:"primary"},status:{default:"idle"},label:{},icon:{},iconPosition:{default:"left"},disabled:{type:Boolean},loading:{type:Boolean},vibrate:{type:Boolean,default:!0},htmlType:{default:"button"},to:{},ariaLabel:{},ariaDescribedBy:{}},emits:["click","longPress"],setup(t,{emit:e}){const s=t,r=e,{bemClass:n}=os("button"),i=rs({isPressed:!1,timer:null,startTime:0}),o=se(()=>s.to?"router-link":"button"),a=dc(),l=se(()=>!!(s.label||a.default)),u=se(()=>s.icon&&s.iconPosition==="left"),c=se(()=>s.icon&&s.iconPosition==="right"),d=se(()=>s.status==="success"?"check":s.status==="error"?"x":s.icon||""),p=se(()=>s.status==="success"?"check":s.status==="error"?"x":s.icon||""),g=se(()=>({small:"small",medium:"medium",large:"large"})[s.size]),m=se(()=>n(void 0,{[s.type]:!0,[s.size]:!0,[s.color]:!0,[s.status]:!0,disabled:s.disabled,loading:s.loading,"has-icon":!!s.icon,"icon-only":!!s.icon&&!l.value,"is-pressed":i.isPressed})),v=b=>{var S;s.disabled||s.loading||(r("click",b),(S=s.action)==null||S.call(s))},w=b=>{s.disabled||s.loading||!s.onLongPress||(i.isPressed=!0,i.startTime=Date.now(),i.timer=window.setTimeout(()=>{var S;i.isPressed&&(s.vibrate&&"vibrate"in navigator&&navigator.vibrate(50),r("longPress"),(S=s.onLongPress)==null||S.call(s))},s.longPressTime))},_=()=>{i.isPressed=!1,i.timer&&(clearTimeout(i.timer),i.timer=null)},P=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),v(b))};return Rs(()=>{i.timer&&clearTimeout(i.timer)}),(b,S)=>(z(),Ve(ac(o.value),{class:L(m.value),disabled:b.disabled||b.loading,type:o.value==="button"?b.htmlType:void 0,to:o.value==="router-link"?b.to:void 0,"aria-label":b.ariaLabel||b.label,"aria-describedby":b.ariaDescribedBy,"aria-pressed":b.status==="success"?"true":void 0,onClick:v,onPointerdown:w,onPointerup:_,onPointerleave:_,onKeydown:P},{default:Bn(()=>[u.value?(z(),Ve(Ze,{key:0,name:d.value,size:g.value,class:"button__icon button__icon--left","aria-hidden":"true"},null,8,["name","size"])):ve("",!0),l.value?(z(),ne("span",Tf,[Wo(b.$slots,"default",{},()=>[Wn(Be(b.label),1)],!0)])):ve("",!0),c.value?(z(),Ve(Ze,{key:2,name:p.value,size:g.value,class:"button__icon button__icon--right","aria-hidden":"true"},null,8,["name","size"])):ve("",!0),b.loading?(z(),ne("div",Ef,[J(Ze,{name:"loader",size:g.value},null,8,["size"])])):ve("",!0)]),_:3},40,["class","disabled","type","to","aria-label","aria-describedby","aria-pressed"]))}}),je=At(kf,[["__scopeId","data-v-558962aa"]]),Af=["for"],Of=["id","type","value","placeholder","disabled","readonly","min","max","step","aria-label","aria-describedby","aria-invalid"],xf=["disabled"],Pf=["disabled"],Cf=["id"],If=ht({__name:"TInput",props:{modelValue:{},type:{default:"text"},label:{},placeholder:{},description:{},error:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},size:{default:"medium"},prefixIcon:{},suffixIcon:{},showSpinners:{type:Boolean,default:!0},min:{},max:{},step:{},ariaLabel:{}},emits:["update:modelValue","focus","blur","enter"],setup(t,{emit:e}){const s=t,r=e,{bemClass:n,bem:i}=os("input"),o=se(()=>`input-${Math.random().toString(36).substr(2,9)}`),a=se(()=>`${o.value}-description`),l=Q(!1),u=se(()=>!!s.error),c=se(()=>n(void 0,{[s.size]:!0,focused:l.value,disabled:s.disabled,readonly:s.readonly,error:u.value,"has-prefix":!!s.prefixIcon,"has-suffix":!!s.suffixIcon,"has-spinners":s.type==="number"&&s.showSpinners})),d=_=>{const P=_.target;let b=P.value;s.type==="number"&&(b=P.value===""?"":Number(P.value)),r("update:modelValue",b)},p=_=>{l.value=!0,r("focus",_)},g=_=>{l.value=!1,r("blur",_)},m=_=>{_.key==="Enter"&&r("enter",_)},v=()=>{if(s.disabled||s.readonly)return;const _=Number(s.modelValue)||0,P=s.step||1,b=_+P;(s.max===void 0||b<=s.max)&&r("update:modelValue",b)},w=()=>{if(s.disabled||s.readonly)return;const _=Number(s.modelValue)||0,P=s.step||1,b=_-P;(s.min===void 0||b>=s.min)&&r("update:modelValue",b)};return(_,P)=>(z(),ne("div",{class:L(c.value)},[_.label?(z(),ne("label",{key:0,for:o.value,class:L(C(n)("label"))},[Wn(Be(_.label)+" ",1),_.required?(z(),ne("span",{key:0,class:L(C(n)("required"))},"*",2)):ve("",!0)],10,Af)):ve("",!0),D("div",{class:L(C(n)("wrapper"))},[_.prefixIcon?(z(),Ve(Ze,{key:0,name:_.prefixIcon,class:L(`${C(i)("icon")} ${C(i)("icon","prefix")}`)},null,8,["name","class"])):ve("",!0),D("input",{id:o.value,class:L(C(i)("field")),type:_.type,value:_.modelValue,placeholder:_.placeholder,disabled:_.disabled,readonly:_.readonly,min:_.min,max:_.max,step:_.step,"aria-label":_.ariaLabel||_.label,"aria-describedby":a.value,"aria-invalid":u.value,onInput:d,onFocus:p,onBlur:g,onKeydown:m},null,42,Of),_.suffixIcon?(z(),Ve(Ze,{key:1,name:_.suffixIcon,class:L(`${C(i)("icon")} ${C(i)("icon","suffix")}`)},null,8,["name","class"])):ve("",!0),_.type==="number"&&_.showSpinners?(z(),ne("div",{key:2,class:L(C(i)("spinners"))},[D("button",{type:"button",class:L(`${C(i)("spinner")} ${C(i)("spinner","up")}`),onClick:v,disabled:_.disabled||_.max!==void 0&&Number(_.modelValue)>=_.max,"aria-label":"Increase value"},[J(Ze,{name:"chevron-up",size:"small"})],10,xf),D("button",{type:"button",class:L(`${C(i)("spinner")} ${C(i)("spinner","down")}`),onClick:w,disabled:_.disabled||_.min!==void 0&&Number(_.modelValue)<=_.min,"aria-label":"Decrease value"},[J(Ze,{name:"chevron-down",size:"small"})],10,Pf)],2)):ve("",!0)],2),_.description||u.value?(z(),ne("div",{key:1,id:a.value,class:L(C(n)("description"))},[u.value?(z(),ne("span",{key:0,class:L(C(n)("error"))},Be(_.error),3)):_.description?(z(),ne("span",{key:1,class:L(C(n)("help"))},Be(_.description),3)):ve("",!0)],10,Cf)):ve("",!0)],2))}}),Ps=At(If,[["__scopeId","data-v-ad474a52"]]),$f=ht({__name:"TLoginForm",props:{isLoading:{type:Boolean,default:!1},error:{default:null}},emits:["appleSignIn","emailSignIn","emailSignUp","clearError"],setup(t,{expose:e,emit:s}){const r=s,{bemClass:n}=os("login-form"),i=Q(""),o=Q(""),a=Q(""),l=Q(!1),u=Q(!0),c=Q(""),d=Q(""),p=Q(""),g=se(()=>l.value?(u.value,!!i.value&&!!o.value):!!i.value),m=se(()=>l.value?u.value?"Signing in...":"Creating account...":"Checking account..."),v=()=>{r("appleSignIn")},w=()=>{i.value&&(c.value="",l.value=!0)},_=()=>{g.value&&(c.value="",d.value="",u.value?r("emailSignIn",i.value,o.value):r("emailSignUp",i.value,o.value,a.value||void 0))},P=()=>{u.value=!u.value,d.value="",p.value=""},b=()=>{r("clearError")};return e({resetForm:()=>{i.value="",o.value="",a.value="",l.value=!1,u.value=!0,c.value="",d.value="",p.value=""}}),(R,H)=>(z(),ne("div",{class:L(C(n)())},[D("div",{class:L(C(n)("header"))},[D("h1",{class:L(C(n)("title"))},"Welcome to Tiko",2),D("p",{class:L(C(n)("subtitle"))},"Sign in to access your communication apps",2)],2),D("div",{class:L(C(n)("methods"))},[J(je,{label:"Continue with Apple",icon:"apple",type:"fancy",color:"primary",size:"large",action:v,disabled:R.isLoading,class:L(C(n)("apple-button"))},null,8,["disabled","class"]),D("div",{class:L(C(n)("divider"))},[D("span",{class:L(C(n)("divider-text"))},"or",2)],2),D("form",{class:L(C(n)("form")),onSubmit:Eu(_,["prevent"])},[J(Ps,{modelValue:i.value,"onUpdate:modelValue":H[0]||(H[0]=B=>i.value=B),type:"email",label:"Email",placeholder:"Enter your email",error:c.value,disabled:R.isLoading,required:"",class:L(C(n)("email-input"))},null,8,["modelValue","error","disabled","class"]),l.value?(z(),Ve(Ps,{key:0,modelValue:o.value,"onUpdate:modelValue":H[1]||(H[1]=B=>o.value=B),type:"password",label:"Password",placeholder:"Enter your password",error:d.value,disabled:R.isLoading,required:u.value,class:L(C(n)("password-input"))},null,8,["modelValue","error","disabled","required","class"])):ve("",!0),l.value?(z(),ne("div",{key:1,class:L(C(n)("form-actions"))},[J(je,{label:u.value?"Sign In":"Create Account",type:"fancy",color:"success",size:"large",action:_,disabled:!g.value||R.isLoading,class:L(C(n)("submit-button"))},null,8,["label","disabled","class"]),J(je,{label:u.value?"Need an account?":"Already have an account?",type:"ghost",color:"secondary",size:"medium",action:P,disabled:R.isLoading,class:L(C(n)("toggle-button"))},null,8,["label","disabled","class"])],2)):(z(),ne("div",{key:2,class:L(C(n)("form-actions"))},[J(Ps,{modelValue:a.value,"onUpdate:modelValue":H[2]||(H[2]=B=>a.value=B),type:"text",label:"Full Name (Optional)",placeholder:"Enter your full name",disabled:R.isLoading,class:L(C(n)("name-input"))},null,8,["modelValue","disabled","class"]),J(je,{label:"Continue with Email",type:"fancy",color:"success",size:"large",action:w,disabled:!i.value||R.isLoading,class:L(C(n)("continue-button"))},null,8,["disabled","class"])],2))],34)],2),R.isLoading?(z(),ne("div",{key:0,class:L(C(n)("loading"))},[D("div",{class:L(C(n)("loading-spinner"))},null,2),D("p",{class:L(C(n)("loading-text"))},Be(m.value),3)],2)):ve("",!0),R.error?(z(),ne("div",{key:1,class:L(C(n)("error"))},[J(Ze,{name:"alert-circle",class:L(C(n)("error-icon"))},null,8,["class"]),D("p",{class:L(C(n)("error-message"))},Be(R.error),3),J(je,{label:"Try Again",type:"ghost",color:"error",size:"small",action:b,class:L(C(n)("error-button"))},null,8,["class"])],2)):ve("",!0),p.value?(z(),ne("div",{key:2,class:L(C(n)("success"))},[J(Ze,{name:"check-circle",class:L(C(n)("success-icon"))},null,8,["class"]),D("p",{class:L(C(n)("success-message"))},Be(p.value),3)],2)):ve("",!0)],2))}}),jf=At($f,[["__scopeId","data-v-c9b46457"]]),Rf=ht({__name:"TAuthWrapper",setup(t){const{bemClass:e}=os("auth-wrapper"),s=za(),r=Q(!0),n=Q(!1),i=Q(null),o=se(()=>s.isAuthenticated),a=async()=>{n.value=!0,i.value=null;try{await s.signInWithApple()}catch(d){i.value=d instanceof Error?d.message:"Apple Sign-In failed"}finally{n.value=!1}},l=async(d,p)=>{n.value=!0,i.value=null;try{await s.signInWithEmail(d,p)}catch(g){i.value=g instanceof Error?g.message:"Sign-in failed"}finally{n.value=!1}},u=async(d,p,g)=>{n.value=!0,i.value=null;try{await s.signUpWithEmail(d,p,g),i.value=null,i.value="Check your email to confirm your account"}catch(m){i.value=m instanceof Error?m.message:"Sign-up failed"}finally{n.value=!1}},c=()=>{i.value=null};return js(async()=>{try{s.setupAuthListener(),await s.initializeFromStorage()}catch(d){console.error("Failed to initialize auth:",d)}finally{r.value=!1}}),(d,p)=>(z(),ne("div",{class:L(C(e)())},[r.value?(z(),ne("div",{key:0,class:L(C(e)("loading"))},[D("div",{class:L(C(e)("loading-content"))},[D("div",{class:L(C(e)("loading-spinner"))},null,2),D("h2",{class:L(C(e)("loading-title"))},"Loading Tiko...",2),D("p",{class:L(C(e)("loading-subtitle"))},"Preparing your communication apps",2)],2)],2)):o.value?(z(),ne("div",{key:2,class:L(C(e)("app"))},[Wo(d.$slots,"default",{},void 0)],2)):(z(),ne("div",{key:1,class:L(C(e)("login"))},[D("div",{class:L(C(e)("login-background"))},[D("div",{class:L(C(e)("login-content"))},[J(jf,{"is-loading":n.value,error:i.value,onAppleSignIn:a,onEmailSignIn:l,onEmailSignUp:u,onClearError:c},null,8,["is-loading","error"])],2)],2)],2))],2))}}),Lf=At(Rf,[["__scopeId","data-v-43b7bd7b"]]),Uf=Kn("timer",()=>{const t=Ka(),e=Q(0),s=Q(300),r=Q("down"),n=Q(!1),i=Q(!1),o=Q(0),a=Q(0),l={soundEnabled:!0,vibrationEnabled:!0,defaultTime:300},u=se(()=>{const j=t.getAppSettings("timer");return{...l,...j}}),c=se(()=>{const j=r.value==="down"?Math.max(0,s.value-e.value):e.value,Z=Math.floor(j/60),ue=j%60;return`${Z.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`}),d=se(()=>{if(r.value==="down")return s.value>0?e.value/s.value*100:0;{const j=Math.max(s.value,3600);return e.value/j*100}}),p=se(()=>r.value==="down"&&e.value>=s.value);let g=null;const m=()=>{n.value||(n.value=!0,i.value=!1,o.value=performance.now()-a.value*1e3,g=window.setInterval(()=>{const j=Math.floor((performance.now()-o.value)/1e3);e.value=a.value+j,r.value==="down"&&e.value>=s.value&&(e.value=s.value,_())},100))},v=()=>{n.value&&(n.value=!1,a.value=e.value,g&&(clearInterval(g),g=null))},w=()=>{v(),e.value=0,a.value=0,i.value=!1},_=()=>{v(),i.value=!0,u.value.soundEnabled&&P(),u.value.vibrationEnabled&&"vibrate"in navigator&&navigator.vibrate([200,100,200,100,200])},P=()=>{try{const j=new(window.AudioContext||window.webkitAudioContext),Z=j.createOscillator(),ue=j.createGain();Z.connect(ue),ue.connect(j.destination),Z.frequency.setValueAtTime(800,j.currentTime),Z.type="sine",ue.gain.setValueAtTime(.3,j.currentTime),ue.gain.exponentialRampToValueAtTime(.01,j.currentTime+1),Z.start(j.currentTime),Z.stop(j.currentTime+1)}catch(j){console.warn("Could not play timer sound:",j)}};return{currentTime:e,targetTime:s,mode:r,isRunning:n,hasExpired:i,settings:u,displayTime:c,progress:d,isExpired:p,start:m,pause:v,reset:w,setTime:(j,Z=0)=>{const ue=j*60+Z;s.value=Math.max(1,ue),w()},setMode:j=>{r.value=j,w()},updateSettings:async j=>{const ue={...u.value,...j};await t.updateAppSettings("timer",ue)},saveState:async()=>{await t.updateAppSettings("timer",{...u.value,targetTime:s.value,mode:r.value})},loadState:async()=>{await t.loadAppSettings("timer");const j=t.getAppSettings("timer");j.targetTime&&(s.value=j.targetTime),j.mode&&(r.value=j.mode)},cleanup:()=>{g&&(clearInterval(g),g=null)}}}),Df={class:"time-display__time"},Mf={class:"time-display__progress"},Nf={class:"time-display__mode"},Bf=ht({__name:"TimeDisplay",props:{displayTime:{},progress:{},mode:{},isExpired:{type:Boolean},isRunning:{type:Boolean}},setup(t){const e=t,{bemClass:s}=os("time-display"),r=se(()=>s(void 0,{expired:e.isExpired,running:e.isRunning,[e.mode]:!0}));return(n,i)=>(z(),ne("div",{class:L(r.value)},[D("div",Df,Be(n.displayTime),1),D("div",Mf,[D("div",{class:"time-display__progress-bar",style:Bs({width:`${Math.min(100,n.progress)}%`})},null,4)]),D("div",Nf,Be(n.mode==="down"?"Count Down":"Count Up"),1)],2))}}),Ff=At(Bf,[["__scopeId","data-v-5f3fb877"]]),Vf={class:"timer-controls"},qf={class:"timer-controls__time-setting"},Hf={class:"timer-controls__time-inputs"},Wf={class:"timer-controls__mode"},zf={class:"timer-controls__buttons"},Kf={class:"timer-controls__quick-times"},Gf={class:"timer-controls__quick-buttons"},Jf=ht({__name:"TimerControls",props:{targetTime:{},mode:{},isRunning:{type:Boolean}},emits:["setTime","setMode","start","pause","reset"],setup(t,{emit:e}){const s=t,r=e,n=Q(0),i=Q(0),o=[{label:"1 min",seconds:60},{label:"5 min",seconds:300},{label:"10 min",seconds:600},{label:"15 min",seconds:900},{label:"30 min",seconds:1800}];Dt(()=>s.targetTime,g=>{n.value=Math.floor(g/60),i.value=g%60},{immediate:!0});const a=()=>{const g=Math.max(0,Math.min(59,Number(n.value)||0)),m=Math.max(0,Math.min(59,Number(i.value)||0));n.value=g,i.value=m,r("setTime",g,m)},l=()=>{r("setMode",s.mode==="down"?"up":"down")},u=()=>{r("start")},c=()=>{r("pause")},d=()=>{r("reset")},p=g=>{const m=Math.floor(g/60),v=g%60;n.value=m,i.value=v,r("setTime",m,v)};return(g,m)=>(z(),ne("div",Vf,[D("div",qf,[m[3]||(m[3]=D("h3",{class:"timer-controls__title"},"Set Time",-1)),D("div",Hf,[J(C(Ps),{modelValue:n.value,"onUpdate:modelValue":[m[0]||(m[0]=v=>n.value=v),a],type:"number",label:"Minutes",min:0,max:59,disabled:g.isRunning,size:"large"},null,8,["modelValue","disabled"]),m[2]||(m[2]=D("span",{class:"timer-controls__separator"},":",-1)),J(C(Ps),{modelValue:i.value,"onUpdate:modelValue":[m[1]||(m[1]=v=>i.value=v),a],type:"number",label:"Seconds",min:0,max:59,disabled:g.isRunning,size:"large"},null,8,["modelValue","disabled"])])]),D("div",Wf,[J(C(je),{label:g.mode==="down"?"Count Down":"Count Up",type:g.mode==="down"?"default":"ghost",color:"primary",icon:g.mode==="down"?"arrow-down":"arrow-up",action:l,disabled:g.isRunning,size:"medium"},null,8,["label","type","icon","disabled"])]),D("div",zf,[g.isRunning?(z(),Ve(C(je),{key:1,label:"Pause",type:"fancy",color:"warning",icon:"pause",action:c,size:"large"})):(z(),Ve(C(je),{key:0,label:"Start",type:"fancy",color:"success",icon:"play",action:u,size:"large",disabled:g.targetTime===0&&g.mode==="down"},null,8,["disabled"])),J(C(je),{label:"Reset",type:"ghost",color:"secondary",icon:"refresh-cw",action:d,size:"large"})]),D("div",Kf,[m[4]||(m[4]=D("h4",{class:"timer-controls__subtitle"},"Quick Times",-1)),D("div",Gf,[(z(),ne($e,null,cc(o,v=>J(C(je),{key:v.seconds,label:v.label,type:"ghost",color:"primary",size:"small",action:()=>p(v.seconds),disabled:g.isRunning},null,8,["label","action","disabled"])),64))])])]))}}),Yf=At(Jf,[["__scopeId","data-v-fd7cc867"]]),Qf={class:"timer-view"},Xf={class:"timer-header"},Zf={class:"timer-main"},ep={key:0,class:"timer-settings"},tp={class:"timer-settings__panel"},sp={class:"timer-settings__group"},rp={class:"timer-settings__checkbox"},np={class:"timer-settings__group"},ip={class:"timer-settings__checkbox"},op={class:"timer-settings__actions"},ap={key:1,class:"timer-expired"},lp={class:"timer-expired__content"},cp={class:"timer-expired__message"},up=ht({__name:"TimerView",setup(t){const e=Uf(),s=Q(!1),r=rs({soundEnabled:!0,vibrationEnabled:!0,defaultTime:300}),{currentTime:n,targetTime:i,mode:o,isRunning:a,hasExpired:l,settings:u,displayTime:c,progress:d,isExpired:p}=Ro(e);Dt(u,B=>{Object.assign(r,B)},{immediate:!0});const g=(B,N)=>{e.setTime(B,N)},m=B=>{e.setMode(B)},v=()=>{e.start()},w=()=>{e.pause()},_=()=>{e.reset()},P=()=>{s.value=!s.value},b=()=>{s.value=!1},S=async()=>{await e.updateSettings(r)},R=()=>{e.reset()};js(async()=>{await e.loadState()}),Rs(()=>{e.cleanup()});const H=B=>{if(!(B.target&&B.target.tagName==="INPUT"))switch(B.key){case" ":B.preventDefault(),a.value?w():v();break;case"r":B.preventDefault(),_();break;case"Escape":s.value?b():p.value&&R();break}};return js(()=>{document.addEventListener("keydown",H)}),Rs(()=>{document.removeEventListener("keydown",H)}),(B,N)=>(z(),ne("div",Qf,[D("header",Xf,[N[2]||(N[2]=D("h1",{class:"timer-header__title"},"Timer",-1)),J(C(je),{icon:"settings",type:"ghost",size:"medium",color:"secondary",action:P,"aria-label":"Settings"})]),D("main",Zf,[J(Ff,{"display-time":C(c),progress:C(d),mode:C(o),"is-expired":C(p),"is-running":C(a)},null,8,["display-time","progress","mode","is-expired","is-running"]),J(Yf,{"target-time":C(i),mode:C(o),"is-running":C(a),onSetTime:g,onSetMode:m,onStart:v,onPause:w,onReset:_},null,8,["target-time","mode","is-running"])]),s.value?(z(),ne("div",ep,[D("div",{class:"timer-settings__backdrop",onClick:b}),D("div",tp,[N[5]||(N[5]=D("h3",{class:"timer-settings__title"},"Timer Settings",-1)),D("div",sp,[D("label",rp,[ui(D("input",{"onUpdate:modelValue":N[0]||(N[0]=j=>r.soundEnabled=j),type:"checkbox",onChange:S},null,544),[[Li,r.soundEnabled]]),N[3]||(N[3]=D("span",null,"Sound notification",-1))])]),D("div",np,[D("label",ip,[ui(D("input",{"onUpdate:modelValue":N[1]||(N[1]=j=>r.vibrationEnabled=j),type:"checkbox",onChange:S},null,544),[[Li,r.vibrationEnabled]]),N[4]||(N[4]=D("span",null,"Vibration notification",-1))])]),D("div",op,[J(C(je),{label:"Close",type:"default",color:"primary",action:b,size:"medium"})])])])):ve("",!0),C(p)?(z(),ne("div",ap,[D("div",lp,[J(C(Ze),{name:"clock",size:"4rem"}),N[6]||(N[6]=D("h2",{class:"timer-expired__title"},"Time's Up!",-1)),D("p",cp,Be(C(o)==="down"?"Your countdown has finished":"Timer notification"),1),J(C(je),{label:"Dismiss",type:"fancy",color:"primary",action:R,size:"large"})])])):ve("",!0)]))}}),dp=At(up,[["__scopeId","data-v-44e4b5a4"]]),hp={id:"app"},fp=ht({__name:"App",setup(t){const e=Ka();return js(()=>{e.initializeNetworkMonitoring()}),(s,r)=>(z(),ne("div",hp,[J(C(Lf),null,{default:Bn(()=>[J(dp)]),_:1})]))}}),Xa=Ou(fp);Xa.use(Cu());Xa.mount("#app");
